<?xml version="1.0" standalone="no"?>
<BizDataObj Name="MessageDO" Description="" Class="BizDataObj" DBName="Default" Table="message" SearchRule="" SortRule="" OtherSQLRule="" Uniqueness="" Stateless="N" IdGeneration="Identity" CacheLifeTime="0" CreateCondition="collab_msgbox.access" UpdateCondition="collab_msgbox.access" DeleteCondition="collab_msgbox.access">
	<BizFieldList>
        <BizField Name="Id" Column="id"     Type="Number"/>
        <BizField Name="subject" Column="subject" Length="255"   Required="N" Type="Text"/>
        <BizField Name="content" Column="content"    Required="N" Type="Text"/>
        <BizField Name="send_status" Column="send_status"    Required="Y" Type="Text"/>
        <BizField Name="deleted_flag" Column="deleted_flag"  Type="Text"/>
		<BizField Name="create_by" Column="create_by" Type="Number" ValueOnCreate="{@profile:Id}"/>
		<BizField Name="create_time" Column="create_time"  Type="Datetime" ValueOnCreate="{date('Y-m-d H:i:s')}"/>
		<BizField Name="update_by" Column="update_by" Type="Number" ValueOnCreate="{@profile:Id}" ValueOnUpdate="{@profile:Id}"/>		
		<BizField Name="update_time" Column="update_time" Type="Datetime" ValueOnCreate="{date('Y-m-d H:i:s')}" ValueOnUpdate="{date('Y-m-d H:i:s')}"/>
	</BizFieldList>
    <TableJoins>
    </TableJoins>
    <ObjReferences>
        <Object Name="attachment.do.AttachmentDO" Description="" Relationship="1-M" Table="attachment" CondColumn='type' CondValue='message' Column="foreign_id" FieldRef="Id" />
        <Object Name="collab.msgbox.do.MessageReadLogDO" Description="" Relationship="1-M" Table="message_read_log"   Column="message_id" FieldRef="Id" />
        <Object Name="collab.msgbox.do.RecipientDO" 	Description="" Relationship="1-M" Table="message_recipient"   Column="message_id" FieldRef="Id" CondColumn='type' CondValue='Recipient' />
        <Object Name="collab.msgbox.do.RecipientCCDO" 	Description="" Relationship="1-M" Table="message_recipient"   Column="message_id" FieldRef="Id" CondColumn='type' CondValue='CC' />
        <Object Name="collab.msgbox.do.RecipientBCCDO" 	Description="" Relationship="1-M" Table="message_recipient"   Column="message_id" FieldRef="Id" CondColumn='type' CondValue='BCC' />        
    </ObjReferences>
</BizDataObj>