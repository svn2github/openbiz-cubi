<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>openbiz: ZendX_Console_Process_Unix Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<h1>ZendX_Console_Process_Unix Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ZendX_Console_Process_Unix" --><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#a71e9a0d23a55d833a0ee6e3bae47067a">__construct</a> ($puid=null, $guid=null, $umask=null)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#a421831a265621325e1fdd19aace0c758">__destruct</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#af8fa59992209e36dccb3eefb0f75531f">start</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#a8b6fc76a620d7557d06e9a11a9ffb509">stop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#ad7e54aa55e82e9be1428d9fa8eb559a5">isRunning</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#a67a83b12fcbef7b7afb6be9f2189ef97">setVariable</a> ($name, $value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#ac371a1b087c0bb8e1fb84777ad8aa275">getVariable</a> ($name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#a12a92954c09204bfca764fc979bed21a">getLastAlive</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#a77c9ce8189c6f6efc037d75e4faf73ba">getPid</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#af7b433fbf6e0373114ce0ff390d363bf">VOID_METHOD</a> = 'void_method'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#ab1262e9545d58ddcde485e0146ba0748">RETURN_METHOD</a> = 'void_method'</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#a28017ee592102a0170d19d129274e533">_setAlive</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#ac83f8999c596ee66ef1499660a72db12">_callCallbackMethod</a> ($methodName, array $argList=array(), $type=self::VOID_METHOD)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zend_x___console___process___unix.html#ac615f1c24391a6eb5345c4d17a877bf8">_run</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00031">31</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a71e9a0d23a55d833a0ee6e3bae47067a"></a><!-- doxytag: member="ZendX_Console_Process_Unix::__construct" ref="a71e9a0d23a55d833a0ee6e3bae47067a" args="($puid=null, $guid=null, $umask=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"> <em>puid</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"> <em>guid</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"> <em>umask</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor method</p>
<p>Allocates a new pseudo-thread object. Optionally, set a PUID, a GUID and a UMASK for the child process. This also initialize Shared Memory Segments for process communications.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$puid</td><td></td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$guid</td><td></td></tr>
    <tr><td class="paramtype">integer</td><td class="paramname">$umask</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_zend_x___console___process___exception.html">ZendX_Console_Process_Exception</a></td><td>When running on windows </td></tr>
    <tr><td class="paramname"><a class="el" href="class_zend_x___console___process___exception.html">ZendX_Console_Process_Exception</a></td><td>When running in web enviroment </td></tr>
    <tr><td class="paramname"><a class="el" href="class_zend_x___console___process___exception.html">ZendX_Console_Process_Exception</a></td><td>When shmop_* functions don't exist </td></tr>
    <tr><td class="paramname"><a class="el" href="class_zend_x___console___process___exception.html">ZendX_Console_Process_Exception</a></td><td>When pcntl_* functions don't exist </td></tr>
    <tr><td class="paramname"><a class="el" href="class_zend_x___console___process___exception.html">ZendX_Console_Process_Exception</a></td><td>When posix_* functions don't exist </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00144">144</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="a421831a265621325e1fdd19aace0c758"></a><!-- doxytag: member="ZendX_Console_Process_Unix::__destruct" ref="a421831a265621325e1fdd19aace0c758" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__destruct </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stop the child on destruction </p>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00186">186</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac83f8999c596ee66ef1499660a72db12"></a><!-- doxytag: member="ZendX_Console_Process_Unix::_callCallbackMethod" ref="ac83f8999c596ee66ef1499660a72db12" args="($methodName, array $argList=array(), $type=self::VOID_METHOD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_callCallbackMethod </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"> <em>methodName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"> <em>argList</em> = <code>array()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"> <em>type</em> = <code>self::VOID_METHOD</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is called from within the parent; all the communication stuff is done here.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$methodName</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$argList</td><td></td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00385">385</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac615f1c24391a6eb5345c4d17a877bf8"></a><!-- doxytag: member="ZendX_Console_Process_Unix::_run" ref="ac615f1c24391a6eb5345c4d17a877bf8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_run </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [abstract, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method actually implements the pseudo-thread logic.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a28017ee592102a0170d19d129274e533"></a><!-- doxytag: member="ZendX_Console_Process_Unix::_setAlive" ref="a28017ee592102a0170d19d129274e533" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_setAlive </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set a pseudo-thread property that can be read from parent process in order to know the child activity.</p>
<p>Practical usage requires that child process calls this method at regular time intervals; parent will use the <a class="el" href="class_zend_x___console___process___unix.html#a12a92954c09204bfca764fc979bed21a">getLastAlive()</a> method to know the elapsed time since the last pseudo-thread life signals...</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00370">370</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="a12a92954c09204bfca764fc979bed21a"></a><!-- doxytag: member="ZendX_Console_Process_Unix::getLastAlive" ref="a12a92954c09204bfca764fc979bed21a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLastAlive </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read the time elapsed since the last child setAlive() call.</p>
<p>This method is useful because often we have a pseudo-thread pool and we need to know each pseudo-thread status. If the child executes the setAlive() method, the parent with <a class="el" href="class_zend_x___console___process___unix.html#a12a92954c09204bfca764fc979bed21a">getLastAlive()</a> can know that child is alive.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00343">343</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="a77c9ce8189c6f6efc037d75e4faf73ba"></a><!-- doxytag: member="ZendX_Console_Process_Unix::getPid" ref="a77c9ce8189c6f6efc037d75e4faf73ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPid </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the PID of the current pseudo-thread.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00355">355</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac371a1b087c0bb8e1fb84777ad8aa275"></a><!-- doxytag: member="ZendX_Console_Process_Unix::getVariable" ref="ac371a1b087c0bb8e1fb84777ad8aa275" args="($name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getVariable </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"> <em>name</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a variable from the shared memory segment. Returns NULL if the variable doesn't exist.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00322">322</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="ad7e54aa55e82e9be1428d9fa8eb559a5"></a><!-- doxytag: member="ZendX_Console_Process_Unix::isRunning" ref="ad7e54aa55e82e9be1428d9fa8eb559a5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">isRunning </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Test if the pseudo-thread is already started.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00290">290</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="a67a83b12fcbef7b7afb6be9f2189ef97"></a><!-- doxytag: member="ZendX_Console_Process_Unix::setVariable" ref="a67a83b12fcbef7b7afb6be9f2189ef97" args="($name, $value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setVariable </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"> <em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set a variable into the shared memory segment, so that it can accessed both from the parent and from the child process. Variable names beginning with underlines are only permitted to interal functions.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td></td></tr>
    <tr><td class="paramtype">mixed</td><td class="paramname">$value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_zend_x___console___process___exception.html">ZendX_Console_Process_Exception</a></td><td>When an invalid variable name is supplied </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00305">305</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="af8fa59992209e36dccb3eefb0f75531f"></a><!-- doxytag: member="ZendX_Console_Process_Unix::start" ref="af8fa59992209e36dccb3eefb0f75531f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">start </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Causes this pseudo-thread to begin parallel execution.</p>
<p>This method first checks of all the Shared Memory Segment. If okay, it forks the child process, attaches signal handler and returns immediatly. The status is set to running, and a PID is assigned. The result is that two pseudo-threads are running concurrently: the current thread (which returns from the call to the <a class="el" href="class_zend_x___console___process___unix.html#af8fa59992209e36dccb3eefb0f75531f">start()</a> method) and the other thread (which executes its run() method).</p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_zend_x___console___process___exception.html">ZendX_Console_Process_Exception</a></td><td>When SHM segments can't be created </td></tr>
    <tr><td class="paramname"><a class="el" href="class_zend_x___console___process___exception.html">ZendX_Console_Process_Exception</a></td><td>When process forking fails </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00207">207</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8b6fc76a620d7557d06e9a11a9ffb509"></a><!-- doxytag: member="ZendX_Console_Process_Unix::stop" ref="a8b6fc76a620d7557d06e9a11a9ffb509" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stop </td>
          <td>(</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Causes the current thread to die.</p>
<p>The relative process is killed and disappears immediately from the processes list.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00269">269</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ab1262e9545d58ddcde485e0146ba0748"></a><!-- doxytag: member="ZendX_Console_Process_Unix::RETURN_METHOD" ref="ab1262e9545d58ddcde485e0146ba0748" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_zend_x___console___process___unix.html#ab1262e9545d58ddcde485e0146ba0748">RETURN_METHOD</a> = 'void_method'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return method </p>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00041">41</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<a class="anchor" id="af7b433fbf6e0373114ce0ff390d363bf"></a><!-- doxytag: member="ZendX_Console_Process_Unix::VOID_METHOD" ref="af7b433fbf6e0373114ce0ff390d363bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_zend_x___console___process___unix.html#af7b433fbf6e0373114ce0ff390d363bf">VOID_METHOD</a> = 'void_method'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Void method </p>

<p>Definition at line <a class="el" href="_unix_8php_source.html#l00036">36</a> of file <a class="el" href="_unix_8php_source.html">Unix.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/E/GEAMP/www/openbiz/openbiz/others/ZendX/Console/Process/<a class="el" href="_unix_8php_source.html">Unix.php</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 19 2012 17:01:34 for openbiz by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
