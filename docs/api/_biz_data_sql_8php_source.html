<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>openbiz: E:/E/GEAMP/www/openbiz/openbiz/bin/data/BizDataSql.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>E:/E/GEAMP/www/openbiz/openbiz/bin/data/BizDataSql.php</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?<a class="code" href="category_p_h_p.html">PHP</a>
<a name="l00024"></a><a class="code" href="class_biz_data_sql.html">00024</a> <span class="keyword">class </span><a class="code" href="class_biz_data_sql.html">BizDataSql</a>
<a name="l00025"></a>00025 {
<a name="l00026"></a>00026     <span class="keyword">protected</span> $_tableColumns = null;
<a name="l00027"></a>00027     <span class="keyword">protected</span> $_tableJoins = null;
<a name="l00028"></a>00028     <span class="keyword">protected</span> $_joinAliasList = array();
<a name="l00029"></a>00029     <span class="keyword">protected</span> $_tableAliasList = array();
<a name="l00030"></a>00030     <span class="keyword">protected</span> $_sqlWhere = null;
<a name="l00031"></a>00031     <span class="keyword">protected</span> $_orderBy = null;
<a name="l00032"></a>00032     <span class="keyword">protected</span> $_otherSQL = null;
<a name="l00033"></a>00033     <span class="keyword">protected</span> $_aliasIndex = 0;
<a name="l00034"></a>00034     <span class="keyword">protected</span> $_mainTable;
<a name="l00035"></a>00035 
<a name="l00036"></a>00036     <span class="keyword">public</span> function __construct()
<a name="l00037"></a>00037     {
<a name="l00038"></a>00038     }
<a name="l00039"></a>00039 
<a name="l00046"></a><a class="code" href="class_biz_data_sql.html#a110ac4e7f1f9ef6c21b163976c44c1fe">00046</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#a110ac4e7f1f9ef6c21b163976c44c1fe">addMainTable</a>($mainTable)
<a name="l00047"></a>00047     {
<a name="l00048"></a>00048         $this-&gt;_mainTable = <span class="stringliteral">&quot;$mainTable&quot;</span>;
<a name="l00049"></a>00049         $this-&gt;_tableJoins = <span class="stringliteral">&quot; `$mainTable` T0 &quot;</span>;
<a name="l00050"></a>00050     }
<a name="l00051"></a>00051 
<a name="l00065"></a><a class="code" href="class_biz_data_sql.html#ae9df6e670cbb8a2fcb7f6f076e33a61e">00065</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#ae9df6e670cbb8a2fcb7f6f076e33a61e">addJoinTable</a>($tableJoin)
<a name="l00066"></a>00066     {
<a name="l00067"></a>00067         $table = $tableJoin-&gt;m_Table;
<a name="l00068"></a>00068         $joinType = $tableJoin-&gt;m_JoinType;
<a name="l00069"></a>00069         $column = $tableJoin-&gt;m_Column;
<a name="l00070"></a>00070         $joinRef = $tableJoin-&gt;m_JoinRef;
<a name="l00071"></a>00071         $columnRef = $tableJoin-&gt;m_ColumnRef;
<a name="l00072"></a>00072 
<a name="l00073"></a>00073         $alias = <span class="stringliteral">&quot;T&quot;</span>.(count($this-&gt;_joinAliasList)+1);   <span class="comment">// start with T1, T2</span>
<a name="l00074"></a>00074         $this-&gt;_joinAliasList[$tableJoin-&gt;m_Name] = $alias;
<a name="l00075"></a>00075         $this-&gt;_tableAliasList[$table] = $alias;
<a name="l00076"></a>00076         $aliasRef = $this-&gt;<a class="code" href="class_biz_data_sql.html#a9fd67124677a7562e8a6e467d6a76b44">getJoinAlias</a>($joinRef);
<a name="l00077"></a>00077         $this-&gt;_tableJoins .= <span class="stringliteral">&quot; $joinType `$table` $alias ON $alias.$column = $aliasRef.$columnRef &quot;</span>;
<a name="l00078"></a>00078     }
<a name="l00079"></a>00079 
<a name="l00087"></a><a class="code" href="class_biz_data_sql.html#a15ed9d48a89ecf52ef8bb4ff82a70ad9">00087</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#a15ed9d48a89ecf52ef8bb4ff82a70ad9">addTableColumn</a>($join, $column, $alias=null)
<a name="l00088"></a>00088     {
<a name="l00089"></a>00089         $tcol = $this-&gt;<a class="code" href="class_biz_data_sql.html#a2ffb420f93014db5ffcd6c1256a3ab80">getTableColumn</a>($join, $column);
<a name="l00090"></a>00090         <span class="keywordflow">if</span> ($alias) $tcol .= <span class="stringliteral">&quot; AS &quot;</span>.$alias;
<a name="l00091"></a>00091         <span class="keywordflow">if</span> (!$this-&gt;_tableColumns)
<a name="l00092"></a>00092             $this-&gt;_tableColumns = $tcol;
<a name="l00093"></a>00093         <span class="keywordflow">else</span>
<a name="l00094"></a>00094             $this-&gt;_tableColumns .= <span class="stringliteral">&quot;, &quot;</span>.$tcol;
<a name="l00095"></a>00095     }
<a name="l00096"></a>00096 
<a name="l00105"></a><a class="code" href="class_biz_data_sql.html#aeaaa2dfa4a70b510705e3de333c501d7">00105</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#aeaaa2dfa4a70b510705e3de333c501d7">addSqlExpression</a>($sqlExpr, $alias=null)
<a name="l00106"></a>00106     {
<a name="l00107"></a>00107         <span class="keywordflow">if</span> ($alias)
<a name="l00108"></a>00108             $sqlExpr .= <span class="stringliteral">&#39; AS &#39;</span>.$alias;
<a name="l00109"></a>00109         <span class="keywordflow">if</span> (!$this-&gt;_tableColumns)
<a name="l00110"></a>00110             $this-&gt;_tableColumns = $sqlExpr;
<a name="l00111"></a>00111         <span class="keywordflow">else</span>
<a name="l00112"></a>00112             $this-&gt;_tableColumns .= <span class="stringliteral">&quot;, &quot;</span>.$sqlExpr;
<a name="l00113"></a>00113     }
<a name="l00114"></a>00114 
<a name="l00121"></a><a class="code" href="class_biz_data_sql.html#a9fd67124677a7562e8a6e467d6a76b44">00121</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#a9fd67124677a7562e8a6e467d6a76b44">getJoinAlias</a>($join)
<a name="l00122"></a>00122     {
<a name="l00123"></a>00123         <span class="keywordflow">if</span> (!$join) <span class="comment">// main table, no join</span>
<a name="l00124"></a>00124             <span class="keywordflow">return</span> <span class="stringliteral">&quot;T0&quot;</span>;
<a name="l00125"></a>00125         <span class="keywordflow">else</span>
<a name="l00126"></a>00126             <span class="keywordflow">return</span> $this-&gt;_joinAliasList[$join];
<a name="l00127"></a>00127     }
<a name="l00128"></a>00128 
<a name="l00136"></a><a class="code" href="class_biz_data_sql.html#a2ffb420f93014db5ffcd6c1256a3ab80">00136</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#a2ffb420f93014db5ffcd6c1256a3ab80">getTableColumn</a>($join, $col)
<a name="l00137"></a>00137     {
<a name="l00138"></a>00138         <span class="comment">// check the function format on $col</span>
<a name="l00139"></a>00139         $alias = $this-&gt;<a class="code" href="class_biz_data_sql.html#a9fd67124677a7562e8a6e467d6a76b44">getJoinAlias</a>($join);
<a name="l00140"></a>00140         <span class="keywordflow">return</span> <span class="stringliteral">&quot;$alias.`$col`&quot;</span>;
<a name="l00141"></a>00141     }
<a name="l00142"></a>00142 
<a name="l00148"></a><a class="code" href="class_biz_data_sql.html#adc8df437571fde51a235af5e6d9f99d9">00148</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#adc8df437571fde51a235af5e6d9f99d9">resetSQL</a>()
<a name="l00149"></a>00149     {
<a name="l00150"></a>00150         $this-&gt;_sqlWhere = null;
<a name="l00151"></a>00151         $this-&gt;_orderBy = null;
<a name="l00152"></a>00152         $this-&gt;_otherSQL = null;
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154 
<a name="l00161"></a><a class="code" href="class_biz_data_sql.html#a1f4c65ec295b96787ceeb303e08efc81">00161</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#a1f4c65ec295b96787ceeb303e08efc81">addSqlWhere</a>($sqlWhere)
<a name="l00162"></a>00162     {
<a name="l00163"></a>00163         <span class="keywordflow">if</span> ($sqlWhere == null)
<a name="l00164"></a>00164             <span class="keywordflow">return</span>;
<a name="l00165"></a>00165         <span class="keywordflow">if</span> ($this-&gt;_sqlWhere == null)
<a name="l00166"></a>00166         {
<a name="l00167"></a>00167             $this-&gt;_sqlWhere = $sqlWhere;
<a name="l00168"></a>00168         }
<a name="l00169"></a>00169         elseif (strpos($this-&gt;_sqlWhere, $sqlWhere) === <span class="keyword">false</span>)
<a name="l00170"></a>00170         {
<a name="l00171"></a>00171             $this-&gt;_sqlWhere .= <span class="stringliteral">&quot; AND &quot;</span> . $sqlWhere;
<a name="l00172"></a>00172         }
<a name="l00173"></a>00173     }
<a name="l00174"></a>00174 
<a name="l00181"></a><a class="code" href="class_biz_data_sql.html#ae9ccd7953d9ac08d28e593772678d607">00181</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#ae9ccd7953d9ac08d28e593772678d607">addOrderBy</a>($orderBy)
<a name="l00182"></a>00182     {
<a name="l00183"></a>00183         <span class="keywordflow">if</span> ($orderBy == null)
<a name="l00184"></a>00184             <span class="keywordflow">return</span>;
<a name="l00185"></a>00185         <span class="keywordflow">if</span> ($this-&gt;_orderBy == null)
<a name="l00186"></a>00186         {
<a name="l00187"></a>00187             $this-&gt;_orderBy = $orderBy;
<a name="l00188"></a>00188         }
<a name="l00189"></a>00189         elseif (strpos($this-&gt;_orderBy, $orderBy) === <span class="keyword">false</span>)
<a name="l00190"></a>00190         {
<a name="l00191"></a>00191             $this-&gt;_orderBy .= <span class="stringliteral">&quot; AND &quot;</span> . $orderBy;
<a name="l00192"></a>00192         }
<a name="l00193"></a>00193     }
<a name="l00194"></a>00194 
<a name="l00201"></a><a class="code" href="class_biz_data_sql.html#a3bceb1dbc4bcba9723e3bd0c6314ddcc">00201</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#a3bceb1dbc4bcba9723e3bd0c6314ddcc">addOtherSQL</a>($otherSQL)
<a name="l00202"></a>00202     {
<a name="l00203"></a>00203         <span class="keywordflow">if</span> ($otherSQL == null)
<a name="l00204"></a>00204             <span class="keywordflow">return</span>;
<a name="l00205"></a>00205         <span class="keywordflow">if</span> ($this-&gt;_otherSQL == null)
<a name="l00206"></a>00206         {
<a name="l00207"></a>00207             $this-&gt;_otherSQL = $otherSQL;
<a name="l00208"></a>00208         }
<a name="l00209"></a>00209         elseif (strpos($this-&gt;_otherSQL, $otherSQL) === <span class="keyword">false</span>)
<a name="l00210"></a>00210         {
<a name="l00211"></a>00211             $this-&gt;_otherSQL .= <span class="stringliteral">&quot; AND &quot;</span> . $otherSQL;
<a name="l00212"></a>00212         }
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214 
<a name="l00221"></a><a class="code" href="class_biz_data_sql.html#a5c9b8ae752514b82f504afaa0aa22aa4">00221</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#a5c9b8ae752514b82f504afaa0aa22aa4">addAssociation</a>($assoc)
<a name="l00222"></a>00222     {
<a name="l00223"></a>00223         $where = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00224"></a>00224         <span class="keywordflow">if</span> ($assoc[<span class="stringliteral">&quot;Relationship&quot;</span>] == <span class="stringliteral">&quot;1-M&quot;</span> || $assoc[<span class="stringliteral">&quot;Relationship&quot;</span>] == <span class="stringliteral">&quot;M-1&quot;</span> || $assoc[<span class="stringliteral">&quot;Relationship&quot;</span>] == <span class="stringliteral">&quot;1-1&quot;</span>)
<a name="l00225"></a>00225         {
<a name="l00226"></a>00226             <span class="comment">// assc table should same as maintable</span>
<a name="l00227"></a>00227             <span class="keywordflow">if</span> ($assoc[<span class="stringliteral">&quot;Table&quot;</span>] != $this-&gt;_mainTable) <span class="keywordflow">return</span>;
<a name="l00228"></a>00228             <span class="comment">// add table to join table</span>
<a name="l00229"></a>00229             $mytable_col = $this-&gt;<a class="code" href="class_biz_data_sql.html#a2ffb420f93014db5ffcd6c1256a3ab80">getTableColumn</a>(null, $assoc[<span class="stringliteral">&quot;Column&quot;</span>]);
<a name="l00230"></a>00230             <span class="comment">// construct table.column = &#39;field value&#39;</span>
<a name="l00231"></a>00231             $where = $mytable_col.<span class="stringliteral">&quot; = &#39;&quot;</span>.$assoc[<span class="stringliteral">&quot;FieldRefVal&quot;</span>].<span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00232"></a>00232             
<a name="l00233"></a>00233             $mytable_col2 = $this-&gt;<a class="code" href="class_biz_data_sql.html#a2ffb420f93014db5ffcd6c1256a3ab80">getTableColumn</a>(null, $assoc[<span class="stringliteral">&quot;Column2&quot;</span>]);
<a name="l00234"></a>00234             <span class="keywordflow">if</span>($assoc[<span class="stringliteral">&quot;Column2&quot;</span>]){
<a name="l00235"></a>00235               $where .= <span class="stringliteral">&quot; AND &quot;</span>.$mytable_col2.<span class="stringliteral">&quot; = &#39;&quot;</span>.$assoc[<span class="stringliteral">&quot;FieldRefVal2&quot;</span>].<span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00236"></a>00236             }
<a name="l00237"></a>00237             $mytable_cond_col = $this-&gt;<a class="code" href="class_biz_data_sql.html#a2ffb420f93014db5ffcd6c1256a3ab80">getTableColumn</a>(null, $assoc[<span class="stringliteral">&quot;CondColumn&quot;</span>]);
<a name="l00238"></a>00238             <span class="keywordflow">if</span>($assoc[<span class="stringliteral">&quot;CondColumn&quot;</span>]){
<a name="l00239"></a>00239               $where .= <span class="stringliteral">&quot; AND $mytable_cond_col =&#39;&quot;</span>.$assoc[<span class="stringliteral">&quot;CondValue&quot;</span>].<span class="stringliteral">&quot;&#39; &quot;</span>;
<a name="l00240"></a>00240             }
<a name="l00241"></a>00241               <span class="keywordflow">if</span>($assoc[<span class="stringliteral">&quot;Condition&quot;</span>]){
<a name="l00242"></a>00242               $where .= <span class="stringliteral">&quot; AND &quot;</span>.$assoc[<span class="stringliteral">&quot;Condition&quot;</span>].<span class="stringliteral">&quot; &quot;</span>;
<a name="l00243"></a>00243             }
<a name="l00244"></a>00244         }
<a name="l00245"></a>00245         elseif ($assoc[<span class="stringliteral">&quot;Relationship&quot;</span>] == <span class="stringliteral">&quot;M-M&quot;</span> || $assoc[<span class="stringliteral">&quot;Relationship&quot;</span>] == <span class="stringliteral">&quot;Self-Self&quot;</span>)
<a name="l00246"></a>00246         {
<a name="l00247"></a>00247             <span class="comment">// ... INNER JOIN xtable TX ON TX.column2 = T0.column</span>
<a name="l00248"></a>00248             <span class="comment">// WHERE ... Tx.column1 = &#39;PrtTableColumnValue&#39;</span>
<a name="l00249"></a>00249             $mytable_col = $this-&gt;<a class="code" href="class_biz_data_sql.html#a2ffb420f93014db5ffcd6c1256a3ab80">getTableColumn</a>(null, $assoc[<span class="stringliteral">&quot;Column&quot;</span>]);   <span class="comment">// this table&#39;s alias.column</span>
<a name="l00250"></a>00250             $xtable = $assoc[<span class="stringliteral">&quot;XTable&quot;</span>];    <span class="comment">// xtable&#39;s name</span>
<a name="l00251"></a>00251             $column1 = $assoc[<span class="stringliteral">&quot;XColumn1&quot;</span>]; <span class="comment">// xtable column1</span>
<a name="l00252"></a>00252             $column2 = $assoc[<span class="stringliteral">&quot;XColumn2&quot;</span>]; <span class="comment">// xtable column2</span>
<a name="l00253"></a>00253             $xalias = <span class="stringliteral">&quot;TX&quot;</span>;
<a name="l00254"></a>00254             <span class="keywordflow">if</span> (isset($this-&gt;_tableAliasList[$xtable]))
<a name="l00255"></a>00255                 $xalias = $this-&gt;_tableAliasList[$xtable];
<a name="l00256"></a>00256 
<a name="l00257"></a>00257             <span class="comment">// add a table join for the xtable if such join of the table is not there before (note: may report error if has same join).</span>
<a name="l00258"></a>00258             <span class="comment">//if (strpos($this-&gt;m_TableJoins, &quot;JOIN $xtable&quot;) === false)</span>
<a name="l00259"></a>00259             <span class="keywordflow">if</span> (!isset($this-&gt;_tableAliasList[$xtable]))
<a name="l00260"></a>00260             {
<a name="l00261"></a>00261                 $this-&gt;_tableJoins .= <span class="stringliteral">&quot; INNER JOIN `$xtable` $xalias ON $xalias.$column2 = $mytable_col &quot;</span>;
<a name="l00262"></a>00262                 $this-&gt;_tableAliasList[$xtable] = $xalias;
<a name="l00263"></a>00263             }
<a name="l00264"></a>00264             
<a name="l00265"></a>00265             <span class="comment">// add a new where condition</span>
<a name="l00266"></a>00266             <span class="keywordflow">if</span>($assoc[<span class="stringliteral">&quot;Relationship&quot;</span>] == <span class="stringliteral">&quot;Self-Self&quot;</span>)
<a name="l00267"></a>00267             {   
<a name="l00268"></a>00268               $columnId = $this-&gt;<a class="code" href="class_biz_data_sql.html#a2ffb420f93014db5ffcd6c1256a3ab80">getTableColumn</a>(<span class="stringliteral">&quot;&quot;</span>, $assoc[<span class="stringliteral">&quot;ParentRecordIdColumn&quot;</span>]);              
<a name="l00269"></a>00269               $where = <span class="stringliteral">&quot;($xalias.$column1 = &#39;&quot;</span>.$assoc[<span class="stringliteral">&quot;FieldRefVal&quot;</span>].<span class="stringliteral">&quot;&#39; OR $xalias.$column2 = &#39;&quot;</span>.$assoc[<span class="stringliteral">&quot;FieldRefVal&quot;</span>].<span class="stringliteral">&quot;&#39; ) AND $columnId != &#39;&quot;</span>.$assoc[<span class="stringliteral">&quot;FieldRefVal&quot;</span>].<span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00270"></a>00270               $this-&gt;_tableJoins .=  <span class="stringliteral">&quot; OR $xalias.$column1 = $mytable_col &quot;</span>;
<a name="l00271"></a>00271             }<span class="keywordflow">else</span>{
<a name="l00272"></a>00272               $where = <span class="stringliteral">&quot;$xalias.$column1 = &#39;&quot;</span>.$assoc[<span class="stringliteral">&quot;FieldRefVal&quot;</span>].<span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00273"></a>00273             }
<a name="l00274"></a>00274         }
<a name="l00275"></a>00275 
<a name="l00276"></a>00276         <span class="keywordflow">if</span> (strlen($where) &gt; 1)
<a name="l00277"></a>00277             $this-&gt;<a class="code" href="class_biz_data_sql.html#a1f4c65ec295b96787ceeb303e08efc81">addSqlWhere</a>($where);
<a name="l00278"></a>00278     }
<a name="l00279"></a>00279 
<a name="l00285"></a><a class="code" href="class_biz_data_sql.html#a26ca4cbe261f722077f893bbe8083ba1">00285</a>     <span class="keyword">public</span> function <a class="code" href="class_biz_data_sql.html#a26ca4cbe261f722077f893bbe8083ba1">getSqlStatement</a>()
<a name="l00286"></a>00286     {
<a name="l00287"></a>00287         $ret = <span class="stringliteral">&quot;SELECT &quot;</span> . $this-&gt;_tableColumns;
<a name="l00288"></a>00288         $ret .= <span class="stringliteral">&quot; FROM &quot;</span> . $this-&gt;_tableJoins;
<a name="l00289"></a>00289 
<a name="l00290"></a>00290         <span class="keywordflow">if</span> ($this-&gt;_sqlWhere != null)
<a name="l00291"></a>00291         {
<a name="l00292"></a>00292             $ret .= <span class="stringliteral">&quot; WHERE &quot;</span> . $this-&gt;_sqlWhere;
<a name="l00293"></a>00293         }
<a name="l00294"></a>00294         <span class="comment">/*</span>
<a name="l00295"></a>00295 <span class="comment">        if ($this-&gt;m_OrderBy != null)</span>
<a name="l00296"></a>00296 <span class="comment">        {</span>
<a name="l00297"></a>00297 <span class="comment">            $ret .= &quot; ORDER BY &quot; . $this-&gt;m_OrderBy;</span>
<a name="l00298"></a>00298 <span class="comment">       }</span>
<a name="l00299"></a>00299 <span class="comment">        */</span>
<a name="l00300"></a>00300         <span class="keywordflow">if</span> ($this-&gt;_otherSQL != null)
<a name="l00301"></a>00301         {
<a name="l00302"></a>00302             $ret .= <span class="stringliteral">&quot; &quot;</span> . $this-&gt;_otherSQL;
<a name="l00303"></a>00303         }
<a name="l00304"></a>00304         <span class="keywordflow">if</span> ($this-&gt;_orderBy != null)
<a name="l00305"></a>00305         {
<a name="l00306"></a>00306             $ret .= <span class="stringliteral">&quot; ORDER BY &quot;</span> . $this-&gt;_orderBy;
<a name="l00307"></a>00307         }
<a name="l00308"></a>00308         <span class="keywordflow">return</span> $ret;
<a name="l00309"></a>00309     }
<a name="l00310"></a>00310 }
<a name="l00311"></a>00311 ?&gt;
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 19 2012 17:09:13 for openbiz by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
