<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>openbiz: E:/E/GEAMP/www/openbiz/openbiz/others/Zend/Layout.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>E:/E/GEAMP/www/openbiz/openbiz/others/Zend/Layout.php</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00030"></a><a class="code" href="class_zend___layout.html">00030</a> <span class="keyword">class </span><a class="code" href="class_zend___layout.html">Zend_Layout</a>
<a name="l00031"></a>00031 {
<a name="l00036"></a>00036     <span class="keyword">protected</span> $_container;
<a name="l00037"></a>00037 
<a name="l00042"></a>00042     <span class="keyword">protected</span> $_contentKey = <span class="stringliteral">&#39;content&#39;</span>;
<a name="l00043"></a>00043 
<a name="l00048"></a>00048     <span class="keyword">protected</span> $_enabled = <span class="keyword">true</span>;
<a name="l00049"></a>00049 
<a name="l00054"></a>00054     <span class="keyword">protected</span> $_helperClass = <span class="stringliteral">&#39;Zend_Layout_Controller_Action_Helper_Layout&#39;</span>;
<a name="l00055"></a>00055 
<a name="l00060"></a>00060     <span class="keyword">protected</span> $_inflector;
<a name="l00061"></a>00061 
<a name="l00066"></a>00066     <span class="keyword">protected</span> $_inflectorEnabled = <span class="keyword">true</span>;
<a name="l00067"></a>00067 
<a name="l00072"></a>00072     <span class="keyword">protected</span> $_inflectorTarget = <span class="stringliteral">&#39;:script.:suffix&#39;</span>;
<a name="l00073"></a>00073 
<a name="l00078"></a>00078     <span class="keyword">protected</span> $_layout = <span class="stringliteral">&#39;layout&#39;</span>;
<a name="l00079"></a>00079 
<a name="l00084"></a>00084     <span class="keyword">protected</span> $_viewScriptPath = null;
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="keyword">protected</span> $_viewBasePath = null;
<a name="l00087"></a>00087     <span class="keyword">protected</span> $_viewBasePrefix = <span class="stringliteral">&#39;Layout_View&#39;</span>;
<a name="l00088"></a>00088 
<a name="l00093"></a>00093     <span class="keyword">protected</span> $_mvcEnabled = <span class="keyword">true</span>;
<a name="l00094"></a>00094 
<a name="l00099"></a>00099     <span class="keyword">protected</span> <span class="keyword">static</span> $_mvcInstance;
<a name="l00100"></a>00100 
<a name="l00105"></a>00105     <span class="keyword">protected</span> $_mvcSuccessfulActionOnly = <span class="keyword">true</span>;
<a name="l00106"></a>00106 
<a name="l00111"></a>00111     <span class="keyword">protected</span> $_pluginClass = <span class="stringliteral">&#39;Zend_Layout_Controller_Plugin_Layout&#39;</span>;
<a name="l00112"></a>00112 
<a name="l00116"></a>00116     <span class="keyword">protected</span> $_view;
<a name="l00117"></a>00117 
<a name="l00122"></a>00122     <span class="keyword">protected</span> $_viewSuffix = <span class="stringliteral">&#39;phtml&#39;</span>;
<a name="l00123"></a>00123 
<a name="l00142"></a><a class="code" href="class_zend___layout.html#a485f1e0cbb151329eb31fcfaf2518744">00142</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a485f1e0cbb151329eb31fcfaf2518744">__construct</a>($options = null, $initMvc = <span class="keyword">false</span>)
<a name="l00143"></a>00143     {
<a name="l00144"></a>00144         <span class="keywordflow">if</span> (null !== $options) {
<a name="l00145"></a>00145             <span class="keywordflow">if</span> (is_string($options)) {
<a name="l00146"></a>00146                 $this-&gt;<a class="code" href="class_zend___layout.html#a5b80bbff35234e93ea1cca2b5f501b96">setLayoutPath</a>($options);
<a name="l00147"></a>00147             } elseif (is_array($options)) {
<a name="l00148"></a>00148                 $this-&gt;<a class="code" href="class_zend___layout.html#a8213e4c39213f7d6250f72ff6f2699f2">setOptions</a>($options);
<a name="l00149"></a>00149             } elseif ($options instanceof <a class="code" href="class_zend___config.html">Zend_Config</a>) {
<a name="l00150"></a>00150                 $this-&gt;<a class="code" href="class_zend___layout.html#a573debdd5f0c95c901bca358f162fa43">setConfig</a>($options);
<a name="l00151"></a>00151             } <span class="keywordflow">else</span> {
<a name="l00152"></a>00152                 require_once <span class="stringliteral">&#39;Zend/Layout/Exception.php&#39;</span>;
<a name="l00153"></a>00153                 <span class="keywordflow">throw</span> <span class="keyword">new</span> Zend_Layout_Exception(<span class="stringliteral">&#39;Invalid option provided to constructor&#39;</span>);
<a name="l00154"></a>00154             }
<a name="l00155"></a>00155         }
<a name="l00156"></a>00156 
<a name="l00157"></a>00157         $this-&gt;<a class="code" href="class_zend___layout.html#afdf36497e8bf8bdbaa9a7ba6e6d85f36">_initVarContainer</a>();
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         <span class="keywordflow">if</span> ($initMvc) {
<a name="l00160"></a>00160             $this-&gt;<a class="code" href="class_zend___layout.html#aea82a4013decae8cea36952a2e97c4d7">_setMvcEnabled</a>(<span class="keyword">true</span>);
<a name="l00161"></a>00161             $this-&gt;<a class="code" href="class_zend___layout.html#aedf04440fb7bfd6699d44cce71afd668">_initMvc</a>();
<a name="l00162"></a>00162         } <span class="keywordflow">else</span> {
<a name="l00163"></a>00163             $this-&gt;<a class="code" href="class_zend___layout.html#aea82a4013decae8cea36952a2e97c4d7">_setMvcEnabled</a>(<span class="keyword">false</span>);
<a name="l00164"></a>00164         }
<a name="l00165"></a>00165     }
<a name="l00166"></a>00166 
<a name="l00173"></a><a class="code" href="class_zend___layout.html#a12d7e7292037f72fc0959376693c43d5">00173</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_zend___layout.html#a12d7e7292037f72fc0959376693c43d5">startMvc</a>($options = null)
<a name="l00174"></a>00174     {
<a name="l00175"></a>00175         <span class="keywordflow">if</span> (null === self::$_mvcInstance) {
<a name="l00176"></a>00176             self::$_mvcInstance = <span class="keyword">new</span> <span class="keyword">self</span>($options, <span class="keyword">true</span>);
<a name="l00177"></a>00177         }
<a name="l00178"></a>00178 
<a name="l00179"></a>00179         <span class="keywordflow">if</span> (is_string($options)) {
<a name="l00180"></a>00180             self::$_mvcInstance-&gt;setLayoutPath($options);
<a name="l00181"></a>00181         } elseif (is_array($options) || $options instanceof <a class="code" href="class_zend___config.html">Zend_Config</a>) {
<a name="l00182"></a>00182             self::$_mvcInstance-&gt;setOptions($options);
<a name="l00183"></a>00183         }
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         <span class="keywordflow">return</span> self::$_mvcInstance;
<a name="l00186"></a>00186     }
<a name="l00187"></a>00187 
<a name="l00193"></a><a class="code" href="class_zend___layout.html#a2c877f23bd9db123579da2cd38de5cea">00193</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_zend___layout.html#a2c877f23bd9db123579da2cd38de5cea">getMvcInstance</a>()
<a name="l00194"></a>00194     {
<a name="l00195"></a>00195         <span class="keywordflow">return</span> self::$_mvcInstance;
<a name="l00196"></a>00196     }
<a name="l00197"></a>00197 
<a name="l00205"></a><a class="code" href="class_zend___layout.html#a71f9e80704312221bc261e3f232ed414">00205</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_zend___layout.html#a71f9e80704312221bc261e3f232ed414">resetMvcInstance</a>()
<a name="l00206"></a>00206     {
<a name="l00207"></a>00207         <span class="keywordflow">if</span> (null !== self::$_mvcInstance) {
<a name="l00208"></a>00208             $layout = self::$_mvcInstance;
<a name="l00209"></a>00209             $pluginClass = $layout-&gt;getPluginClass();
<a name="l00210"></a>00210             $front = Zend_Controller_Front::getInstance();
<a name="l00211"></a>00211             <span class="keywordflow">if</span> ($front-&gt;hasPlugin($pluginClass)) {
<a name="l00212"></a>00212                 $front-&gt;unregisterPlugin($pluginClass);
<a name="l00213"></a>00213             }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215             <span class="keywordflow">if</span> (Zend_Controller_Action_HelperBroker::hasHelper(<span class="stringliteral">&#39;layout&#39;</span>)) {
<a name="l00216"></a>00216                 Zend_Controller_Action_HelperBroker::removeHelper(<span class="stringliteral">&#39;layout&#39;</span>);
<a name="l00217"></a>00217             }
<a name="l00218"></a>00218 
<a name="l00219"></a>00219             unset($layout);
<a name="l00220"></a>00220             self::$_mvcInstance = null;
<a name="l00221"></a>00221         }
<a name="l00222"></a>00222     }
<a name="l00223"></a>00223 
<a name="l00230"></a><a class="code" href="class_zend___layout.html#a8213e4c39213f7d6250f72ff6f2699f2">00230</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a8213e4c39213f7d6250f72ff6f2699f2">setOptions</a>($options)
<a name="l00231"></a>00231     {
<a name="l00232"></a>00232         <span class="keywordflow">if</span> ($options instanceof <a class="code" href="class_zend___config.html">Zend_Config</a>) {
<a name="l00233"></a>00233             $options = $options-&gt;toArray();
<a name="l00234"></a>00234         } elseif (!is_array($options)) {
<a name="l00235"></a>00235             require_once <span class="stringliteral">&#39;Zend/Layout/Exception.php&#39;</span>;
<a name="l00236"></a>00236             <span class="keywordflow">throw</span> <span class="keyword">new</span> Zend_Layout_Exception(<span class="stringliteral">&#39;setOptions() expects either an array or a Zend_Config object&#39;</span>);
<a name="l00237"></a>00237         }
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <span class="keywordflow">foreach</span> ($options as $key =&gt; $value) {
<a name="l00240"></a>00240             $method = <span class="stringliteral">&#39;set&#39;</span> . ucfirst($key);
<a name="l00241"></a>00241             <span class="keywordflow">if</span> (method_exists($this, $method)) {
<a name="l00242"></a>00242                 $this-&gt;$method($value);
<a name="l00243"></a>00243             }
<a name="l00244"></a>00244         }
<a name="l00245"></a>00245     }
<a name="l00246"></a>00246 
<a name="l00252"></a><a class="code" href="class_zend___layout.html#aedf04440fb7bfd6699d44cce71afd668">00252</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___layout.html#aedf04440fb7bfd6699d44cce71afd668">_initMvc</a>()
<a name="l00253"></a>00253     {
<a name="l00254"></a>00254         $this-&gt;<a class="code" href="class_zend___layout.html#ac2248aed0ccafcfd70cd6436cac5de87">_initPlugin</a>();
<a name="l00255"></a>00255         $this-&gt;<a class="code" href="class_zend___layout.html#a239cb76bb023f3da8a701920d8a65767">_initHelper</a>();
<a name="l00256"></a>00256     }
<a name="l00257"></a>00257 
<a name="l00263"></a><a class="code" href="class_zend___layout.html#ac2248aed0ccafcfd70cd6436cac5de87">00263</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___layout.html#ac2248aed0ccafcfd70cd6436cac5de87">_initPlugin</a>()
<a name="l00264"></a>00264     {
<a name="l00265"></a>00265         $pluginClass = $this-&gt;<a class="code" href="class_zend___layout.html#a025c970a5523cd730b771c97dbd4b0ef">getPluginClass</a>();
<a name="l00266"></a>00266         require_once <span class="stringliteral">&#39;Zend/Controller/Front.php&#39;</span>;
<a name="l00267"></a>00267         $front = Zend_Controller_Front::getInstance();
<a name="l00268"></a>00268         <span class="keywordflow">if</span> (!$front-&gt;hasPlugin($pluginClass)) {
<a name="l00269"></a>00269             <span class="keywordflow">if</span> (!class_exists($pluginClass)) {
<a name="l00270"></a>00270                 require_once <span class="stringliteral">&#39;Zend/Loader.php&#39;</span>;
<a name="l00271"></a>00271                 <a class="code" href="class_zend___loader.html#a3d4b9877e0dcc1904b8e41d86be11d93">Zend_Loader::loadClass</a>($pluginClass);
<a name="l00272"></a>00272             }
<a name="l00273"></a>00273             $front-&gt;registerPlugin(
<a name="l00274"></a>00274                 <span class="comment">// register to run last | BUT before the ErrorHandler (if its available)</span>
<a name="l00275"></a>00275                 <span class="keyword">new</span> $pluginClass($this),
<a name="l00276"></a>00276                 99
<a name="l00277"></a>00277             );
<a name="l00278"></a>00278         }
<a name="l00279"></a>00279     }
<a name="l00280"></a>00280 
<a name="l00286"></a><a class="code" href="class_zend___layout.html#a239cb76bb023f3da8a701920d8a65767">00286</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___layout.html#a239cb76bb023f3da8a701920d8a65767">_initHelper</a>()
<a name="l00287"></a>00287     {
<a name="l00288"></a>00288         $helperClass = $this-&gt;<a class="code" href="class_zend___layout.html#a6f11128f296f9475734a626159d2b575">getHelperClass</a>();
<a name="l00289"></a>00289         require_once <span class="stringliteral">&#39;Zend/Controller/Action/HelperBroker.php&#39;</span>;
<a name="l00290"></a>00290         <span class="keywordflow">if</span> (!Zend_Controller_Action_HelperBroker::hasHelper(<span class="stringliteral">&#39;layout&#39;</span>)) {
<a name="l00291"></a>00291             <span class="keywordflow">if</span> (!class_exists($helperClass)) {
<a name="l00292"></a>00292                 require_once <span class="stringliteral">&#39;Zend/Loader.php&#39;</span>;
<a name="l00293"></a>00293                 <a class="code" href="class_zend___loader.html#a3d4b9877e0dcc1904b8e41d86be11d93">Zend_Loader::loadClass</a>($helperClass);
<a name="l00294"></a>00294             }
<a name="l00295"></a>00295             Zend_Controller_Action_HelperBroker::getStack()-&gt;offsetSet(-90, <span class="keyword">new</span> $helperClass($this));
<a name="l00296"></a>00296         }
<a name="l00297"></a>00297     }
<a name="l00298"></a>00298 
<a name="l00305"></a><a class="code" href="class_zend___layout.html#a573debdd5f0c95c901bca358f162fa43">00305</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a573debdd5f0c95c901bca358f162fa43">setConfig</a>(<a class="code" href="class_zend___config.html">Zend_Config</a> $config)
<a name="l00306"></a>00306     {
<a name="l00307"></a>00307         $this-&gt;<a class="code" href="class_zend___layout.html#a8213e4c39213f7d6250f72ff6f2699f2">setOptions</a>($config-&gt;<a class="code" href="class_zend___config.html#a658defb34762c8f40085aec87e16ba1a">toArray</a>());
<a name="l00308"></a>00308         <span class="keywordflow">return</span> $this;
<a name="l00309"></a>00309     }
<a name="l00310"></a>00310 
<a name="l00316"></a><a class="code" href="class_zend___layout.html#afdf36497e8bf8bdbaa9a7ba6e6d85f36">00316</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___layout.html#afdf36497e8bf8bdbaa9a7ba6e6d85f36">_initVarContainer</a>()
<a name="l00317"></a>00317     {
<a name="l00318"></a>00318         <span class="keywordflow">if</span> (null === $this-&gt;_container) {
<a name="l00319"></a>00319             require_once <span class="stringliteral">&#39;Zend/View/Helper/Placeholder/Registry.php&#39;</span>;
<a name="l00320"></a>00320             $this-&gt;_container = <a class="code" href="class_zend___view___helper___placeholder___registry.html#acf2d4581cd8df7f03e5a5fee7771c5c3">Zend_View_Helper_Placeholder_Registry::getRegistry</a>()-&gt;getContainer(__CLASS__);
<a name="l00321"></a>00321         }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323         <span class="keywordflow">return</span> $this-&gt;_container;
<a name="l00324"></a>00324     }
<a name="l00325"></a>00325 
<a name="l00335"></a><a class="code" href="class_zend___layout.html#af92cc57aaebba7effd86fa1780e2e964">00335</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#af92cc57aaebba7effd86fa1780e2e964">setLayout</a>($name, $enabled = <span class="keyword">true</span>)
<a name="l00336"></a>00336     {
<a name="l00337"></a>00337         $this-&gt;_layout = (string) $name;
<a name="l00338"></a>00338         <span class="keywordflow">if</span> ($enabled) {
<a name="l00339"></a>00339             $this-&gt;<a class="code" href="class_zend___layout.html#ae1a620426605eddaf4c67687bbb8c678">enableLayout</a>();
<a name="l00340"></a>00340         }
<a name="l00341"></a>00341         <span class="keywordflow">return</span> $this;
<a name="l00342"></a>00342     }
<a name="l00343"></a>00343 
<a name="l00349"></a><a class="code" href="class_zend___layout.html#a5c316721766e9cd8ad5d0085e64048ed">00349</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a5c316721766e9cd8ad5d0085e64048ed">getLayout</a>()
<a name="l00350"></a>00350     {
<a name="l00351"></a>00351         <span class="keywordflow">return</span> $this-&gt;_layout;
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353 
<a name="l00359"></a><a class="code" href="class_zend___layout.html#a0f7b1a85d3ece5ad8ee59498b1df8885">00359</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a0f7b1a85d3ece5ad8ee59498b1df8885">disableLayout</a>()
<a name="l00360"></a>00360     {
<a name="l00361"></a>00361         $this-&gt;_enabled = <span class="keyword">false</span>;
<a name="l00362"></a>00362         <span class="keywordflow">return</span> $this;
<a name="l00363"></a>00363     }
<a name="l00364"></a>00364 
<a name="l00370"></a><a class="code" href="class_zend___layout.html#ae1a620426605eddaf4c67687bbb8c678">00370</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#ae1a620426605eddaf4c67687bbb8c678">enableLayout</a>()
<a name="l00371"></a>00371     {
<a name="l00372"></a>00372         $this-&gt;_enabled = <span class="keyword">true</span>;
<a name="l00373"></a>00373         <span class="keywordflow">return</span> $this;
<a name="l00374"></a>00374     }
<a name="l00375"></a>00375 
<a name="l00381"></a><a class="code" href="class_zend___layout.html#ad734dc60b64a242fe183e0c23b192790">00381</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#ad734dc60b64a242fe183e0c23b192790">isEnabled</a>()
<a name="l00382"></a>00382     {
<a name="l00383"></a>00383         <span class="keywordflow">return</span> $this-&gt;_enabled;
<a name="l00384"></a>00384     }
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 
<a name="l00387"></a>00387     <span class="keyword">public</span> function setViewBasePath($path, $prefix = <span class="stringliteral">&#39;Layout_View&#39;</span>)
<a name="l00388"></a>00388     {
<a name="l00389"></a>00389         $this-&gt;_viewBasePath = $path;
<a name="l00390"></a>00390         $this-&gt;_viewBasePrefix = $prefix;
<a name="l00391"></a>00391         <span class="keywordflow">return</span> $this;
<a name="l00392"></a>00392     }
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="keyword">public</span> function getViewBasePath()
<a name="l00395"></a>00395     {
<a name="l00396"></a>00396         <span class="keywordflow">return</span> $this-&gt;_viewBasePath;
<a name="l00397"></a>00397     }
<a name="l00398"></a>00398 
<a name="l00399"></a>00399     <span class="keyword">public</span> function setViewScriptPath($path)
<a name="l00400"></a>00400     {
<a name="l00401"></a>00401         $this-&gt;_viewScriptPath = $path;
<a name="l00402"></a>00402         <span class="keywordflow">return</span> $this;
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404 
<a name="l00405"></a>00405     <span class="keyword">public</span> function getViewScriptPath()
<a name="l00406"></a>00406     {
<a name="l00407"></a>00407         <span class="keywordflow">return</span> $this-&gt;_viewScriptPath;
<a name="l00408"></a>00408     }
<a name="l00409"></a>00409 
<a name="l00416"></a><a class="code" href="class_zend___layout.html#a5b80bbff35234e93ea1cca2b5f501b96">00416</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a5b80bbff35234e93ea1cca2b5f501b96">setLayoutPath</a>($path)
<a name="l00417"></a>00417     {
<a name="l00418"></a>00418         <span class="keywordflow">return</span> $this-&gt;setViewScriptPath($path);
<a name="l00419"></a>00419     }
<a name="l00420"></a>00420 
<a name="l00426"></a><a class="code" href="class_zend___layout.html#abc6f0c7a83921cf10e85fab3524e6cab">00426</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#abc6f0c7a83921cf10e85fab3524e6cab">getLayoutPath</a>()
<a name="l00427"></a>00427     {
<a name="l00428"></a>00428         <span class="keywordflow">return</span> $this-&gt;getViewScriptPath();
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430 
<a name="l00439"></a><a class="code" href="class_zend___layout.html#a04270b4f9129e9c62f5ac13018448b5a">00439</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a04270b4f9129e9c62f5ac13018448b5a">setContentKey</a>($contentKey)
<a name="l00440"></a>00440     {
<a name="l00441"></a>00441         $this-&gt;_contentKey = (string) $contentKey;
<a name="l00442"></a>00442         <span class="keywordflow">return</span> $this;
<a name="l00443"></a>00443     }
<a name="l00444"></a>00444 
<a name="l00450"></a><a class="code" href="class_zend___layout.html#ae3ecc3ff34e8f46dbbc3b39d63cc8226">00450</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#ae3ecc3ff34e8f46dbbc3b39d63cc8226">getContentKey</a>()
<a name="l00451"></a>00451     {
<a name="l00452"></a>00452         <span class="keywordflow">return</span> $this-&gt;_contentKey;
<a name="l00453"></a>00453     }
<a name="l00454"></a>00454 
<a name="l00461"></a><a class="code" href="class_zend___layout.html#aea82a4013decae8cea36952a2e97c4d7">00461</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___layout.html#aea82a4013decae8cea36952a2e97c4d7">_setMvcEnabled</a>($mvcEnabled)
<a name="l00462"></a>00462     {
<a name="l00463"></a>00463         $this-&gt;_mvcEnabled = ($mvcEnabled) ? <span class="keyword">true</span> : <span class="keyword">false</span>;
<a name="l00464"></a>00464         <span class="keywordflow">return</span> $this;
<a name="l00465"></a>00465     }
<a name="l00466"></a>00466 
<a name="l00472"></a><a class="code" href="class_zend___layout.html#ac9262f70acbdfa25979f5dd9b55e537c">00472</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#ac9262f70acbdfa25979f5dd9b55e537c">getMvcEnabled</a>()
<a name="l00473"></a>00473     {
<a name="l00474"></a>00474         <span class="keywordflow">return</span> $this-&gt;_mvcEnabled;
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476 
<a name="l00483"></a><a class="code" href="class_zend___layout.html#aa980d6ee131646a3bec4e3ef1a854ee0">00483</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#aa980d6ee131646a3bec4e3ef1a854ee0">setMvcSuccessfulActionOnly</a>($successfulActionOnly)
<a name="l00484"></a>00484     {
<a name="l00485"></a>00485         $this-&gt;_mvcSuccessfulActionOnly = ($successfulActionOnly) ? <span class="keyword">true</span> : <span class="keyword">false</span>;
<a name="l00486"></a>00486         <span class="keywordflow">return</span> $this;
<a name="l00487"></a>00487     }
<a name="l00488"></a>00488 
<a name="l00494"></a><a class="code" href="class_zend___layout.html#ae18150b56c2c958e6616c0bf9842bad2">00494</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#ae18150b56c2c958e6616c0bf9842bad2">getMvcSuccessfulActionOnly</a>()
<a name="l00495"></a>00495     {
<a name="l00496"></a>00496         <span class="keywordflow">return</span> $this-&gt;_mvcSuccessfulActionOnly;
<a name="l00497"></a>00497     }
<a name="l00498"></a>00498 
<a name="l00505"></a><a class="code" href="class_zend___layout.html#aa2972864ceca96bd3b01a57066b8faef">00505</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#aa2972864ceca96bd3b01a57066b8faef">setView</a>(<a class="code" href="interface_zend___view___interface.html">Zend_View_Interface</a> $view)
<a name="l00506"></a>00506     {
<a name="l00507"></a>00507         $this-&gt;_view = $view;
<a name="l00508"></a>00508         <span class="keywordflow">return</span> $this;
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510 
<a name="l00516"></a><a class="code" href="class_zend___layout.html#a6f11128f296f9475734a626159d2b575">00516</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a6f11128f296f9475734a626159d2b575">getHelperClass</a>()
<a name="l00517"></a>00517     {
<a name="l00518"></a>00518         <span class="keywordflow">return</span> $this-&gt;_helperClass;
<a name="l00519"></a>00519     }
<a name="l00520"></a>00520 
<a name="l00527"></a><a class="code" href="class_zend___layout.html#a2d4fcc0e30556bbb3fd388248d540e0e">00527</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a2d4fcc0e30556bbb3fd388248d540e0e">setHelperClass</a>($helperClass)
<a name="l00528"></a>00528     {
<a name="l00529"></a>00529         $this-&gt;_helperClass = (string) $helperClass;
<a name="l00530"></a>00530         <span class="keywordflow">return</span> $this;
<a name="l00531"></a>00531     }
<a name="l00532"></a>00532 
<a name="l00538"></a><a class="code" href="class_zend___layout.html#a025c970a5523cd730b771c97dbd4b0ef">00538</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a025c970a5523cd730b771c97dbd4b0ef">getPluginClass</a>()
<a name="l00539"></a>00539     {
<a name="l00540"></a>00540         <span class="keywordflow">return</span> $this-&gt;_pluginClass;
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542 
<a name="l00549"></a><a class="code" href="class_zend___layout.html#a2bc83e5e6ae87b9950b78cbc99bee50d">00549</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a2bc83e5e6ae87b9950b78cbc99bee50d">setPluginClass</a>($pluginClass)
<a name="l00550"></a>00550     {
<a name="l00551"></a>00551         $this-&gt;_pluginClass = (string) $pluginClass;
<a name="l00552"></a>00552         <span class="keywordflow">return</span> $this;
<a name="l00553"></a>00553     }
<a name="l00554"></a>00554 
<a name="l00563"></a><a class="code" href="class_zend___layout.html#a50677812ea3f0258f7d03bbac5265413">00563</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a50677812ea3f0258f7d03bbac5265413">getView</a>()
<a name="l00564"></a>00564     {
<a name="l00565"></a>00565         <span class="keywordflow">if</span> (null === $this-&gt;_view) {
<a name="l00566"></a>00566             require_once <span class="stringliteral">&#39;Zend/Controller/Action/HelperBroker.php&#39;</span>;
<a name="l00567"></a>00567             $viewRenderer = Zend_Controller_Action_HelperBroker::getStaticHelper(<span class="stringliteral">&#39;viewRenderer&#39;</span>);
<a name="l00568"></a>00568             <span class="keywordflow">if</span> (null === $viewRenderer-&gt;view) {
<a name="l00569"></a>00569                 $viewRenderer-&gt;initView();
<a name="l00570"></a>00570             }
<a name="l00571"></a>00571             $this-&gt;<a class="code" href="class_zend___layout.html#aa2972864ceca96bd3b01a57066b8faef">setView</a>($viewRenderer-&gt;view);
<a name="l00572"></a>00572         }
<a name="l00573"></a>00573         <span class="keywordflow">return</span> $this-&gt;_view;
<a name="l00574"></a>00574     }
<a name="l00575"></a>00575 
<a name="l00582"></a><a class="code" href="class_zend___layout.html#ac43acc01208dcfcf292ea89401d70130">00582</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#ac43acc01208dcfcf292ea89401d70130">setViewSuffix</a>($viewSuffix)
<a name="l00583"></a>00583     {
<a name="l00584"></a>00584         $this-&gt;_viewSuffix = (string) $viewSuffix;
<a name="l00585"></a>00585         <span class="keywordflow">return</span> $this;
<a name="l00586"></a>00586     }
<a name="l00587"></a>00587 
<a name="l00593"></a><a class="code" href="class_zend___layout.html#aabf27a4680630a1ee5cac1954ef3fc59">00593</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#aabf27a4680630a1ee5cac1954ef3fc59">getViewSuffix</a>()
<a name="l00594"></a>00594     {
<a name="l00595"></a>00595         <span class="keywordflow">return</span> $this-&gt;_viewSuffix;
<a name="l00596"></a>00596     }
<a name="l00597"></a>00597 
<a name="l00603"></a><a class="code" href="class_zend___layout.html#a021b8936effa2e0d55b76f34e4a540dd">00603</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a021b8936effa2e0d55b76f34e4a540dd">getInflectorTarget</a>()
<a name="l00604"></a>00604     {
<a name="l00605"></a>00605         <span class="keywordflow">return</span> $this-&gt;_inflectorTarget;
<a name="l00606"></a>00606     }
<a name="l00607"></a>00607 
<a name="l00614"></a><a class="code" href="class_zend___layout.html#a5db56d65e0ea95b9a864a4ccad67cf7c">00614</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a5db56d65e0ea95b9a864a4ccad67cf7c">setInflectorTarget</a>($inflectorTarget)
<a name="l00615"></a>00615     {
<a name="l00616"></a>00616         $this-&gt;_inflectorTarget = (string) $inflectorTarget;
<a name="l00617"></a>00617         <span class="keywordflow">return</span> $this;
<a name="l00618"></a>00618     }
<a name="l00619"></a>00619 
<a name="l00626"></a><a class="code" href="class_zend___layout.html#a606d283c6da603df81b460d769e189b1">00626</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a606d283c6da603df81b460d769e189b1">setInflector</a>(Zend_Filter_Inflector $inflector)
<a name="l00627"></a>00627     {
<a name="l00628"></a>00628         $this-&gt;_inflector = $inflector;
<a name="l00629"></a>00629         <span class="keywordflow">return</span> $this;
<a name="l00630"></a>00630     }
<a name="l00631"></a>00631 
<a name="l00637"></a><a class="code" href="class_zend___layout.html#a3c19d8f9eedb4736f7d605396c15f709">00637</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a3c19d8f9eedb4736f7d605396c15f709">getInflector</a>()
<a name="l00638"></a>00638     {
<a name="l00639"></a>00639         <span class="keywordflow">if</span> (null === $this-&gt;_inflector) {
<a name="l00640"></a>00640             require_once <span class="stringliteral">&#39;Zend/Filter/Inflector.php&#39;</span>;
<a name="l00641"></a>00641             $inflector = <span class="keyword">new</span> Zend_Filter_Inflector();
<a name="l00642"></a>00642             $inflector-&gt;setTargetReference($this-&gt;_inflectorTarget)
<a name="l00643"></a>00643                       -&gt;addRules(array(<span class="stringliteral">&#39;:script&#39;</span> =&gt; array(<span class="stringliteral">&#39;Word_CamelCaseToDash&#39;</span>, <span class="stringliteral">&#39;StringToLower&#39;</span>)))
<a name="l00644"></a>00644                       -&gt;setStaticRuleReference(<span class="stringliteral">&#39;suffix&#39;</span>, $this-&gt;_viewSuffix);
<a name="l00645"></a>00645             $this-&gt;<a class="code" href="class_zend___layout.html#a606d283c6da603df81b460d769e189b1">setInflector</a>($inflector);
<a name="l00646"></a>00646         }
<a name="l00647"></a>00647 
<a name="l00648"></a>00648         <span class="keywordflow">return</span> $this-&gt;_inflector;
<a name="l00649"></a>00649     }
<a name="l00650"></a>00650 
<a name="l00656"></a><a class="code" href="class_zend___layout.html#a55c59fcb186adbf5749bc8f34ab42160">00656</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a55c59fcb186adbf5749bc8f34ab42160">enableInflector</a>()
<a name="l00657"></a>00657     {
<a name="l00658"></a>00658         $this-&gt;_inflectorEnabled = <span class="keyword">true</span>;
<a name="l00659"></a>00659         <span class="keywordflow">return</span> $this;
<a name="l00660"></a>00660     }
<a name="l00661"></a>00661 
<a name="l00667"></a><a class="code" href="class_zend___layout.html#af2f64a0b005a6ae90671746da692d36f">00667</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#af2f64a0b005a6ae90671746da692d36f">disableInflector</a>()
<a name="l00668"></a>00668     {
<a name="l00669"></a>00669         $this-&gt;_inflectorEnabled = <span class="keyword">false</span>;
<a name="l00670"></a>00670         <span class="keywordflow">return</span> $this;
<a name="l00671"></a>00671     }
<a name="l00672"></a>00672 
<a name="l00678"></a><a class="code" href="class_zend___layout.html#a816f4ea9dd164918889c6ccb1239fc96">00678</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a816f4ea9dd164918889c6ccb1239fc96">inflectorEnabled</a>()
<a name="l00679"></a>00679     {
<a name="l00680"></a>00680         <span class="keywordflow">return</span> $this-&gt;_inflectorEnabled;
<a name="l00681"></a>00681     }
<a name="l00682"></a>00682 
<a name="l00690"></a><a class="code" href="class_zend___layout.html#a79b36d71c6f1d4f9e6c4c3e34c081456">00690</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a79b36d71c6f1d4f9e6c4c3e34c081456">__set</a>($key, $value)
<a name="l00691"></a>00691     {
<a name="l00692"></a>00692         $this-&gt;_container[$key] = $value;
<a name="l00693"></a>00693     }
<a name="l00694"></a>00694 
<a name="l00701"></a><a class="code" href="class_zend___layout.html#a4537dad3b44254124991341cc91b28fb">00701</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a4537dad3b44254124991341cc91b28fb">__get</a>($key)
<a name="l00702"></a>00702     {
<a name="l00703"></a>00703         <span class="keywordflow">if</span> (isset($this-&gt;_container[$key])) {
<a name="l00704"></a>00704             <span class="keywordflow">return</span> $this-&gt;_container[$key];
<a name="l00705"></a>00705         }
<a name="l00706"></a>00706 
<a name="l00707"></a>00707         <span class="keywordflow">return</span> null;
<a name="l00708"></a>00708     }
<a name="l00709"></a>00709 
<a name="l00716"></a><a class="code" href="class_zend___layout.html#ae858fed7cd2822fbceac154138b68baa">00716</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#ae858fed7cd2822fbceac154138b68baa">__isset</a>($key)
<a name="l00717"></a>00717     {
<a name="l00718"></a>00718         <span class="keywordflow">return</span> (isset($this-&gt;_container[$key]));
<a name="l00719"></a>00719     }
<a name="l00720"></a>00720 
<a name="l00727"></a><a class="code" href="class_zend___layout.html#a41af7dd29c879b4c30978876ebdf4ba7">00727</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#a41af7dd29c879b4c30978876ebdf4ba7">__unset</a>($key)
<a name="l00728"></a>00728     {
<a name="l00729"></a>00729         <span class="keywordflow">if</span> (isset($this-&gt;_container[$key])) {
<a name="l00730"></a>00730             unset($this-&gt;_container[$key]);
<a name="l00731"></a>00731         }
<a name="l00732"></a>00732     }
<a name="l00733"></a>00733 
<a name="l00743"></a><a class="code" href="class_zend___layout.html#aea7625b64739ca31a78b55b8938af45a">00743</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#aea7625b64739ca31a78b55b8938af45a">assign</a>($spec, $value = null)
<a name="l00744"></a>00744     {
<a name="l00745"></a>00745         <span class="keywordflow">if</span> (is_array($spec)) {
<a name="l00746"></a>00746             $orig = $this-&gt;_container-&gt;getArrayCopy();
<a name="l00747"></a>00747             $merged = array_merge($orig, $spec);
<a name="l00748"></a>00748             $this-&gt;_container-&gt;exchangeArray($merged);
<a name="l00749"></a>00749             <span class="keywordflow">return</span> $this;
<a name="l00750"></a>00750         }
<a name="l00751"></a>00751 
<a name="l00752"></a>00752         <span class="keywordflow">if</span> (is_string($spec)) {
<a name="l00753"></a>00753             $this-&gt;_container[$spec] = $value;
<a name="l00754"></a>00754             <span class="keywordflow">return</span> $this;
<a name="l00755"></a>00755         }
<a name="l00756"></a>00756 
<a name="l00757"></a>00757         require_once <span class="stringliteral">&#39;Zend/Layout/Exception.php&#39;</span>;
<a name="l00758"></a>00758         <span class="keywordflow">throw</span> <span class="keyword">new</span> Zend_Layout_Exception(<span class="stringliteral">&#39;Invalid values passed to assign()&#39;</span>);
<a name="l00759"></a>00759     }
<a name="l00760"></a>00760 
<a name="l00773"></a><a class="code" href="class_zend___layout.html#ad72350ba749798f7dd7f82433d4927a1">00773</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___layout.html#ad72350ba749798f7dd7f82433d4927a1">render</a>($name = null)
<a name="l00774"></a>00774     {
<a name="l00775"></a>00775         <span class="keywordflow">if</span> (null === $name) {
<a name="l00776"></a>00776             $name = $this-&gt;<a class="code" href="class_zend___layout.html#a5c316721766e9cd8ad5d0085e64048ed">getLayout</a>();
<a name="l00777"></a>00777         }
<a name="l00778"></a>00778 
<a name="l00779"></a>00779         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="class_zend___layout.html#a816f4ea9dd164918889c6ccb1239fc96">inflectorEnabled</a>() &amp;&amp; (null !== ($inflector = $this-&gt;<a class="code" href="class_zend___layout.html#a3c19d8f9eedb4736f7d605396c15f709">getInflector</a>())))
<a name="l00780"></a>00780         {
<a name="l00781"></a>00781             $name = $this-&gt;_inflector-&gt;filter(array(<span class="stringliteral">&#39;script&#39;</span> =&gt; $name));
<a name="l00782"></a>00782         }
<a name="l00783"></a>00783 
<a name="l00784"></a>00784         $view = $this-&gt;<a class="code" href="class_zend___layout.html#a50677812ea3f0258f7d03bbac5265413">getView</a>();
<a name="l00785"></a>00785 
<a name="l00786"></a>00786         <span class="keywordflow">if</span> (null !== ($path = $this-&gt;getViewScriptPath())) {
<a name="l00787"></a>00787             <span class="keywordflow">if</span> (method_exists($view, <span class="stringliteral">&#39;addScriptPath&#39;</span>)) {
<a name="l00788"></a>00788                 $view-&gt;addScriptPath($path);
<a name="l00789"></a>00789             } <span class="keywordflow">else</span> {
<a name="l00790"></a>00790                 $view-&gt;setScriptPath($path);
<a name="l00791"></a>00791             }
<a name="l00792"></a>00792         } elseif (null !== ($path = $this-&gt;getViewBasePath())) {
<a name="l00793"></a>00793             $view-&gt;addBasePath($path, $this-&gt;_viewBasePrefix);
<a name="l00794"></a>00794         }
<a name="l00795"></a>00795 
<a name="l00796"></a>00796         <span class="keywordflow">return</span> $view-&gt;render($name);
<a name="l00797"></a>00797     }
<a name="l00798"></a>00798 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 19 2012 17:01:17 for openbiz by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
