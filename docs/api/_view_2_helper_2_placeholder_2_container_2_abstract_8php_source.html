<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>openbiz: E:/E/GEAMP/www/openbiz/openbiz/others/Zend/View/Helper/Placeholder/Container/Abstract.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>E:/E/GEAMP/www/openbiz/openbiz/others/Zend/View/Helper/Placeholder/Container/Abstract.php</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00031"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html">00031</a> <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html">Zend_View_Helper_Placeholder_Container_Abstract</a> <span class="keyword">extends</span> ArrayObject
<a name="l00032"></a>00032 {
<a name="l00037"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ae1f95d9ef47c18552af9585737d7652b">00037</a>     <span class="keyword">const</span> <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ae1f95d9ef47c18552af9585737d7652b">SET</a>    = <span class="stringliteral">&#39;SET&#39;</span>;
<a name="l00038"></a>00038 
<a name="l00043"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a3c20641fcacc78eafc28f1494c4ccd7b">00043</a>     <span class="keyword">const</span> <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a3c20641fcacc78eafc28f1494c4ccd7b">APPEND</a> = <span class="stringliteral">&#39;APPEND&#39;</span>;
<a name="l00044"></a>00044 
<a name="l00049"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ae7efc31526f78425183cb0b7eef72852">00049</a>     <span class="keyword">const</span> <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ae7efc31526f78425183cb0b7eef72852">PREPEND</a> = <span class="stringliteral">&#39;PREPEND&#39;</span>;
<a name="l00050"></a>00050 
<a name="l00055"></a>00055     <span class="keyword">protected</span> $_prefix    = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00056"></a>00056 
<a name="l00061"></a>00061     <span class="keyword">protected</span> $_postfix   = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00062"></a>00062 
<a name="l00067"></a>00067     <span class="keyword">protected</span> $_separator = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00068"></a>00068 
<a name="l00073"></a>00073     <span class="keyword">protected</span> $_indent = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00074"></a>00074 
<a name="l00079"></a>00079     <span class="keyword">protected</span> $_captureLock = <span class="keyword">false</span>;
<a name="l00080"></a>00080 
<a name="l00085"></a>00085     <span class="keyword">protected</span> $_captureType;
<a name="l00086"></a>00086 
<a name="l00091"></a>00091     <span class="keyword">protected</span> $_captureKey;
<a name="l00092"></a>00092 
<a name="l00098"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a095c5d389db211932136b53f25f39685">00098</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a095c5d389db211932136b53f25f39685">__construct</a>()
<a name="l00099"></a>00099     {
<a name="l00100"></a>00100         <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a095c5d389db211932136b53f25f39685">parent::__construct</a>(array(), parent::ARRAY_AS_PROPS);
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102 
<a name="l00109"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a4cb9716a3dead296474d25838294ed39">00109</a>     <span class="keyword">public</span> function <span class="keyword">set</span>($value)
<a name="l00110"></a>00110     {
<a name="l00111"></a>00111         $this-&gt;exchangeArray(array($value));
<a name="l00112"></a>00112     }
<a name="l00113"></a>00113 
<a name="l00120"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a50faec4353523f6192d575e8257240d8">00120</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a50faec4353523f6192d575e8257240d8">prepend</a>($value)
<a name="l00121"></a>00121     {
<a name="l00122"></a>00122         $values = $this-&gt;getArrayCopy();
<a name="l00123"></a>00123         array_unshift($values, $value);
<a name="l00124"></a>00124         $this-&gt;exchangeArray($values);
<a name="l00125"></a>00125     }
<a name="l00126"></a>00126 
<a name="l00135"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ac0bc18784b182c89fcfd276625aef435">00135</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ac0bc18784b182c89fcfd276625aef435">getValue</a>()
<a name="l00136"></a>00136     {
<a name="l00137"></a>00137         <span class="keywordflow">if</span> (1 == count($this)) {
<a name="l00138"></a>00138             $keys = $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a0b5b284ffa53a1b9f363584aed2792bf">getKeys</a>();
<a name="l00139"></a>00139             $key  = array_shift($keys);
<a name="l00140"></a>00140             <span class="keywordflow">return</span> $this[$key];
<a name="l00141"></a>00141         }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143         <span class="keywordflow">return</span> $this-&gt;getArrayCopy();
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145 
<a name="l00152"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a523b9bda674fc27df98f0da0b3f3276c">00152</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a523b9bda674fc27df98f0da0b3f3276c">setPrefix</a>($prefix)
<a name="l00153"></a>00153     {
<a name="l00154"></a>00154         $this-&gt;_prefix = (string) $prefix;
<a name="l00155"></a>00155         <span class="keywordflow">return</span> $this;
<a name="l00156"></a>00156     }
<a name="l00157"></a>00157 
<a name="l00163"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a7a333affb97cf092d50f3e59edaa9066">00163</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a7a333affb97cf092d50f3e59edaa9066">getPrefix</a>()
<a name="l00164"></a>00164     {
<a name="l00165"></a>00165         <span class="keywordflow">return</span> $this-&gt;_prefix;
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 
<a name="l00174"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a9a88de5c1e18e5a8b03ae105b2445d0d">00174</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a9a88de5c1e18e5a8b03ae105b2445d0d">setPostfix</a>($postfix)
<a name="l00175"></a>00175     {
<a name="l00176"></a>00176         $this-&gt;_postfix = (string) $postfix;
<a name="l00177"></a>00177         <span class="keywordflow">return</span> $this;
<a name="l00178"></a>00178     }
<a name="l00179"></a>00179 
<a name="l00185"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a7c4f3d4cf5445a1b7a0042ba4be68602">00185</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a7c4f3d4cf5445a1b7a0042ba4be68602">getPostfix</a>()
<a name="l00186"></a>00186     {
<a name="l00187"></a>00187         <span class="keywordflow">return</span> $this-&gt;_postfix;
<a name="l00188"></a>00188     }
<a name="l00189"></a>00189 
<a name="l00198"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a4d614f573db3b2c769bdde6de9239464">00198</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a4d614f573db3b2c769bdde6de9239464">setSeparator</a>($separator)
<a name="l00199"></a>00199     {
<a name="l00200"></a>00200         $this-&gt;_separator = (string) $separator;
<a name="l00201"></a>00201         <span class="keywordflow">return</span> $this;
<a name="l00202"></a>00202     }
<a name="l00203"></a>00203 
<a name="l00209"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a8df509f18778352002dfb2b5088fb25a">00209</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a8df509f18778352002dfb2b5088fb25a">getSeparator</a>()
<a name="l00210"></a>00210     {
<a name="l00211"></a>00211         <span class="keywordflow">return</span> $this-&gt;_separator;
<a name="l00212"></a>00212     }
<a name="l00213"></a>00213 
<a name="l00221"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#aa75c8f3baa0d5bed1135d416b6c3d29f">00221</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#aa75c8f3baa0d5bed1135d416b6c3d29f">setIndent</a>($indent)
<a name="l00222"></a>00222     {
<a name="l00223"></a>00223         $this-&gt;_indent = $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ae5c128e08fb2180236921624be40ce58">getWhitespace</a>($indent);
<a name="l00224"></a>00224         <span class="keywordflow">return</span> $this;
<a name="l00225"></a>00225     }
<a name="l00226"></a>00226 
<a name="l00232"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a0a09e0110a81470ca7791be5738f353f">00232</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a0a09e0110a81470ca7791be5738f353f">getIndent</a>()
<a name="l00233"></a>00233     {
<a name="l00234"></a>00234         <span class="keywordflow">return</span> $this-&gt;_indent;
<a name="l00235"></a>00235     }
<a name="l00236"></a>00236 
<a name="l00243"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ae5c128e08fb2180236921624be40ce58">00243</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ae5c128e08fb2180236921624be40ce58">getWhitespace</a>($indent)
<a name="l00244"></a>00244     {
<a name="l00245"></a>00245         <span class="keywordflow">if</span> (is_int($indent)) {
<a name="l00246"></a>00246             $indent = str_repeat(<span class="charliteral">&#39; &#39;</span>, $indent);
<a name="l00247"></a>00247         }
<a name="l00248"></a>00248 
<a name="l00249"></a>00249         <span class="keywordflow">return</span> (<span class="keywordtype">string</span>) $indent;
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251 
<a name="l00259"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a1bcd00dded2c738cfb1f813ae98126c1">00259</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a1bcd00dded2c738cfb1f813ae98126c1">captureStart</a>($type = <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a3c20641fcacc78eafc28f1494c4ccd7b">Zend_View_Helper_Placeholder_Container_Abstract::APPEND</a>, $key = null)
<a name="l00260"></a>00260     {
<a name="l00261"></a>00261         <span class="keywordflow">if</span> ($this-&gt;_captureLock) {
<a name="l00262"></a>00262             require_once <span class="stringliteral">&#39;Zend/View/Helper/Placeholder/Container/Exception.php&#39;</span>;
<a name="l00263"></a>00263             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___view___helper___placeholder___container___exception.html">Zend_View_Helper_Placeholder_Container_Exception</a>(<span class="stringliteral">&#39;Cannot nest placeholder captures for the same placeholder&#39;</span>);
<a name="l00264"></a>00264         }
<a name="l00265"></a>00265 
<a name="l00266"></a>00266         $this-&gt;_captureLock = <span class="keyword">true</span>;
<a name="l00267"></a>00267         $this-&gt;_captureType = $type;
<a name="l00268"></a>00268         <span class="keywordflow">if</span> ((null !== $key) &amp;&amp; is_scalar($key)) {
<a name="l00269"></a>00269             $this-&gt;_captureKey = (string) $key;
<a name="l00270"></a>00270         }
<a name="l00271"></a>00271         ob_start();
<a name="l00272"></a>00272     }
<a name="l00273"></a>00273 
<a name="l00279"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#aa9a0346db2d7ac80731db6228eb91d0c">00279</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#aa9a0346db2d7ac80731db6228eb91d0c">captureEnd</a>()
<a name="l00280"></a>00280     {
<a name="l00281"></a>00281         $data               = ob_get_clean();
<a name="l00282"></a>00282         $key                = null;
<a name="l00283"></a>00283         $this-&gt;_captureLock = <span class="keyword">false</span>;
<a name="l00284"></a>00284         <span class="keywordflow">if</span> (null !== $this-&gt;_captureKey) {
<a name="l00285"></a>00285             $key = $this-&gt;_captureKey;
<a name="l00286"></a>00286         }
<a name="l00287"></a>00287         <span class="keywordflow">switch</span> ($this-&gt;_captureType) {
<a name="l00288"></a>00288             <span class="keywordflow">case</span> self::SET:
<a name="l00289"></a>00289                 <span class="keywordflow">if</span> (null !== $key) {
<a name="l00290"></a>00290                     $this[$key] = $data;
<a name="l00291"></a>00291                 } <span class="keywordflow">else</span> {
<a name="l00292"></a>00292                     $this-&gt;exchangeArray(array($data));
<a name="l00293"></a>00293                 }
<a name="l00294"></a>00294                 <span class="keywordflow">break</span>;
<a name="l00295"></a>00295             <span class="keywordflow">case</span> self::PREPEND:
<a name="l00296"></a>00296                 <span class="keywordflow">if</span> (null !== $key) {
<a name="l00297"></a>00297                     $array  = array($key =&gt; $data);
<a name="l00298"></a>00298                     $values = $this-&gt;getArrayCopy();
<a name="l00299"></a>00299                     $final  = $array + $values;
<a name="l00300"></a>00300                     $this-&gt;exchangeArray($final);
<a name="l00301"></a>00301                 } <span class="keywordflow">else</span> {
<a name="l00302"></a>00302                     $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a50faec4353523f6192d575e8257240d8">prepend</a>($data);
<a name="l00303"></a>00303                 }
<a name="l00304"></a>00304                 <span class="keywordflow">break</span>;
<a name="l00305"></a>00305             <span class="keywordflow">case</span> self::APPEND:
<a name="l00306"></a>00306             <span class="keywordflow">default</span>:
<a name="l00307"></a>00307                 <span class="keywordflow">if</span> (null !== $key) {
<a name="l00308"></a>00308                     <span class="keywordflow">if</span> (empty($this[$key])) {
<a name="l00309"></a>00309                         $this[$key] = $data;
<a name="l00310"></a>00310                     } <span class="keywordflow">else</span> {
<a name="l00311"></a>00311                         $this[$key] .= $data;
<a name="l00312"></a>00312                     }
<a name="l00313"></a>00313                 } <span class="keywordflow">else</span> {
<a name="l00314"></a>00314                     $this[$this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#af1fdce08026102b2027de5259db42338">nextIndex</a>()] = $data;
<a name="l00315"></a>00315                 }
<a name="l00316"></a>00316                 <span class="keywordflow">break</span>;
<a name="l00317"></a>00317         }
<a name="l00318"></a>00318     }
<a name="l00319"></a>00319 
<a name="l00325"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a0b5b284ffa53a1b9f363584aed2792bf">00325</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a0b5b284ffa53a1b9f363584aed2792bf">getKeys</a>()
<a name="l00326"></a>00326     {
<a name="l00327"></a>00327         $array = $this-&gt;getArrayCopy();
<a name="l00328"></a>00328         <span class="keywordflow">return</span> array_keys($array);
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330 
<a name="l00337"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#af1fdce08026102b2027de5259db42338">00337</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#af1fdce08026102b2027de5259db42338">nextIndex</a>()
<a name="l00338"></a>00338     {
<a name="l00339"></a>00339         $keys = $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a0b5b284ffa53a1b9f363584aed2792bf">getKeys</a>();
<a name="l00340"></a>00340         <span class="keywordflow">if</span> (0 == count($keys)) {
<a name="l00341"></a>00341             <span class="keywordflow">return</span> 0;
<a name="l00342"></a>00342         }
<a name="l00343"></a>00343 
<a name="l00344"></a>00344         <span class="keywordflow">return</span> $nextIndex = max($keys) + 1;
<a name="l00345"></a>00345     }
<a name="l00346"></a>00346 
<a name="l00352"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a682ea394aa917ecb060ba4d1b6e334fc">00352</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a682ea394aa917ecb060ba4d1b6e334fc">toString</a>($indent = null)
<a name="l00353"></a>00353     {
<a name="l00354"></a>00354         $indent = ($indent !== null)
<a name="l00355"></a>00355                 ? $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#ae5c128e08fb2180236921624be40ce58">getWhitespace</a>($indent)
<a name="l00356"></a>00356                 : $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a0a09e0110a81470ca7791be5738f353f">getIndent</a>();
<a name="l00357"></a>00357 
<a name="l00358"></a>00358         $items  = $this-&gt;getArrayCopy();
<a name="l00359"></a>00359         $return = $indent
<a name="l00360"></a>00360                 . $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a7a333affb97cf092d50f3e59edaa9066">getPrefix</a>()
<a name="l00361"></a>00361                 . implode($this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a8df509f18778352002dfb2b5088fb25a">getSeparator</a>(), $items)
<a name="l00362"></a>00362                 . $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a7c4f3d4cf5445a1b7a0042ba4be68602">getPostfix</a>();
<a name="l00363"></a>00363         $return = preg_replace(<span class="stringliteral">&quot;/(\r\n?|\n)/&quot;</span>, <span class="stringliteral">&#39;$1&#39;</span> . $indent, $return);
<a name="l00364"></a>00364         <span class="keywordflow">return</span> $return;
<a name="l00365"></a>00365     }
<a name="l00366"></a>00366 
<a name="l00372"></a><a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a7516ca30af0db3cdbf9a7739b48ce91d">00372</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a7516ca30af0db3cdbf9a7739b48ce91d">__toString</a>()
<a name="l00373"></a>00373     {
<a name="l00374"></a>00374         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___view___helper___placeholder___container___abstract.html#a682ea394aa917ecb060ba4d1b6e334fc">toString</a>();
<a name="l00375"></a>00375     }
<a name="l00376"></a>00376 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 19 2012 17:01:17 for openbiz by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
