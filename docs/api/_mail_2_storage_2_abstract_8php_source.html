<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>openbiz: E:/E/GEAMP/www/openbiz/openbiz/others/Zend/Mail/Storage/Abstract.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>E:/E/GEAMP/www/openbiz/openbiz/others/Zend/Mail/Storage/Abstract.php</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00031"></a><a class="code" href="class_zend___mail___storage___abstract.html">00031</a> <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="class_zend___mail___storage___abstract.html">Zend_Mail_Storage_Abstract</a> <span class="keyword">implements</span> Countable, ArrayAccess, SeekableIterator
<a name="l00032"></a>00032 {
<a name="l00037"></a>00037     <span class="keyword">protected</span> $_has = array(<span class="stringliteral">&#39;uniqueid&#39;</span>  =&gt; <span class="keyword">true</span>,
<a name="l00038"></a>00038                             <span class="stringliteral">&#39;delete&#39;</span>    =&gt; <span class="keyword">false</span>,
<a name="l00039"></a>00039                             <span class="stringliteral">&#39;create&#39;</span>    =&gt; <span class="keyword">false</span>,
<a name="l00040"></a>00040                             <span class="stringliteral">&#39;top&#39;</span>       =&gt; <span class="keyword">false</span>,
<a name="l00041"></a>00041                             <span class="stringliteral">&#39;fetchPart&#39;</span> =&gt; <span class="keyword">true</span>,
<a name="l00042"></a>00042                             <span class="stringliteral">&#39;flags&#39;</span>     =&gt; <span class="keyword">false</span>);
<a name="l00043"></a>00043 
<a name="l00048"></a>00048     <span class="keyword">protected</span> $_iterationPos = 0;
<a name="l00049"></a>00049 
<a name="l00054"></a>00054     <span class="keyword">protected</span> $_iterationMax = null;
<a name="l00055"></a>00055 
<a name="l00060"></a>00060     <span class="keyword">protected</span> $_messageClass = <span class="stringliteral">&#39;Zend_Mail_Message&#39;</span>;
<a name="l00061"></a>00061 
<a name="l00075"></a><a class="code" href="class_zend___mail___storage___abstract.html#a8fb2d9cdca17b87400e780b9f9720933">00075</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a8fb2d9cdca17b87400e780b9f9720933">__get</a>($var)
<a name="l00076"></a>00076     {
<a name="l00077"></a>00077         <span class="keywordflow">if</span> (strpos($var, <span class="stringliteral">&#39;has&#39;</span>) === 0) {
<a name="l00078"></a>00078             $var = strtolower(substr($var, 3));
<a name="l00079"></a>00079             <span class="keywordflow">return</span> isset($this-&gt;_has[$var]) ? $this-&gt;_has[$var] : null;
<a name="l00080"></a>00080         }
<a name="l00081"></a>00081 
<a name="l00085"></a>00085         require_once <span class="stringliteral">&#39;Zend/Mail/Storage/Exception.php&#39;</span>;
<a name="l00086"></a>00086         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___mail___storage___exception.html">Zend_Mail_Storage_Exception</a>($var . <span class="stringliteral">&#39; not found&#39;</span>);
<a name="l00087"></a>00087     }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00095"></a><a class="code" href="class_zend___mail___storage___abstract.html#aef6a344a8de433b50039668ea77ed506">00095</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#aef6a344a8de433b50039668ea77ed506">getCapabilities</a>()
<a name="l00096"></a>00096     {
<a name="l00097"></a>00097         <span class="keywordflow">return</span> $this-&gt;_has;
<a name="l00098"></a>00098     }
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00107"></a>00107     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a2af6a7c2f914df81f57a13a6a518661a">countMessages</a>();
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 
<a name="l00116"></a>00116     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a649ca975376ecee9d4e399d550865344">getSize</a>($id = 0);
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00125"></a>00125     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a86ea515928072d5f7cf1f112d3031782">getMessage</a>($id);
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 
<a name="l00136"></a>00136     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#abc2e51c1e6f29e8121f13ea3f773e1e5">getRawHeader</a>($id, $part = null, $topLines = 0);
<a name="l00137"></a>00137 
<a name="l00145"></a>00145     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a6c52e023cb423e1ad74e7e6b7af60f9f">getRawContent</a>($id, $part = null);
<a name="l00146"></a>00146 
<a name="l00153"></a>00153     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a9162320adff1a1a4afd7f2372f753a3e">__construct</a>($params);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 
<a name="l00159"></a><a class="code" href="class_zend___mail___storage___abstract.html#a421831a265621325e1fdd19aace0c758">00159</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a421831a265621325e1fdd19aace0c758">__destruct</a>()
<a name="l00160"></a>00160     {
<a name="l00161"></a>00161         $this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#aa69c8bf1f1dcf4e72552efff1fe3e87e">close</a>();
<a name="l00162"></a>00162     }
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 
<a name="l00171"></a>00171     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#aa69c8bf1f1dcf4e72552efff1fe3e87e">close</a>();
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 
<a name="l00179"></a>00179     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a5b0d7b9e52bc856532f248f24da5d2d7">noop</a>();
<a name="l00180"></a>00180 
<a name="l00186"></a>00186     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#ae0124a1a7eb88dee437cdde75692d06c">removeMessage</a>($id);
<a name="l00187"></a>00187 
<a name="l00197"></a>00197     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a54ebf4d8b63be34c7e54b579b97cc591">getUniqueId</a>($id = null);
<a name="l00198"></a>00198 
<a name="l00209"></a>00209     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a611119496973e6367f37fdc3575e604e">getNumberByUniqueId</a>($id);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211     <span class="comment">// interface implementations follows</span>
<a name="l00212"></a>00212 
<a name="l00218"></a><a class="code" href="class_zend___mail___storage___abstract.html#ac751e87b3d4c4bf2feb03bee8b092755">00218</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#ac751e87b3d4c4bf2feb03bee8b092755">count</a>()
<a name="l00219"></a>00219      {
<a name="l00220"></a>00220         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#a2af6a7c2f914df81f57a13a6a518661a">countMessages</a>();
<a name="l00221"></a>00221      }
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 
<a name="l00230"></a><a class="code" href="class_zend___mail___storage___abstract.html#a36022f74d2af3460d2f31b1ec2cdf4f5">00230</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a36022f74d2af3460d2f31b1ec2cdf4f5">offsetExists</a>($id)
<a name="l00231"></a>00231      {
<a name="l00232"></a>00232         <span class="keywordflow">try</span> {
<a name="l00233"></a>00233             <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#a86ea515928072d5f7cf1f112d3031782">getMessage</a>($id)) {
<a name="l00234"></a>00234                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00235"></a>00235             }
<a name="l00236"></a>00236         } <span class="keywordflow">catch</span>(<a class="code" href="class_zend___mail___storage___exception.html">Zend_Mail_Storage_Exception</a> $e) {}
<a name="l00237"></a>00237 
<a name="l00238"></a>00238         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00239"></a>00239      }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 
<a name="l00248"></a><a class="code" href="class_zend___mail___storage___abstract.html#ad3160fd77052cd8345ca74d9a894e4e5">00248</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#ad3160fd77052cd8345ca74d9a894e4e5">offsetGet</a>($id)
<a name="l00249"></a>00249      {
<a name="l00250"></a>00250         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#a86ea515928072d5f7cf1f112d3031782">getMessage</a>($id);
<a name="l00251"></a>00251      }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 
<a name="l00262"></a><a class="code" href="class_zend___mail___storage___abstract.html#a895cbc7dec498a5bb027e7b58dd196d8">00262</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a895cbc7dec498a5bb027e7b58dd196d8">offsetSet</a>($id, $value)
<a name="l00263"></a>00263      {
<a name="l00267"></a>00267         require_once <span class="stringliteral">&#39;Zend/Mail/Storage/Exception.php&#39;</span>;
<a name="l00268"></a>00268         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___mail___storage___exception.html">Zend_Mail_Storage_Exception</a>(<span class="stringliteral">&#39;cannot write mail messages via array access&#39;</span>);
<a name="l00269"></a>00269      }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 
<a name="l00278"></a><a class="code" href="class_zend___mail___storage___abstract.html#af31a0d2c46ed4fcd860098ccf4ceeb9a">00278</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#af31a0d2c46ed4fcd860098ccf4ceeb9a">offsetUnset</a>($id)
<a name="l00279"></a>00279      {
<a name="l00280"></a>00280         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#ae0124a1a7eb88dee437cdde75692d06c">removeMessage</a>($id);
<a name="l00281"></a>00281      }
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 
<a name="l00293"></a><a class="code" href="class_zend___mail___storage___abstract.html#ae619dcf2218c21549cb65d875bbc6c9c">00293</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#ae619dcf2218c21549cb65d875bbc6c9c">rewind</a>()
<a name="l00294"></a>00294      {
<a name="l00295"></a>00295         $this-&gt;_iterationMax = $this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#a2af6a7c2f914df81f57a13a6a518661a">countMessages</a>();
<a name="l00296"></a>00296         $this-&gt;_iterationPos = 1;
<a name="l00297"></a>00297      }
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 
<a name="l00305"></a><a class="code" href="class_zend___mail___storage___abstract.html#af343507d1926e6ecf964625d41db528c">00305</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#af343507d1926e6ecf964625d41db528c">current</a>()
<a name="l00306"></a>00306      {
<a name="l00307"></a>00307         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#a86ea515928072d5f7cf1f112d3031782">getMessage</a>($this-&gt;_iterationPos);
<a name="l00308"></a>00308      }
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 
<a name="l00316"></a><a class="code" href="class_zend___mail___storage___abstract.html#a729e946b4ef600e71740113c6d4332c0">00316</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a729e946b4ef600e71740113c6d4332c0">key</a>()
<a name="l00317"></a>00317      {
<a name="l00318"></a>00318         <span class="keywordflow">return</span> $this-&gt;_iterationPos;
<a name="l00319"></a>00319      }
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 
<a name="l00327"></a><a class="code" href="class_zend___mail___storage___abstract.html#acea62048bfee7b3cd80ed446c86fb78a">00327</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#acea62048bfee7b3cd80ed446c86fb78a">next</a>()
<a name="l00328"></a>00328      {
<a name="l00329"></a>00329         ++$this-&gt;_iterationPos;
<a name="l00330"></a>00330      }
<a name="l00331"></a>00331 
<a name="l00332"></a>00332 
<a name="l00338"></a><a class="code" href="class_zend___mail___storage___abstract.html#abb9f0d6adf1eb9b3b55712056861a247">00338</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#abb9f0d6adf1eb9b3b55712056861a247">valid</a>()
<a name="l00339"></a>00339      {
<a name="l00340"></a>00340         <span class="keywordflow">if</span> ($this-&gt;_iterationMax === null) {
<a name="l00341"></a>00341           $this-&gt;_iterationMax = $this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#a2af6a7c2f914df81f57a13a6a518661a">countMessages</a>();
<a name="l00342"></a>00342         }
<a name="l00343"></a>00343         <span class="keywordflow">return</span> $this-&gt;_iterationPos &amp;&amp; $this-&gt;_iterationPos &lt;= $this-&gt;_iterationMax;
<a name="l00344"></a>00344      }
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 
<a name="l00354"></a><a class="code" href="class_zend___mail___storage___abstract.html#a1803a398f36339028b32082a20b4bcac">00354</a>      <span class="keyword">public</span> function <a class="code" href="class_zend___mail___storage___abstract.html#a1803a398f36339028b32082a20b4bcac">seek</a>($pos)
<a name="l00355"></a>00355      {
<a name="l00356"></a>00356         <span class="keywordflow">if</span> ($this-&gt;_iterationMax === null) {
<a name="l00357"></a>00357           $this-&gt;_iterationMax = $this-&gt;<a class="code" href="class_zend___mail___storage___abstract.html#a2af6a7c2f914df81f57a13a6a518661a">countMessages</a>();
<a name="l00358"></a>00358         }
<a name="l00359"></a>00359 
<a name="l00360"></a>00360         <span class="keywordflow">if</span> ($pos &gt; $this-&gt;_iterationMax) {
<a name="l00361"></a>00361             <span class="keywordflow">throw</span> <span class="keyword">new</span> OutOfBoundsException(<span class="stringliteral">&#39;this position does not exist&#39;</span>);
<a name="l00362"></a>00362         }
<a name="l00363"></a>00363         $this-&gt;_iterationPos = $pos;
<a name="l00364"></a>00364      }
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 19 2012 17:01:17 for openbiz by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
