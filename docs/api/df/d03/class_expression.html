<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3"/>
<title>Openbiz Framework API: Expression Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doc-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../openbiz-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Openbiz Framework API
   &#160;<span id="projectnumber">3.1</span>
   </div>
   <div id="projectbrief">Open source PHP Framework that designed for building web application.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d03/class_expression.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Expression Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for Expression:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d4/dc6/class_expression__coll__graph.png" border="0" usemap="#_expression_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a847d8d60f037d0a016aca7006cf9dec6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#a847d8d60f037d0a016aca7006cf9dec6">__construct</a> (&amp;$xmlArr)</td></tr>
<tr class="separator:a847d8d60f037d0a016aca7006cf9dec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9bf8699028d3ae5289bd968a6447a09c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#a9bf8699028d3ae5289bd968a6447a09c">eval_syntax</a> ($code)</td></tr>
<tr class="separator:a9bf8699028d3ae5289bd968a6447a09c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d5504074029bc1ebe18dd8de91571c"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#a85d5504074029bc1ebe18dd8de91571c">evaluateExpression</a> ($expression, $object)</td></tr>
<tr class="separator:a85d5504074029bc1ebe18dd8de91571c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a4def20e1b81a3b477f902c950792b021"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#a4def20e1b81a3b477f902c950792b021">getNextContainerPos</a> ($expression, &amp;$start)</td></tr>
<tr class="separator:a4def20e1b81a3b477f902c950792b021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae990aef1e90abdb103def6d730e87c2b"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#ae990aef1e90abdb103def6d730e87c2b">replaceElementsExpr</a> ($expression, $formObj)</td></tr>
<tr class="separator:ae990aef1e90abdb103def6d730e87c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ce66e2ff3349d1cd7d27e1df5c604f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#a55ce66e2ff3349d1cd7d27e1df5c604f">replaceFieldsExpr</a> ($expression, $bizObj)</td></tr>
<tr class="separator:a55ce66e2ff3349d1cd7d27e1df5c604f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60becb0cb08a03dfd56e5219b74db325"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#a60becb0cb08a03dfd56e5219b74db325">replaceMacrosExpr</a> ($expression)</td></tr>
<tr class="separator:a60becb0cb08a03dfd56e5219b74db325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01547a166789d39853e468a05887c4c6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#a01547a166789d39853e468a05887c4c6">replaceVarExpr</a> ($expression, $object)</td></tr>
<tr class="separator:a01547a166789d39853e468a05887c4c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:afcfdfa59b8c847c285ccf13e5a88e907"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#afcfdfa59b8c847c285ccf13e5a88e907">$expContainers</a></td></tr>
<tr class="separator:afcfdfa59b8c847c285ccf13e5a88e907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d6d124a35cf4b31e238cc34be9d653"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d03/class_expression.html#a23d6d124a35cf4b31e238cc34be9d653">$services</a></td></tr>
<tr class="separator:a23d6d124a35cf4b31e238cc34be9d653"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00026">26</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a847d8d60f037d0a016aca7006cf9dec6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$xmlArr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00031">31</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9bf8699028d3ae5289bd968a6447a09c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static eval_syntax </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check expression for syntax errors just before eval() function If the expression fails, do not eval the funciton. Return DEBUG error in logs</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$code</td><td>- expression text </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00405">405</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d31/_expression_8php_source.html#l00319">evaluateExpression()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $b = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">foreach</span> (token_get_all($code) as $token)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (<span class="charliteral">&#39;{&#39;</span> == $token) ++$b;</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="charliteral">&#39;}&#39;</span> == $token) --$b;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ($b) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Unbalanced braces would break the eval below</span></div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            ob_start(); <span class="comment">// Catch potential parse error messages</span></div>
<div class="line">           <span class="comment">// if(preg_match(&quot;/.*?\= &#39;.*?&#39;/si&quot;,$code)){</span></div>
<div class="line">            <span class="comment">//if(!preg_match(&quot;/,/si&quot;,$code) &amp;&amp; !preg_match(&quot;/\//si&quot;,$code)){</span></div>
<div class="line">            <span class="comment">//if( !preg_match(&quot;/\//si&quot;,$code)){</span></div>
<div class="line">          $r = eval(<span class="stringliteral">&#39;if(0){&#39;</span> . $code . <span class="charliteral">&#39;}&#39;</span>); <span class="comment">// Put $code in a dead code sandbox to prevent its execution</span></div>
<div class="line">            <span class="comment">//}else{</span></div>
<div class="line">            <span class="comment">// return false;</span></div>
<div class="line">            <span class="comment">//}</span></div>
<div class="line">            $error = ob_get_contents();</div>
<div class="line">            <span class="keywordflow">if</span> ($r === <span class="keyword">false</span>)</div>
<div class="line">            {</div>
<div class="line">            <span class="comment">//trigger_error(&quot;EVAL: $code &quot;.$error, E_USER_ERROR);</span></div>
<div class="line">            <span class="comment">//BizSystem::log(LOG_ERR, &quot;ERROR&quot;, &quot;EVAL: $code. &quot;.$error);</span></div>
<div class="line">            }</div>
<div class="line">            ob_end_clean();</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span> !== $r;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../df/d03/class_expression_a9bf8699028d3ae5289bd968a6447a09c_icgraph.png" border="0" usemap="#df/d03/class_expression_a9bf8699028d3ae5289bd968a6447a09c_icgraph" alt=""/></div>
<map name="df/d03/class_expression_a9bf8699028d3ae5289bd968a6447a09c_icgraph" id="df/d03/class_expression_a9bf8699028d3ae5289bd968a6447a09c_icgraph">
<area shape="rect" id="node2" href="../../df/d03/class_expression.html#a85d5504074029bc1ebe18dd8de91571c" title="evaluateExpression" alt="" coords="147,1438,285,1466"/><area shape="rect" id="node3" href="../../d8/d08/class_biz_field.html#a80314b4a8ff745a399a730231eaf74b8" title="BizField\\getValue" alt="" coords="385,5,509,33"/><area shape="rect" id="node4" href="../../d8/d08/class_biz_field.html#af9b9401c63918169457fe8516324950f" title="BizField\\getDefaultValue" alt="" coords="363,57,530,85"/><area shape="rect" id="node5" href="../../d8/d08/class_biz_field.html#a28e2f59b6c1f32d18693464e7f558ae0" title="BizField\\getValueOnCreate" alt="" coords="356,109,538,137"/><area shape="rect" id="node6" href="../../d8/d08/class_biz_field.html#adae62abd872e582cd8617cf81b47f615" title="BizField\\getValueOnUpdate" alt="" coords="354,161,539,189"/><area shape="rect" id="node7" href="../../d8/d08/class_biz_field.html#aa4c8c1cac65717e36ec2dd2f08535857" title="BizField\\checkRequired" alt="" coords="366,213,527,241"/><area shape="rect" id="node8" href="../../d8/d08/class_biz_field.html#a184909dab34698899937d810a9f5d393" title="BizField\\validate" alt="" coords="387,265,506,293"/><area shape="rect" id="node9" href="../../d3/d10/class_easy_form.html#afbb8fcc4c21113c915263f4a1ca3c0c5" title="EasyForm\\outputAttrs" alt="" coords="372,317,522,345"/><area shape="rect" id="node10" href="../../db/d40/class_easy_view.html#afbb8fcc4c21113c915263f4a1ca3c0c5" title="EasyView\\outputAttrs" alt="" coords="373,369,521,397"/><area shape="rect" id="node11" href="../../d2/df4/class_checkbox.html#a94343a26b3068d62d2374bf4a8cfeb91" title="Checkbox\\getDefaultChecked" alt="" coords="348,421,546,449"/><area shape="rect" id="node12" href="../../d0/de8/class_column_bar.html#afde88292c44dc59faf017738dae6dffb" title="ColumnBar\\render" alt="" coords="627,835,757,863"/><area shape="rect" id="node13" href="../../d0/de8/class_column_bar.html#a1a9c641ae8a39113009425cbccaee5d5" title="ColumnBar\\getStyle" alt="" coords="377,835,517,863"/><area shape="rect" id="node15" href="../../d3/d37/class_column_bool.html#afde88292c44dc59faf017738dae6dffb" title="ColumnBool\\render" alt="" coords="624,2177,760,2205"/><area shape="rect" id="node16" href="../../dc/d5d/class_column_image.html#a07e72be0677630865d3292e14670096b" title="ColumnImage\\getAlt" alt="" coords="376,627,518,655"/><area shape="rect" id="node17" href="../../dc/d5d/class_column_image.html#a95e859a4588a39a1824b717378a84c29" title="ColumnImage\\getTitle" alt="" coords="371,679,522,707"/><area shape="rect" id="node18" href="../../d5/d09/class_column_list.html#abea978f4dcd47c4289232744d3ed2f01" title="ColumnList\\getLink" alt="" coords="379,731,514,759"/><area shape="rect" id="node19" href="../../d7/de0/class_column_share.html#afde88292c44dc59faf017738dae6dffb" title="ColumnShare\\render" alt="" coords="619,2301,765,2329"/><area shape="rect" id="node20" href="../../dc/d58/class_drop_down_list.html#afde88292c44dc59faf017738dae6dffb" title="DropDownList\\render" alt="" coords="824,797,971,825"/><area shape="rect" id="node21" href="../../dc/d58/class_drop_down_list.html#a7d91d8d8e577a0875dde7809472d3a41" title="DropDownList\\renderList" alt="" coords="608,575,776,603"/><area shape="rect" id="node22" href="../../dc/d58/class_drop_down_list.html#a6bf46184c1f8fff5f182aa3c2f5326a6" title="DropDownList\\getSelectFrom" alt="" coords="349,939,544,967"/><area shape="rect" id="node23" href="../../dc/d58/class_drop_down_list.html#a8338e531153b75a023f7ee86a080f092" title="DropDownList\\getSelectedList" alt="" coords="347,991,547,1019"/><area shape="rect" id="node24" href="../../dc/d58/class_drop_down_list.html#a738c28f6c74aff9a8548462b945c2a84" title="DropDownList\\getSelectFromSQL" alt="" coords="336,1043,558,1071"/><area shape="rect" id="node25" href="../../d0/dec/class_edit_combobox.html#a1a9c641ae8a39113009425cbccaee5d5" title="EditCombobox\\getStyle" alt="" coords="366,1095,527,1123"/><area shape="rect" id="node26" href="../../d5/d50/class_element.html#af9b9401c63918169457fe8516324950f" title="Element\\getDefaultValue" alt="" coords="363,1355,531,1383"/><area shape="rect" id="node28" href="../../d5/d50/class_element.html#a1d032efbce2b4edb7c269a1e13562f40" title="Element\\getHidden" alt="" coords="379,1199,514,1227"/><area shape="rect" id="node29" href="../../d5/d50/class_element.html#a1a9c641ae8a39113009425cbccaee5d5" title="Element\\getStyle" alt="" coords="386,2255,508,2283"/><area shape="rect" id="node32" href="../../d5/d50/class_element.html#a4ad6a97aea312d45fb3d2690f8e642dd" title="Element\\getBackgroundColor" alt="" coords="349,1303,544,1331"/><area shape="rect" id="node33" href="../../d5/d50/class_element.html#a8a2999b1d846c0a7bc77187e28facd99" title="Element\\getText" alt="" coords="388,575,505,603"/><area shape="rect" id="node34" href="../../d5/d50/class_element.html#a2e7bb35c71bf1824456ceb944cb7a845" title="Element\\getDescription" alt="" coords="367,1407,526,1435"/><area shape="rect" id="node35" href="../../d5/d50/class_element.html#a6e1c6c2cc8de5bd666dd9ba68f9b89fe" title="Element\\getFunctionByEvent\lHandlerName" alt="" coords="350,1459,543,1503"/><area shape="rect" id="node36" href="../../d5/d50/class_element.html#abc801caf128622d68070e5b656c2fc3a" title="Element\\getRedirectPage" alt="" coords="360,1527,533,1555"/><area shape="rect" id="node37" href="../../d5/d50/class_element.html#a9948e3272704960f325b9e0b1fc6a5b6" title="Element\\getParameter" alt="" coords="369,1579,524,1607"/><area shape="rect" id="node38" href="../../d5/d50/class_element.html#aa4c8c1cac65717e36ec2dd2f08535857" title="Element\\checkRequired" alt="" coords="365,1631,528,1659"/><area shape="rect" id="node39" href="../../d5/d50/class_element.html#a184909dab34698899937d810a9f5d393" title="Element\\validate" alt="" coords="387,1683,507,1711"/><area shape="rect" id="node40" href="../../d1/d27/class_event_handler.html#a5f77b4f1921d9d5851bdc2319dec3fb5" title="EventHandler\\getFormedFunction" alt="" coords="336,1735,557,1763"/><area shape="rect" id="node41" href="../../d1/d27/class_event_handler.html#a4eaa46af53f92b3462f3d2d18d8a11b7" title="EventHandler\\getInvokeAction" alt="" coords="346,1787,547,1815"/><area shape="rect" id="node42" href="../../db/dc1/class_h_t_m_l_preview.html#abea978f4dcd47c4289232744d3ed2f01" title="HTMLPreview\\getLink" alt="" coords="371,1839,523,1867"/><area shape="rect" id="node43" href="../../db/dc1/class_h_t_m_l_preview.html#a8a2999b1d846c0a7bc77187e28facd99" title="HTMLPreview\\getText" alt="" coords="371,1891,523,1919"/><area shape="rect" id="node44" href="../../d1/d37/class_i_frame_box.html#abea978f4dcd47c4289232744d3ed2f01" title="IFrameBox\\getLink" alt="" coords="380,1943,513,1971"/><area shape="rect" id="node45" href="../../d1/d37/class_i_frame_box.html#ae7fba4c8be1972cf80dc1a95f390df23" title="IFrameBox\\getWidth" alt="" coords="375,1995,518,2023"/><area shape="rect" id="node46" href="../../d1/d37/class_i_frame_box.html#aa725283ffc599b3f6563cada4cbeb2c7" title="IFrameBox\\getHeight" alt="" coords="373,2047,520,2075"/><area shape="rect" id="node27" href="../../db/d5a/class_image_selector.html#afde88292c44dc59faf017738dae6dffb" title="ImageSelector\\render" alt="" coords="617,1303,767,1331"/><area shape="rect" id="node47" href="../../d3/d05/class_input_element.html#ab442a42d8265e71787a82ef3a1b4549c" title="InputElement\\getEnabled" alt="" coords="361,887,532,915"/><area shape="rect" id="node48" href="../../d3/d05/class_input_element.html#a51bd39a627fe91242fa2d879a702b4c3" title="InputElement\\getRequired" alt="" coords="359,2203,535,2231"/><area shape="rect" id="node14" href="../../d0/df2/class_label_bar.html#afde88292c44dc59faf017738dae6dffb" title="LabelBar\\render" alt="" coords="634,1251,750,1279"/><area shape="rect" id="node31" href="../../da/dfd/class_label_bool.html#afde88292c44dc59faf017738dae6dffb" title="LabelBool\\render" alt="" coords="631,2353,753,2381"/><area shape="rect" id="node49" href="../../d9/d69/class_label_image.html#a5888f7e5883c7c2d486f7ddc1bd64760" title="LabelImage\\readMetaData" alt="" coords="357,2359,536,2387"/><area shape="rect" id="node50" href="../../d9/d69/class_label_image.html#afde88292c44dc59faf017738dae6dffb" title="LabelImage\\render" alt="" coords="625,2409,759,2437"/><area shape="rect" id="node51" href="../../d9/d80/class_label_list.html#abea978f4dcd47c4289232744d3ed2f01" title="LabelList\\getLink" alt="" coords="386,2463,507,2491"/><area shape="rect" id="node52" href="../../d6/d00/class_label_text.html#abea978f4dcd47c4289232744d3ed2f01" title="LabelText\\getLink" alt="" coords="384,2411,509,2439"/><area shape="rect" id="node53" href="../../d6/d00/class_label_text.html#a8a2999b1d846c0a7bc77187e28facd99" title="LabelText\\getText" alt="" coords="384,2151,509,2179"/><area shape="rect" id="node30" href="../../d8/da5/class_label_text_paging.html#afde88292c44dc59faf017738dae6dffb" title="LabelTextPaging\\render" alt="" coords="611,2461,773,2489"/><area shape="rect" id="node54" href="../../da/d7f/class_option_element.html#a6bf46184c1f8fff5f182aa3c2f5326a6" title="OptionElement\\getSelectFrom" alt="" coords="347,2669,547,2697"/><area shape="rect" id="node55" href="../../da/d7f/class_option_element.html#a8338e531153b75a023f7ee86a080f092" title="OptionElement\\getSelectedList" alt="" coords="344,2721,549,2749"/><area shape="rect" id="node56" href="../../da/d7f/class_option_element.html#a738c28f6c74aff9a8548462b945c2a84" title="OptionElement\\getSelectFromSQL" alt="" coords="333,2773,560,2801"/><area shape="rect" id="node57" href="../../d2/d23/class_radio.html#a1a9c641ae8a39113009425cbccaee5d5" title="Radio\\getStyle" alt="" coords="393,2825,501,2853"/><area shape="rect" id="node58" href="../../d1/d3a/class_raw_data.html#abea978f4dcd47c4289232744d3ed2f01" title="RawData\\getLink" alt="" coords="385,2877,508,2905"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a85d5504074029bc1ebe18dd8de91571c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static evaluateExpression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Evaluate simple expression expression is combination of text, simple expressiones and field variables simple expression - {...} field variable - [field name] expression samples: text1{[field1]*10}text2{function1([field2],'a')}text3</p>
<p>:property, :field[fldname].property, :control[ctrlname].property @:prop = :prop [fldname] = :field[fldname].value .BOEvent:Name, @:Name .BOEvent:Field[EventName].Column, .BOEvent:Field[EventName].Value .FMEvent:Control[evt_name].FieldName, .FMEvent:Control[evt_name].Value [EventName] is .BOEvent:Field[EventName].Value in BOEvent.xml</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$expression</td><td>- simple expression supported by the openbiz </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$object</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00319">319</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>

<p>References <a class="el" href="../../d5/d31/_expression_8php_source.html#l00405">eval_syntax()</a>, <a class="el" href="../../d5/d31/_expression_8php_source.html#l00089">replaceElementsExpr()</a>, <a class="el" href="../../d5/d31/_expression_8php_source.html#l00042">replaceFieldsExpr()</a>, and <a class="el" href="../../d5/d31/_expression_8php_source.html#l00144">replaceVarExpr()</a>.</p>

<p>Referenced by <a class="el" href="../../d6/d92/_view_renderer_8php_source.html#l00105">ViewRenderer\buildTemplateAttributes()</a>, <a class="el" href="../../d6/dfd/_biz_field_8php_source.html#l00348">BizField\checkRequired()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00513">Element\checkRequired()</a>, <a class="el" href="../../d5/de9/do_trigger_service_8php_source.html#l00161">doTriggerService\executeAction()</a>, <a class="el" href="../../da/d64/_column_image_8php_source.html#l00066">ColumnImage\getAlt()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00324">Element\getBackgroundColor()</a>, <a class="el" href="../../d1/dd1/_checkbox_8php_source.html#l00036">Checkbox\getDefaultChecked()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00229">Element\getDefaultValue()</a>, <a class="el" href="../../d6/dfd/_biz_field_8php_source.html#l00302">BizField\getDefaultValue()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00345">Element\getDescription()</a>, <a class="el" href="../../df/dfe/_tree_listbox_8php_source.html#l00007">TreeListbox\getDOFromList()</a>, <a class="el" href="../../d8/d03/_input_element_8php_source.html#l00070">InputElement\getEnabled()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00719">EventHandler\getFormedFunction()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00456">Element\getFunctionByEventHandlerName()</a>, <a class="el" href="../../d1/d70/_i_frame_box_8php_source.html#l00032">IFrameBox\getHeight()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00280">Element\getHidden()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00756">EventHandler\getInvokeAction()</a>, <a class="el" href="../../d1/d70/_i_frame_box_8php_source.html#l00018">IFrameBox\getLink()</a>, <a class="el" href="../../d3/d00/_label_list_8php_source.html#l00049">LabelList\getLink()</a>, <a class="el" href="../../d1/dd8/_raw_data_8php_source.html#l00053">RawData\getLink()</a>, <a class="el" href="../../dd/d74/_column_list_8php_source.html#l00062">ColumnList\getLink()</a>, <a class="el" href="../../d0/d61/_h_t_m_l_preview_8php_source.html#l00079">HTMLPreview\getLink()</a>, <a class="el" href="../../d5/d85/_label_text_8php_source.html#l00082">LabelText\getLink()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00487">Element\getParameter()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00472">Element\getRedirectPage()</a>, <a class="el" href="../../d8/d03/_input_element_8php_source.html#l00076">InputElement\getRequired()</a>, <a class="el" href="../../d4/de6/_option_element_8php_source.html#l00065">OptionElement\getSelectedList()</a>, <a class="el" href="../../dc/d46/_drop_down_list_8php_source.html#l00358">DropDownList\getSelectedList()</a>, <a class="el" href="../../d4/de6/_option_element_8php_source.html#l00059">OptionElement\getSelectFrom()</a>, <a class="el" href="../../dc/d46/_drop_down_list_8php_source.html#l00352">DropDownList\getSelectFrom()</a>, <a class="el" href="../../d4/de6/_option_element_8php_source.html#l00071">OptionElement\getSelectFromSQL()</a>, <a class="el" href="../../dc/d46/_drop_down_list_8php_source.html#l00364">DropDownList\getSelectFromSQL()</a>, <a class="el" href="../../d2/dc8/_edit_combobox_8php_source.html#l00050">EditCombobox\getStyle()</a>, <a class="el" href="../../de/ded/_radio_8php_source.html#l00072">Radio\getStyle()</a>, <a class="el" href="../../d6/dde/_column_bar_8php_source.html#l00083">ColumnBar\getStyle()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00292">Element\getStyle()</a>, <a class="el" href="../../d1/dd8/_raw_data_8php_source.html#l00076">RawData\getText()</a>, <a class="el" href="../../d0/d61/_h_t_m_l_preview_8php_source.html#l00092">HTMLPreview\getText()</a>, <a class="el" href="../../d5/d85/_label_text_8php_source.html#l00095">LabelText\getText()</a>, <a class="el" href="../../d5/d59/_element_8php_source.html#l00337">Element\getText()</a>, <a class="el" href="../../da/d64/_column_image_8php_source.html#l00079">ColumnImage\getTitle()</a>, <a class="el" href="../../d6/dfd/_biz_field_8php_source.html#l00248">BizField\getValue()</a>, <a class="el" href="../../d6/dfd/_biz_field_8php_source.html#l00314">BizField\getValueOnCreate()</a>, <a class="el" href="../../d6/dfd/_biz_field_8php_source.html#l00326">BizField\getValueOnUpdate()</a>, <a class="el" href="../../d1/d70/_i_frame_box_8php_source.html#l00025">IFrameBox\getWidth()</a>, <a class="el" href="../../d5/de9/do_trigger_service_8php_source.html#l00130">doTriggerService\matchCondition()</a>, <a class="el" href="../../d9/dbd/_easy_view_8php_source.html#l00410">EasyView\outputAttrs()</a>, <a class="el" href="../../d6/d29/_easy_form_8php_source.html#l00514">EasyForm\outputAttrs()</a>, <a class="el" href="../../d7/d0d/_label_image_8php_source.html#l00012">LabelImage\readMetaData()</a>, <a class="el" href="../../d1/d15/_label_bar_8php_source.html#l00004">LabelBar\render()</a>, <a class="el" href="../../d7/dc9/_image_selector_8php_source.html#l00019">ImageSelector\render()</a>, <a class="el" href="../../d6/dde/_column_bar_8php_source.html#l00021">ColumnBar\render()</a>, <a class="el" href="../../d4/d23/_label_text_paging_8php_source.html#l00021">LabelTextPaging\render()</a>, <a class="el" href="../../d7/d0d/_label_image_8php_source.html#l00024">LabelImage\render()</a>, <a class="el" href="../../df/dcb/_label_bool_8php_source.html#l00044">LabelBool\render()</a>, <a class="el" href="../../d2/dbf/_row_checkbox_8php_source.html#l00054">RowCheckbox\render()</a>, <a class="el" href="../../d2/d12/_column_bool_8php_source.html#l00055">ColumnBool\render()</a>, <a class="el" href="../../dc/d46/_drop_down_list_8php_source.html#l00058">DropDownList\render()</a>, <a class="el" href="../../d9/d96/_column_share_8php_source.html#l00174">ColumnShare\render()</a>, <a class="el" href="../../dc/d46/_drop_down_list_8php_source.html#l00244">DropDownList\renderList()</a>, <a class="el" href="../../d5/d31/_expression_8php_source.html#l00144">replaceVarExpr()</a>, <a class="el" href="../../d6/dfd/_biz_field_8php_source.html#l00414">BizField\validate()</a>, and <a class="el" href="../../d5/d59/_element_8php_source.html#l00544">Element\validate()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">    <span class="comment">// TODO: check if it&#39;s &quot;\[&quot;, &quot;\]&quot;, &quot;\{&quot; or &quot;\}&quot;</span></div>
<div class="line">        $script = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">        $start = 0;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strpos($expression, <span class="stringliteral">&quot;{&quot;</span>, $start) === <span class="keyword">false</span>)    <span class="comment">// do nothing if no { symbol</span></div>
<div class="line">            <span class="keywordflow">return</span> $expression;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span>($expression==<span class="stringliteral">&quot;{@}&quot;</span>){</div>
<div class="line">         <span class="keywordflow">return</span> $object;</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// evaluate the expression between {}</span></div>
<div class="line">        <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">        {</div>
<div class="line">            list($tag,$pos0,$pos1) = self::getNextContainerPos($expression, $start);</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 === <span class="keyword">false</span>)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (substr($expression, $start))</div>
<div class="line">                    $script .= substr($expression, $start);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 &gt;= 0 &amp;&amp; $pos1 &gt; $pos0)</div>
<div class="line">            {</div>
<div class="line">                $script .= substr($expression, $start, $pos0 - $start);</div>
<div class="line">                $start = $pos1 + strlen(self::$expContainers[$tag]);</div>
<div class="line">                $section = substr($expression, $pos0 + strlen($tag), $pos1 - $pos0 - strlen($tag));</div>
<div class="line">                $_section = $section;</div>
<div class="line">                <span class="keywordflow">if</span> ($object) {</div>
<div class="line">                    <span class="comment">//BizSystem::log(LOG_DEBUG, &quot;EXPRESSION&quot;, &quot;###expression 1: &quot;.$section.&quot;&quot;);</span></div>
<div class="line">                    $section = <a class="code" href="../../df/d03/class_expression.html#a01547a166789d39853e468a05887c4c6">Expression::replaceVarExpr</a>($section, $object);  <span class="comment">// replace variable expr;</span></div>
<div class="line">                    <span class="comment">//BizSystem::log(LOG_DEBUG, &quot;EXPRESSION&quot;, &quot;###expression 2: &quot;.$section.&quot;&quot;); </span></div>
<div class="line">                    <span class="keywordflow">if</span> ($_section == $section) {</div>
<div class="line">                        <span class="keywordflow">if</span> ((is_subclass_of($object, <span class="stringliteral">&quot;BizDataObj&quot;</span>) || get_class($object)==<span class="stringliteral">&quot;BizDataObj&quot;</span>) AND strstr($section, <span class="charliteral">&#39;[&#39;</span>))</div>
<div class="line">                            $section = <a class="code" href="../../df/d03/class_expression.html#a55ce66e2ff3349d1cd7d27e1df5c604f">Expression::replaceFieldsExpr</a>($section, $object);  <span class="comment">// replace [field] with its value</span></div>
<div class="line"></div>
<div class="line">                        <span class="keywordflow">if</span> ((is_subclass_of($object, <span class="stringliteral">&quot;EasyForm&quot;</span>)|| get_class($object)==<span class="stringliteral">&quot;EasyForm&quot;</span>) AND strstr($section, <span class="charliteral">&#39;[&#39;</span>))</div>
<div class="line">                            $section = <a class="code" href="../../df/d03/class_expression.html#ae990aef1e90abdb103def6d730e87c2b">Expression::replaceElementsExpr</a>($section, $object);  <span class="comment">// replace [field] with its value</span></div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> ($section === <span class="keyword">false</span>)</div>
<div class="line">                    $script = ($script == <span class="stringliteral">&#39;&#39;</span>) ? $section : ($script . $section);</div>
<div class="line">                <span class="keywordflow">if</span> ($section != null AND trim($section) != <span class="stringliteral">&quot;&quot;</span> AND $section != <span class="keyword">false</span>)</div>
<div class="line">                {</div>
<div class="line">                    $ret == null;</div>
<div class="line">                    <span class="comment">//if (Expression::eval_syntax(&quot;\$ret = $section;&quot;))</span></div>
<div class="line">                    <span class="keywordflow">if</span> (($tag == <span class="stringliteral">&#39;{fx}&#39;</span> || $tag == <span class="charliteral">&#39;{&#39;</span>) &amp;&amp; <a class="code" href="../../df/d03/class_expression.html#a9bf8699028d3ae5289bd968a6447a09c">Expression::eval_syntax</a>(<span class="stringliteral">&quot;\$ret = $section;&quot;</span>))</div>
<div class="line">                    {</div>
<div class="line">                        eval (<span class="stringliteral">&quot;\$ret = $section;&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">if</span> ($ret === null)</div>
<div class="line">                        $ret = $section;</div>
<div class="line">                    $script = ($script == <span class="stringliteral">&#39;&#39;</span>) ? $ret : ($script . $ret);</div>
<div class="line">                    unset($ret);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            elseif ($pos0 &gt;= 0 &amp;&amp; $pos1 &lt;= $pos0)</div>
<div class="line">                break;</div>
<div class="line">        }</div>
<div class="line">        return $script;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../df/d03/class_expression_a85d5504074029bc1ebe18dd8de91571c_cgraph.png" border="0" usemap="#df/d03/class_expression_a85d5504074029bc1ebe18dd8de91571c_cgraph" alt=""/></div>
<map name="df/d03/class_expression_a85d5504074029bc1ebe18dd8de91571c_cgraph" id="df/d03/class_expression_a85d5504074029bc1ebe18dd8de91571c_cgraph">
<area shape="rect" id="node2" href="../../df/d03/class_expression.html#a9bf8699028d3ae5289bd968a6447a09c" title="eval_syntax" alt="" coords="221,5,313,33"/><area shape="rect" id="node3" href="../../df/d03/class_expression.html#ae990aef1e90abdb103def6d730e87c2b" title="replaceElementsExpr" alt="" coords="193,57,341,85"/><area shape="rect" id="node4" href="../../df/d03/class_expression.html#a55ce66e2ff3349d1cd7d27e1df5c604f" title="replaceFieldsExpr" alt="" coords="203,109,331,137"/><area shape="rect" id="node5" href="../../df/d03/class_expression.html#a01547a166789d39853e468a05887c4c6" title="replaceVarExpr" alt="" coords="211,161,323,189"/><area shape="rect" id="node6" href="../../d1/d7e/class_biz_system.html#aed230e19f64738a52940c043542e3b17" title="BizSystem\\getUserProfile" alt="" coords="390,213,562,241"/><area shape="rect" id="node7" href="../../d1/d7e/class_biz_system.html#a6729150f2baee41fce746a2f21defd96" title="BizSystem\\getService" alt="" coords="624,161,776,189"/><area shape="rect" id="node8" href="../../d1/d7e/class_biz_system.html#a923ad83ce9295b8338032bd9f02720c3" title="BizSystem\\getObject" alt="" coords="838,135,983,163"/><area shape="rect" id="node9" href="../../d1/d7e/class_biz_system.html#af4e34e77c3fcde41b5c49a48a0b58b0d" title="BizSystem\\sessionContext" alt="" coords="610,213,790,241"/><area shape="rect" id="node10" href="../../d1/d7e/class_biz_system.html#a0deb004950b8dc4f51836316fd19c111" title="BizSystem\\instance" alt="" coords="842,213,980,241"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4def20e1b81a3b477f902c950792b021"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getNextContainerPos </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00381">381</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="keywordflow">foreach</span> (self::$expContainers as $left=&gt;$right)</div>
<div class="line">        {</div>
<div class="line">            $pos0 = strpos($expression, $left, $start);</div>
<div class="line">            $pos1 = strpos($expression, $right, $start);</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 === <span class="keyword">false</span>)</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 &gt;= 0 &amp;&amp; $pos1 &gt; $pos0)</div>
<div class="line">                <span class="keywordflow">return</span> array($left, $pos0, $pos1);</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 &gt;= 0 &amp;&amp; $pos1 &lt;= $pos0)</div>
<div class="line">                trigger_error(<span class="stringliteral">&quot;Incorrect Expression - no matching end tag $right for $left.&quot;</span>, E_USER_ERROR);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> array(null,<span class="keyword">false</span>,<span class="keyword">false</span>);</div>
<div class="line">    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae990aef1e90abdb103def6d730e87c2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static replaceElementsExpr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$formObj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replace elements expression with value from $formObj</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$expression</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d3/d10/class_easy_form.html">EasyForm</a></td><td class="paramname">$formObj</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00089">89</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d31/_expression_8php_source.html#l00319">evaluateExpression()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $script = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">        $start = 0;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// replace [field] with field value</span></div>
<div class="line">        <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">        {</div>
<div class="line">            $pos0 = strpos($expression, <span class="stringliteral">&quot;[&quot;</span>, $start);</div>
<div class="line">            $pos1 = strpos($expression, <span class="stringliteral">&quot;]&quot;</span>, $start);</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 === <span class="keyword">false</span>)</div>
<div class="line">            {</div>
<div class="line">                $script .= substr($expression, $start);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 &gt;= 0 &amp;&amp; $pos1 &gt; $pos0)</div>
<div class="line">            {</div>
<div class="line">                $script .= substr($expression, $start, $pos0 - $start);</div>
<div class="line">                $start = $pos1 + 1;</div>
<div class="line">                $elementName = substr($expression, $pos0 + 1, $pos1 - $pos0-1);</div>
<div class="line">                <span class="comment">// get field value</span></div>
<div class="line">                $element = $formObj-&gt;getElement($elementName);</div>
<div class="line">                <span class="keywordflow">if</span>($element)</div>
<div class="line">                {</div>
<div class="line">                    $fldval = $element-&gt;getValue();</div>
<div class="line">                }<span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    $fldval = null;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">if</span> ($fldval !== null)</div>
<div class="line">                    $script .= $fldval;</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                <span class="comment">//$script .= substr($expression, $pos0, $pos1 - $pos0);</span></div>
<div class="line">                <span class="comment">//return &quot;fail to evaluate $expression&quot;;</span></div>
<div class="line">                    <span class="keywordflow">return</span> $expression;  <span class="comment">// return the original expression once it can&#39;t find element</span></div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            elseif ($pos0 &gt;= 0 &amp;&amp; $pos1 &lt;= $pos0)</div>
<div class="line">                break;</div>
<div class="line">        }</div>
<div class="line">        return $script;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../df/d03/class_expression_ae990aef1e90abdb103def6d730e87c2b_icgraph.png" border="0" usemap="#df/d03/class_expression_ae990aef1e90abdb103def6d730e87c2b_icgraph" alt=""/></div>
<map name="df/d03/class_expression_ae990aef1e90abdb103def6d730e87c2b_icgraph" id="df/d03/class_expression_ae990aef1e90abdb103def6d730e87c2b_icgraph">
<area shape="rect" id="node2" href="../../df/d03/class_expression.html#a85d5504074029bc1ebe18dd8de91571c" title="evaluateExpression" alt="" coords="203,1482,341,1510"/><area shape="rect" id="node3" href="../../d4/dfb/class_view_renderer.html#a3ff47ffac8a02c41f2c4d018156fc112" title="ViewRenderer\\buildTemplate\lAttributes" alt="" coords="407,5,598,49"/><area shape="rect" id="node4" href="../../d8/d08/class_biz_field.html#aa4c8c1cac65717e36ec2dd2f08535857" title="BizField\\checkRequired" alt="" coords="422,73,583,101"/><area shape="rect" id="node5" href="../../d5/d50/class_element.html#aa4c8c1cac65717e36ec2dd2f08535857" title="Element\\checkRequired" alt="" coords="421,125,584,153"/><area shape="rect" id="node6" href="../../dd/df1/classdo_trigger_service.html#a32a03de3cf8829dd5d0e449bad9d7f40" title="doTriggerService\\execute\lAction" alt="" coords="416,177,589,221"/><area shape="rect" id="node7" href="../../dc/d5d/class_column_image.html#a07e72be0677630865d3292e14670096b" title="ColumnImage\\getAlt" alt="" coords="432,245,574,273"/><area shape="rect" id="node8" href="../../d5/d50/class_element.html#a4ad6a97aea312d45fb3d2690f8e642dd" title="Element\\getBackgroundColor" alt="" coords="405,297,600,325"/><area shape="rect" id="node9" href="../../d2/df4/class_checkbox.html#a94343a26b3068d62d2374bf4a8cfeb91" title="Checkbox\\getDefaultChecked" alt="" coords="404,349,602,377"/><area shape="rect" id="node10" href="../../d5/d50/class_element.html#af9b9401c63918169457fe8516324950f" title="Element\\getDefaultValue" alt="" coords="419,453,587,481"/><area shape="rect" id="node12" href="../../d8/d08/class_biz_field.html#af9b9401c63918169457fe8516324950f" title="BizField\\getDefaultValue" alt="" coords="419,1075,586,1103"/><area shape="rect" id="node13" href="../../d5/d50/class_element.html#a2e7bb35c71bf1824456ceb944cb7a845" title="Element\\getDescription" alt="" coords="423,1127,582,1155"/><area shape="rect" id="node14" href="../../da/d58/class_tree_listbox.html#aea0b19f3861838e01007f60f7f8977ac" title="TreeListbox\\getDOFromList" alt="" coords="410,1179,595,1207"/><area shape="rect" id="node15" href="../../d3/d05/class_input_element.html#ab442a42d8265e71787a82ef3a1b4549c" title="InputElement\\getEnabled" alt="" coords="417,505,588,533"/><area shape="rect" id="node16" href="../../d1/d27/class_event_handler.html#a5f77b4f1921d9d5851bdc2319dec3fb5" title="EventHandler\\getFormedFunction" alt="" coords="392,1231,613,1259"/><area shape="rect" id="node17" href="../../d5/d50/class_element.html#a6e1c6c2cc8de5bd666dd9ba68f9b89fe" title="Element\\getFunctionByEvent\lHandlerName" alt="" coords="406,1283,599,1327"/><area shape="rect" id="node18" href="../../d1/d37/class_i_frame_box.html#aa725283ffc599b3f6563cada4cbeb2c7" title="IFrameBox\\getHeight" alt="" coords="429,1351,576,1379"/><area shape="rect" id="node19" href="../../d5/d50/class_element.html#a1d032efbce2b4edb7c269a1e13562f40" title="Element\\getHidden" alt="" coords="435,1403,570,1431"/><area shape="rect" id="node20" href="../../d1/d27/class_event_handler.html#a4eaa46af53f92b3462f3d2d18d8a11b7" title="EventHandler\\getInvokeAction" alt="" coords="402,1455,603,1483"/><area shape="rect" id="node21" href="../../d1/d37/class_i_frame_box.html#abea978f4dcd47c4289232744d3ed2f01" title="IFrameBox\\getLink" alt="" coords="436,1507,569,1535"/><area shape="rect" id="node22" href="../../d9/d80/class_label_list.html#abea978f4dcd47c4289232744d3ed2f01" title="LabelList\\getLink" alt="" coords="442,1559,563,1587"/><area shape="rect" id="node23" href="../../d1/d3a/class_raw_data.html#abea978f4dcd47c4289232744d3ed2f01" title="RawData\\getLink" alt="" coords="441,1611,564,1639"/><area shape="rect" id="node24" href="../../d5/d09/class_column_list.html#abea978f4dcd47c4289232744d3ed2f01" title="ColumnList\\getLink" alt="" coords="435,1663,570,1691"/><area shape="rect" id="node25" href="../../db/dc1/class_h_t_m_l_preview.html#abea978f4dcd47c4289232744d3ed2f01" title="HTMLPreview\\getLink" alt="" coords="427,1715,579,1743"/><area shape="rect" id="node26" href="../../d6/d00/class_label_text.html#abea978f4dcd47c4289232744d3ed2f01" title="LabelText\\getLink" alt="" coords="440,763,565,791"/><area shape="rect" id="node30" href="../../d5/d50/class_element.html#a9948e3272704960f325b9e0b1fc6a5b6" title="Element\\getParameter" alt="" coords="425,1767,580,1795"/><area shape="rect" id="node31" href="../../d5/d50/class_element.html#abc801caf128622d68070e5b656c2fc3a" title="Element\\getRedirectPage" alt="" coords="416,1819,589,1847"/><area shape="rect" id="node32" href="../../d3/d05/class_input_element.html#a51bd39a627fe91242fa2d879a702b4c3" title="InputElement\\getRequired" alt="" coords="415,1871,591,1899"/><area shape="rect" id="node33" href="../../da/d7f/class_option_element.html#a8338e531153b75a023f7ee86a080f092" title="OptionElement\\getSelectedList" alt="" coords="400,1923,605,1951"/><area shape="rect" id="node34" href="../../dc/d58/class_drop_down_list.html#a8338e531153b75a023f7ee86a080f092" title="DropDownList\\getSelectedList" alt="" coords="403,1975,603,2003"/><area shape="rect" id="node35" href="../../da/d7f/class_option_element.html#a6bf46184c1f8fff5f182aa3c2f5326a6" title="OptionElement\\getSelectFrom" alt="" coords="403,2027,603,2055"/><area shape="rect" id="node36" href="../../dc/d58/class_drop_down_list.html#a6bf46184c1f8fff5f182aa3c2f5326a6" title="DropDownList\\getSelectFrom" alt="" coords="405,2079,600,2107"/><area shape="rect" id="node37" href="../../da/d7f/class_option_element.html#a738c28f6c74aff9a8548462b945c2a84" title="OptionElement\\getSelectFromSQL" alt="" coords="389,2131,616,2159"/><area shape="rect" id="node38" href="../../dc/d58/class_drop_down_list.html#a738c28f6c74aff9a8548462b945c2a84" title="DropDownList\\getSelectFromSQL" alt="" coords="392,2183,614,2211"/><area shape="rect" id="node39" href="../../d0/dec/class_edit_combobox.html#a1a9c641ae8a39113009425cbccaee5d5" title="EditCombobox\\getStyle" alt="" coords="422,2235,583,2263"/><area shape="rect" id="node40" href="../../d2/d23/class_radio.html#a1a9c641ae8a39113009425cbccaee5d5" title="Radio\\getStyle" alt="" coords="449,2287,557,2315"/><area shape="rect" id="node41" href="../../d0/de8/class_column_bar.html#a1a9c641ae8a39113009425cbccaee5d5" title="ColumnBar\\getStyle" alt="" coords="433,971,573,999"/><area shape="rect" id="node44" href="../../d5/d50/class_element.html#a1a9c641ae8a39113009425cbccaee5d5" title="Element\\getStyle" alt="" coords="442,609,564,637"/><area shape="rect" id="node46" href="../../d1/d3a/class_raw_data.html#a8a2999b1d846c0a7bc77187e28facd99" title="RawData\\getText" alt="" coords="441,2339,564,2367"/><area shape="rect" id="node47" href="../../db/dc1/class_h_t_m_l_preview.html#a8a2999b1d846c0a7bc77187e28facd99" title="HTMLPreview\\getText" alt="" coords="427,2391,579,2419"/><area shape="rect" id="node48" href="../../d6/d00/class_label_text.html#a8a2999b1d846c0a7bc77187e28facd99" title="LabelText\\getText" alt="" coords="440,867,565,895"/><area shape="rect" id="node49" href="../../d5/d50/class_element.html#a8a2999b1d846c0a7bc77187e28facd99" title="Element\\getText" alt="" coords="444,2443,561,2471"/><area shape="rect" id="node50" href="../../dc/d5d/class_column_image.html#a95e859a4588a39a1824b717378a84c29" title="ColumnImage\\getTitle" alt="" coords="427,2495,578,2523"/><area shape="rect" id="node51" href="../../d8/d08/class_biz_field.html#a80314b4a8ff745a399a730231eaf74b8" title="BizField\\getValue" alt="" coords="441,2547,565,2575"/><area shape="rect" id="node52" href="../../d8/d08/class_biz_field.html#a28e2f59b6c1f32d18693464e7f558ae0" title="BizField\\getValueOnCreate" alt="" coords="412,2599,594,2627"/><area shape="rect" id="node53" href="../../d8/d08/class_biz_field.html#adae62abd872e582cd8617cf81b47f615" title="BizField\\getValueOnUpdate" alt="" coords="410,2651,595,2679"/><area shape="rect" id="node54" href="../../d1/d37/class_i_frame_box.html#ae7fba4c8be1972cf80dc1a95f390df23" title="IFrameBox\\getWidth" alt="" coords="431,2703,574,2731"/><area shape="rect" id="node55" href="../../dd/df1/classdo_trigger_service.html#a9b5fc125014f3d4d6b1d28d950786f9d" title="doTriggerService\\matchCondition" alt="" coords="393,2755,612,2783"/><area shape="rect" id="node56" href="../../db/d40/class_easy_view.html#afbb8fcc4c21113c915263f4a1ca3c0c5" title="EasyView\\outputAttrs" alt="" coords="429,2807,577,2835"/><area shape="rect" id="node57" href="../../d3/d10/class_easy_form.html#afbb8fcc4c21113c915263f4a1ca3c0c5" title="EasyForm\\outputAttrs" alt="" coords="428,2859,578,2887"/><area shape="rect" id="node58" href="../../d9/d69/class_label_image.html#a5888f7e5883c7c2d486f7ddc1bd64760" title="LabelImage\\readMetaData" alt="" coords="413,2911,592,2939"/><area shape="rect" id="node42" href="../../d0/df2/class_label_bar.html#afde88292c44dc59faf017738dae6dffb" title="LabelBar\\render" alt="" coords="687,971,804,999"/><area shape="rect" id="node11" href="../../db/d5a/class_image_selector.html#afde88292c44dc59faf017738dae6dffb" title="ImageSelector\\render" alt="" coords="671,479,820,507"/><area shape="rect" id="node43" href="../../d0/de8/class_column_bar.html#afde88292c44dc59faf017738dae6dffb" title="ColumnBar\\render" alt="" coords="680,919,810,947"/><area shape="rect" id="node29" href="../../d8/da5/class_label_text_paging.html#afde88292c44dc59faf017738dae6dffb" title="LabelTextPaging\\render" alt="" coords="664,609,826,637"/><area shape="rect" id="node28" href="../../d9/d69/class_label_image.html#afde88292c44dc59faf017738dae6dffb" title="LabelImage\\render" alt="" coords="679,815,812,843"/><area shape="rect" id="node27" href="../../da/dfd/class_label_bool.html#afde88292c44dc59faf017738dae6dffb" title="LabelBool\\render" alt="" coords="684,738,807,766"/><area shape="rect" id="node45" href="../../d5/d41/class_row_checkbox.html#afde88292c44dc59faf017738dae6dffb" title="RowCheckbox\\render" alt="" coords="671,661,820,689"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a55ce66e2ff3349d1cd7d27e1df5c604f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static replaceFieldsExpr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bizObj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replase field expression with value from $bizObj</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$expression</td><td></td></tr>
    <tr><td class="paramtype"><a class="el" href="../../d3/d2c/class_biz_data_obj.html">BizDataObj</a></td><td class="paramname">$bizObj</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00042">42</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d31/_expression_8php_source.html#l00319">evaluateExpression()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        $script = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">        $start = 0;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// replace [field] with field value</span></div>
<div class="line">        <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">        {</div>
<div class="line">            $pos0 = strpos($expression, <span class="stringliteral">&quot;[&quot;</span>, $start);</div>
<div class="line">            $pos1 = strpos($expression, <span class="stringliteral">&quot;]&quot;</span>, $start);</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 === <span class="keyword">false</span>)</div>
<div class="line">            {</div>
<div class="line">                $script .= substr($expression, $start);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($pos0 &gt;= 0 &amp;&amp; $pos1 &gt; $pos0)</div>
<div class="line">            {</div>
<div class="line">                $script .= substr($expression, $start, $pos0 - $start);</div>
<div class="line">                $start = $pos1 + 1;</div>
<div class="line">                $fieldName = substr($expression, $pos0 + 1, $pos1 - $pos0-1);</div>
<div class="line">                <span class="comment">// get field value</span></div>
<div class="line">                $fieldValue = $bizObj-&gt;getField($fieldName)-&gt;m_Value;</div>
<div class="line">                <span class="keywordflow">if</span> ($fieldValue == null)</div>
<div class="line">                    $fieldValue = $bizObj-&gt;getFieldValue($fieldName);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> ($fieldValue !== null)</div>
<div class="line">                    $script .= $fieldValue;</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                <span class="comment">//$script .= substr($expression, $pos0, $pos1 - $pos0);</span></div>
<div class="line">                <span class="comment">//return &quot;fail to evaluate $expression&quot;;</span></div>
<div class="line">                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            elseif ($pos0 &gt;= 0 &amp;&amp; $pos1 &lt;= $pos0)</div>
<div class="line">                break;</div>
<div class="line">        }</div>
<div class="line">        return $script;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../df/d03/class_expression_a55ce66e2ff3349d1cd7d27e1df5c604f_icgraph.png" border="0" usemap="#df/d03/class_expression_a55ce66e2ff3349d1cd7d27e1df5c604f_icgraph" alt=""/></div>
<map name="df/d03/class_expression_a55ce66e2ff3349d1cd7d27e1df5c604f_icgraph" id="df/d03/class_expression_a55ce66e2ff3349d1cd7d27e1df5c604f_icgraph">
<area shape="rect" id="node2" href="../../df/d03/class_expression.html#a85d5504074029bc1ebe18dd8de91571c" title="evaluateExpression" alt="" coords="182,1482,320,1510"/><area shape="rect" id="node3" href="../../d4/dfb/class_view_renderer.html#a3ff47ffac8a02c41f2c4d018156fc112" title="ViewRenderer\\buildTemplate\lAttributes" alt="" coords="386,5,577,49"/><area shape="rect" id="node4" href="../../d8/d08/class_biz_field.html#aa4c8c1cac65717e36ec2dd2f08535857" title="BizField\\checkRequired" alt="" coords="401,73,562,101"/><area shape="rect" id="node5" href="../../d5/d50/class_element.html#aa4c8c1cac65717e36ec2dd2f08535857" title="Element\\checkRequired" alt="" coords="400,125,563,153"/><area shape="rect" id="node6" href="../../dd/df1/classdo_trigger_service.html#a32a03de3cf8829dd5d0e449bad9d7f40" title="doTriggerService\\execute\lAction" alt="" coords="395,177,568,221"/><area shape="rect" id="node7" href="../../dc/d5d/class_column_image.html#a07e72be0677630865d3292e14670096b" title="ColumnImage\\getAlt" alt="" coords="410,245,552,273"/><area shape="rect" id="node8" href="../../d5/d50/class_element.html#a4ad6a97aea312d45fb3d2690f8e642dd" title="Element\\getBackgroundColor" alt="" coords="384,297,579,325"/><area shape="rect" id="node9" href="../../d2/df4/class_checkbox.html#a94343a26b3068d62d2374bf4a8cfeb91" title="Checkbox\\getDefaultChecked" alt="" coords="382,349,580,377"/><area shape="rect" id="node10" href="../../d5/d50/class_element.html#af9b9401c63918169457fe8516324950f" title="Element\\getDefaultValue" alt="" coords="397,453,565,481"/><area shape="rect" id="node12" href="../../d8/d08/class_biz_field.html#af9b9401c63918169457fe8516324950f" title="BizField\\getDefaultValue" alt="" coords="398,1075,565,1103"/><area shape="rect" id="node13" href="../../d5/d50/class_element.html#a2e7bb35c71bf1824456ceb944cb7a845" title="Element\\getDescription" alt="" coords="402,1127,561,1155"/><area shape="rect" id="node14" href="../../da/d58/class_tree_listbox.html#aea0b19f3861838e01007f60f7f8977ac" title="TreeListbox\\getDOFromList" alt="" coords="389,1179,574,1207"/><area shape="rect" id="node15" href="../../d3/d05/class_input_element.html#ab442a42d8265e71787a82ef3a1b4549c" title="InputElement\\getEnabled" alt="" coords="396,505,567,533"/><area shape="rect" id="node16" href="../../d1/d27/class_event_handler.html#a5f77b4f1921d9d5851bdc2319dec3fb5" title="EventHandler\\getFormedFunction" alt="" coords="371,1231,592,1259"/><area shape="rect" id="node17" href="../../d5/d50/class_element.html#a6e1c6c2cc8de5bd666dd9ba68f9b89fe" title="Element\\getFunctionByEvent\lHandlerName" alt="" coords="385,1283,578,1327"/><area shape="rect" id="node18" href="../../d1/d37/class_i_frame_box.html#aa725283ffc599b3f6563cada4cbeb2c7" title="IFrameBox\\getHeight" alt="" coords="408,1351,555,1379"/><area shape="rect" id="node19" href="../../d5/d50/class_element.html#a1d032efbce2b4edb7c269a1e13562f40" title="Element\\getHidden" alt="" coords="414,1403,549,1431"/><area shape="rect" id="node20" href="../../d1/d27/class_event_handler.html#a4eaa46af53f92b3462f3d2d18d8a11b7" title="EventHandler\\getInvokeAction" alt="" coords="381,1455,582,1483"/><area shape="rect" id="node21" href="../../d1/d37/class_i_frame_box.html#abea978f4dcd47c4289232744d3ed2f01" title="IFrameBox\\getLink" alt="" coords="415,1507,548,1535"/><area shape="rect" id="node22" href="../../d9/d80/class_label_list.html#abea978f4dcd47c4289232744d3ed2f01" title="LabelList\\getLink" alt="" coords="421,1559,542,1587"/><area shape="rect" id="node23" href="../../d1/d3a/class_raw_data.html#abea978f4dcd47c4289232744d3ed2f01" title="RawData\\getLink" alt="" coords="420,1611,543,1639"/><area shape="rect" id="node24" href="../../d5/d09/class_column_list.html#abea978f4dcd47c4289232744d3ed2f01" title="ColumnList\\getLink" alt="" coords="414,1663,549,1691"/><area shape="rect" id="node25" href="../../db/dc1/class_h_t_m_l_preview.html#abea978f4dcd47c4289232744d3ed2f01" title="HTMLPreview\\getLink" alt="" coords="405,1715,557,1743"/><area shape="rect" id="node26" href="../../d6/d00/class_label_text.html#abea978f4dcd47c4289232744d3ed2f01" title="LabelText\\getLink" alt="" coords="419,763,544,791"/><area shape="rect" id="node30" href="../../d5/d50/class_element.html#a9948e3272704960f325b9e0b1fc6a5b6" title="Element\\getParameter" alt="" coords="404,1767,559,1795"/><area shape="rect" id="node31" href="../../d5/d50/class_element.html#abc801caf128622d68070e5b656c2fc3a" title="Element\\getRedirectPage" alt="" coords="395,1819,568,1847"/><area shape="rect" id="node32" href="../../d3/d05/class_input_element.html#a51bd39a627fe91242fa2d879a702b4c3" title="InputElement\\getRequired" alt="" coords="393,1871,569,1899"/><area shape="rect" id="node33" href="../../da/d7f/class_option_element.html#a8338e531153b75a023f7ee86a080f092" title="OptionElement\\getSelectedList" alt="" coords="379,1923,584,1951"/><area shape="rect" id="node34" href="../../dc/d58/class_drop_down_list.html#a8338e531153b75a023f7ee86a080f092" title="DropDownList\\getSelectedList" alt="" coords="381,1975,581,2003"/><area shape="rect" id="node35" href="../../da/d7f/class_option_element.html#a6bf46184c1f8fff5f182aa3c2f5326a6" title="OptionElement\\getSelectFrom" alt="" coords="381,2027,581,2055"/><area shape="rect" id="node36" href="../../dc/d58/class_drop_down_list.html#a6bf46184c1f8fff5f182aa3c2f5326a6" title="DropDownList\\getSelectFrom" alt="" coords="384,2079,579,2107"/><area shape="rect" id="node37" href="../../da/d7f/class_option_element.html#a738c28f6c74aff9a8548462b945c2a84" title="OptionElement\\getSelectFromSQL" alt="" coords="368,2131,595,2159"/><area shape="rect" id="node38" href="../../dc/d58/class_drop_down_list.html#a738c28f6c74aff9a8548462b945c2a84" title="DropDownList\\getSelectFromSQL" alt="" coords="370,2183,592,2211"/><area shape="rect" id="node39" href="../../d0/dec/class_edit_combobox.html#a1a9c641ae8a39113009425cbccaee5d5" title="EditCombobox\\getStyle" alt="" coords="401,2235,562,2263"/><area shape="rect" id="node40" href="../../d2/d23/class_radio.html#a1a9c641ae8a39113009425cbccaee5d5" title="Radio\\getStyle" alt="" coords="427,2287,535,2315"/><area shape="rect" id="node41" href="../../d0/de8/class_column_bar.html#a1a9c641ae8a39113009425cbccaee5d5" title="ColumnBar\\getStyle" alt="" coords="411,971,551,999"/><area shape="rect" id="node44" href="../../d5/d50/class_element.html#a1a9c641ae8a39113009425cbccaee5d5" title="Element\\getStyle" alt="" coords="420,609,542,637"/><area shape="rect" id="node46" href="../../d1/d3a/class_raw_data.html#a8a2999b1d846c0a7bc77187e28facd99" title="RawData\\getText" alt="" coords="420,2339,543,2367"/><area shape="rect" id="node47" href="../../db/dc1/class_h_t_m_l_preview.html#a8a2999b1d846c0a7bc77187e28facd99" title="HTMLPreview\\getText" alt="" coords="405,2391,557,2419"/><area shape="rect" id="node48" href="../../d6/d00/class_label_text.html#a8a2999b1d846c0a7bc77187e28facd99" title="LabelText\\getText" alt="" coords="419,867,544,895"/><area shape="rect" id="node49" href="../../d5/d50/class_element.html#a8a2999b1d846c0a7bc77187e28facd99" title="Element\\getText" alt="" coords="423,2443,540,2471"/><area shape="rect" id="node50" href="../../dc/d5d/class_column_image.html#a95e859a4588a39a1824b717378a84c29" title="ColumnImage\\getTitle" alt="" coords="406,2495,557,2523"/><area shape="rect" id="node51" href="../../d8/d08/class_biz_field.html#a80314b4a8ff745a399a730231eaf74b8" title="BizField\\getValue" alt="" coords="419,2547,543,2575"/><area shape="rect" id="node52" href="../../d8/d08/class_biz_field.html#a28e2f59b6c1f32d18693464e7f558ae0" title="BizField\\getValueOnCreate" alt="" coords="390,2599,572,2627"/><area shape="rect" id="node53" href="../../d8/d08/class_biz_field.html#adae62abd872e582cd8617cf81b47f615" title="BizField\\getValueOnUpdate" alt="" coords="389,2651,574,2679"/><area shape="rect" id="node54" href="../../d1/d37/class_i_frame_box.html#ae7fba4c8be1972cf80dc1a95f390df23" title="IFrameBox\\getWidth" alt="" coords="410,2703,553,2731"/><area shape="rect" id="node55" href="../../dd/df1/classdo_trigger_service.html#a9b5fc125014f3d4d6b1d28d950786f9d" title="doTriggerService\\matchCondition" alt="" coords="372,2755,591,2783"/><area shape="rect" id="node56" href="../../db/d40/class_easy_view.html#afbb8fcc4c21113c915263f4a1ca3c0c5" title="EasyView\\outputAttrs" alt="" coords="407,2807,555,2835"/><area shape="rect" id="node57" href="../../d3/d10/class_easy_form.html#afbb8fcc4c21113c915263f4a1ca3c0c5" title="EasyForm\\outputAttrs" alt="" coords="406,2859,556,2887"/><area shape="rect" id="node58" href="../../d9/d69/class_label_image.html#a5888f7e5883c7c2d486f7ddc1bd64760" title="LabelImage\\readMetaData" alt="" coords="392,2911,571,2939"/><area shape="rect" id="node42" href="../../d0/df2/class_label_bar.html#afde88292c44dc59faf017738dae6dffb" title="LabelBar\\render" alt="" coords="666,971,782,999"/><area shape="rect" id="node11" href="../../db/d5a/class_image_selector.html#afde88292c44dc59faf017738dae6dffb" title="ImageSelector\\render" alt="" coords="649,479,799,507"/><area shape="rect" id="node43" href="../../d0/de8/class_column_bar.html#afde88292c44dc59faf017738dae6dffb" title="ColumnBar\\render" alt="" coords="659,919,789,947"/><area shape="rect" id="node29" href="../../d8/da5/class_label_text_paging.html#afde88292c44dc59faf017738dae6dffb" title="LabelTextPaging\\render" alt="" coords="643,609,805,637"/><area shape="rect" id="node28" href="../../d9/d69/class_label_image.html#afde88292c44dc59faf017738dae6dffb" title="LabelImage\\render" alt="" coords="657,815,791,843"/><area shape="rect" id="node27" href="../../da/dfd/class_label_bool.html#afde88292c44dc59faf017738dae6dffb" title="LabelBool\\render" alt="" coords="663,738,785,766"/><area shape="rect" id="node45" href="../../d5/d41/class_row_checkbox.html#afde88292c44dc59faf017738dae6dffb" title="RowCheckbox\\render" alt="" coords="649,661,799,689"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a60becb0cb08a03dfd56e5219b74db325"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static replaceMacrosExpr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$expression</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00283">283</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>

<p>References <a class="el" href="../../d4/da0/openbiz_2bin_2_biz_system_8php_source.html#l00627">BizSystem\getMacroValue()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        <span class="comment">// replace macro @var:key to $userProfile[$key]</span></div>
<div class="line">        <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">        {</div>
<div class="line">            $pattern = <span class="stringliteral">&quot;/@(\w+):(\w+)/&quot;</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (!preg_match($pattern, $expression, $matches)) <span class="keywordflow">break</span>;</div>
<div class="line">            $macro = $matches[0];</div>
<div class="line">            $macro_var = $matches[1];  $macro_key = $matches[2];</div>
<div class="line">            $val = <a class="code" href="../../d1/d7e/class_biz_system.html#a52273e36e768edfc31f6d13261b6592f">BizSystem::getMacroValue</a>($macro_var, $macro_key);</div>
<div class="line">            <span class="keywordflow">if</span> (!$val) $val = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">            <span class="comment">// throw error</span></div>
<div class="line">            $expression = str_replace($macro, $val, $expression);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> $expression;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../df/d03/class_expression_a60becb0cb08a03dfd56e5219b74db325_cgraph.png" border="0" usemap="#df/d03/class_expression_a60becb0cb08a03dfd56e5219b74db325_cgraph" alt=""/></div>
<map name="df/d03/class_expression_a60becb0cb08a03dfd56e5219b74db325_cgraph" id="df/d03/class_expression_a60becb0cb08a03dfd56e5219b74db325_cgraph">
<area shape="rect" id="node2" href="../../d1/d7e/class_biz_system.html#a52273e36e768edfc31f6d13261b6592f" title="BizSystem\\getMacroValue" alt="" coords="190,5,367,33"/><area shape="rect" id="node3" href="../../d1/d7e/class_biz_system.html#a0deb004950b8dc4f51836316fd19c111" title="BizSystem\\instance" alt="" coords="416,5,554,33"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a01547a166789d39853e468a05887c4c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static replaceVarExpr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$expression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replace var expression :property, :field[fldname].property, :control[ctrlname].property @:prop = :prop</p>
<p><a class="el" href="../../d1/d7e/class_biz_system.html">BizSystem</a> $g_BizSystem </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$expression</td><td></td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$object</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00144">144</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>

<p>References <a class="el" href="../../d1/df2/sys__init_8php_source.html#l00201">$g_ServiceAlias</a>, <a class="el" href="../../d5/d31/_expression_8php_source.html#l00028">$services</a>, <a class="el" href="../../d5/d31/_expression_8php_source.html#l00319">evaluateExpression()</a>, <a class="el" href="../../d4/da0/openbiz_2bin_2_biz_system_8php_source.html#l00272">BizSystem\getObject()</a>, <a class="el" href="../../d4/da0/openbiz_2bin_2_biz_system_8php_source.html#l00255">BizSystem\getService()</a>, and <a class="el" href="../../d4/da0/openbiz_2bin_2_biz_system_8php_source.html#l00368">BizSystem\getUserProfile()</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d31/_expression_8php_source.html#l00319">evaluateExpression()</a>.</p>
<div class="fragment"><div class="line">    {</div>
<div class="line">        global <a class="code" href="../../d1/df2/sys__init_8php.html#a29029bee8b3be2a793b4173b002ead1c">$g_ServiceAlias</a>;</div>
<div class="line">        <span class="comment">// read service symbols from global var.</span></div>
<div class="line">        <span class="keywordflow">if</span> (isset($g_ServiceAlias) &amp;&amp; empty(self::$services))</div>
<div class="line">            self::$services = <a class="code" href="../../d1/df2/sys__init_8php.html#a29029bee8b3be2a793b4173b002ead1c">$g_ServiceAlias</a>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// replace @objname:property to GetObject()-&gt;getProperty(property)</span></div>
<div class="line">        <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">        {</div>
<div class="line">        <span class="comment">// TODO: one clause must be separated by whitespace</span></div>
<div class="line">        <span class="comment">//modified by jixian for support package full name of a object</span></div>
<div class="line">        <span class="comment">//e.g : shared.objects.compaines.objCompany:Field[Id].Value</span></div>
<div class="line">            $pattern = <span class="stringliteral">&quot;/@([[a-zA-Z0-9_\.]*):([a-zA-Z0-9_\.\[\]]+)/&quot;</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (!preg_match($pattern, $expression, $matches)) { <span class="keywordflow">break</span>; }</div>
<div class="line">            $macro = $matches[0];</div>
<div class="line">            $objName = $matches[1];  $propExpr = $matches[2];</div>
<div class="line">            $obj = null;</div>
<div class="line">            <span class="keywordflow">if</span> ($objName == <span class="stringliteral">&quot;profile&quot;</span>)</div>
<div class="line">            {  <span class="comment">// @profile:attribute is reserved</span></div>
<div class="line">                $profileAttribute = <a class="code" href="../../d1/d7e/class_biz_system.html#aed230e19f64738a52940c043542e3b17">BizSystem::getUserProfile</a>($propExpr);</div>
<div class="line">                $expression = str_replace($macro, $profileAttribute, $expression);</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($objName == <span class="stringliteral">&quot;home&quot;</span>)</div>
<div class="line">            {  <span class="comment">// @home:url is reserved</span></div>
<div class="line">             <span class="keywordflow">switch</span>($propExpr){</div>
<div class="line">              <span class="keywordflow">case</span> <span class="stringliteral">&quot;url&quot;</span>:</div>
<div class="line">                  $value = <span class="stringliteral">&quot;&#39;&quot;</span>.APP_INDEX.<span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line">                  <span class="keywordflow">break</span>;</div>
<div class="line">                 <span class="keywordflow">case</span> <span class="stringliteral">&quot;base_url&quot;</span>:</div>
<div class="line">                  $value = <span class="stringliteral">&quot;&#39;&quot;</span>.APP_URL.<span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line">                  <span class="keywordflow">break</span>;</div>
<div class="line">             }</div>
<div class="line">             $expression = str_replace($macro, $value, $expression);</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line">            elseif (in_array($objName, array_keys(<a class="code" href="../../df/d03/class_expression.html#a23d6d124a35cf4b31e238cc34be9d653">Expression::$services</a>)))</div>
<div class="line">            { <span class="comment">// reserved keywords</span></div>
<div class="line">                $body           = $expression;</div>
<div class="line">                $objFunc        = <span class="charliteral">&#39;@&#39;</span>.$objName.<span class="charliteral">&#39;:&#39;</span>.$propExpr;</div>
<div class="line">                $posStart       = strpos($body, $objFunc);</div>
<div class="line">                $beforeString   = substr($body, 0, $posStart);</div>
<div class="line">                $paramStart     = strpos($body, $objFunc.<span class="charliteral">&#39;(&#39;</span>) + strlen($objFunc.<span class="charliteral">&#39;(&#39;</span>);</div>
<div class="line">                $paramEnd       = strpos($body, <span class="charliteral">&#39;)&#39;</span>, $paramStart);</div>
<div class="line">                $paramLen       = $paramEnd-$paramStart;</div>
<div class="line">                $function       = $propExpr;</div>
<div class="line">                $paramString   = substr($body, $paramStart, $paramLen);</div>
<div class="line">                $restString    = substr($body, $paramEnd + 1);</div>
<div class="line"></div>
<div class="line">                $paramString = <a class="code" href="../../df/d03/class_expression.html#a85d5504074029bc1ebe18dd8de91571c">Expression::evaluateExpression</a>(<span class="charliteral">&#39;{&#39;</span>.$paramString.<span class="charliteral">&#39;}&#39;</span>, $object);</div>
<div class="line">                $serviceName = <a class="code" href="../../df/d03/class_expression.html#a23d6d124a35cf4b31e238cc34be9d653">Expression::$services</a>[$objName];</div>
<div class="line">                $serviceObj = <a class="code" href="../../d1/d7e/class_biz_system.html#a6729150f2baee41fce746a2f21defd96">BizSystem::getService</a>($serviceName);</div>
<div class="line"></div>
<div class="line">                $params = explode(<span class="charliteral">&#39;,&#39;</span>, $paramString);</div>
<div class="line">                <span class="keywordflow">for</span> ($i=0; $i &lt; count($params); $i++)</div>
<div class="line">                    $params[$i] = trim($params[$i]);</div>
<div class="line">                $val_result = call_user_func_array(array($serviceObj, $function), $params);</div>
<div class="line">                <span class="keywordflow">return</span> $beforeString . $val_result . $restString;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            elseif ($objName == <span class="stringliteral">&quot;&quot;</span> || $objName == <span class="stringliteral">&quot;this&quot;</span>){</div>
<div class="line">             $obj = $object;</div>
<div class="line">             $body           = $expression;</div>
<div class="line">             $objFunc        = <span class="charliteral">&#39;@&#39;</span>.$objName.<span class="charliteral">&#39;:&#39;</span>.$propExpr;</div>
<div class="line">                $posStart       = strpos($body, $objFunc);</div>
<div class="line">                $beforeString   = substr($body, 0, $posStart);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span>(strpos($body, <span class="charliteral">&#39;(&#39;</span>)&gt;0 &amp;&amp; substr($expression,0,2)== <span class="stringliteral">&#39;@:&#39;</span>)</div>
<div class="line">                {</div>
<div class="line">                 $paramStart     = strpos($body, $objFunc.<span class="charliteral">&#39;(&#39;</span>) + strlen($objFunc.<span class="charliteral">&#39;(&#39;</span>);</div>
<div class="line">     $paramEnd       = strpos($body, <span class="charliteral">&#39;)&#39;</span>, $paramStart);</div>
<div class="line">                 $paramLen       = $paramEnd-$paramStart;</div>
<div class="line">                 $function       = $propExpr;</div>
<div class="line">                 $paramString   = substr($body, $paramStart, $paramLen);</div>
<div class="line">                 $restString    = substr($body, $paramEnd + 1);</div>
<div class="line">                 </div>
<div class="line">                 <span class="keywordflow">for</span> ($i=0; $i &lt; count($params); $i++)</div>
<div class="line">                     $params[$i] = trim($params[$i]); </div>
<div class="line">                                      </div>
<div class="line">                 <span class="keywordflow">if</span>(!is_array($params)){</div>
<div class="line">                  $params = array();</div>
<div class="line">                 }</div>
<div class="line">                 <span class="keywordflow">if</span> (method_exists($obj, $function)){</div>
<div class="line">                  $val_result = call_user_func_array(array($obj, $function), $params);</div>
<div class="line">                  <span class="keywordflow">return</span> $beforeString . $val_result . $restString;</div>
<div class="line">                 }</div>
<div class="line">                }</div>
<div class="line">            }                </div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                $obj = <a class="code" href="../../d1/d7e/class_biz_system.html#a923ad83ce9295b8338032bd9f02720c3">BizSystem::getObject</a>($objName);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ($obj == null)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Wrong expression syntax &quot;</span>.$expression.<span class="stringliteral">&quot;, cannot get object &quot;</span>.$objName);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            $pos = strpos($propExpr, <span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line">            </div>
<div class="line">            $paramStart = strpos($expression, $objFunc.<span class="charliteral">&#39;(&#39;</span>);</div>
<div class="line">            <span class="keywordflow">if</span> ($pos&gt;0)</div>
<div class="line">            { <span class="comment">// in case of @objname:field[fldname].property</span></div>
<div class="line">                $property1   = substr($propExpr,0,$pos);</div>
<div class="line">                $property2   = substr($propExpr,$pos+1);</div>
<div class="line">                $propertyObj = $obj-&gt;getProperty($property1);</div>
<div class="line">                <span class="keywordflow">if</span> ($propertyObj == null)</div>
<div class="line">                {</div>
<div class="line">                 $propertyObj = $obj-&gt;getDataObj()-&gt;getProperty($property1);</div>
<div class="line">                    <span class="keywordflow">if</span>($propertyObj == null){</div>
<div class="line">                     <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Wrong expression syntax &quot;</span>.$expression.<span class="stringliteral">&quot;, cannot get property object &quot;</span>.$property1.<span class="stringliteral">&quot; of object &quot;</span>.$objName);</div>
<div class="line">                    }<span class="keywordflow">else</span>{</div>
<div class="line">                     $val = $propertyObj-&gt;getProperty($property2);</div>
<div class="line">                  </div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">                $val = $propertyObj-&gt;getProperty($property2);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            { </div>
<div class="line">             <span class="comment">// in case of @objname:property             </span></div>
<div class="line">                $val = $obj-&gt;getProperty($propExpr);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> ($val === null) $val = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (is_string($val))</div>
<div class="line">                $val = <span class="stringliteral">&quot;&#39;$val&#39;&quot;</span>;</div>
<div class="line">            $expression = str_replace($macro, $val, $expression);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> $expression;</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../df/d03/class_expression_a01547a166789d39853e468a05887c4c6_cgraph.png" border="0" usemap="#df/d03/class_expression_a01547a166789d39853e468a05887c4c6_cgraph" alt=""/></div>
<map name="df/d03/class_expression_a01547a166789d39853e468a05887c4c6_cgraph" id="df/d03/class_expression_a01547a166789d39853e468a05887c4c6_cgraph">
<area shape="rect" id="node2" href="../../df/d03/class_expression.html#a85d5504074029bc1ebe18dd8de91571c" title="evaluateExpression" alt="" coords="183,109,321,137"/><area shape="rect" id="node6" href="../../d1/d7e/class_biz_system.html#a923ad83ce9295b8338032bd9f02720c3" title="BizSystem\\getObject" alt="" coords="614,187,759,215"/><area shape="rect" id="node7" href="../../d1/d7e/class_biz_system.html#a6729150f2baee41fce746a2f21defd96" title="BizSystem\\getService" alt="" coords="400,213,552,241"/><area shape="rect" id="node8" href="../../d1/d7e/class_biz_system.html#aed230e19f64738a52940c043542e3b17" title="BizSystem\\getUserProfile" alt="" coords="166,263,338,291"/><area shape="rect" id="node3" href="../../df/d03/class_expression.html#a9bf8699028d3ae5289bd968a6447a09c" title="eval_syntax" alt="" coords="430,5,522,33"/><area shape="rect" id="node4" href="../../df/d03/class_expression.html#ae990aef1e90abdb103def6d730e87c2b" title="replaceElementsExpr" alt="" coords="402,57,550,85"/><area shape="rect" id="node5" href="../../df/d03/class_expression.html#a55ce66e2ff3349d1cd7d27e1df5c604f" title="replaceFieldsExpr" alt="" coords="412,109,540,137"/><area shape="rect" id="node9" href="../../d1/d7e/class_biz_system.html#af4e34e77c3fcde41b5c49a48a0b58b0d" title="BizSystem\\sessionContext" alt="" coords="386,265,566,293"/><area shape="rect" id="node10" href="../../d1/d7e/class_biz_system.html#a0deb004950b8dc4f51836316fd19c111" title="BizSystem\\instance" alt="" coords="618,265,756,293"/></map>
</div>
</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../df/d03/class_expression_a01547a166789d39853e468a05887c4c6_icgraph.png" border="0" usemap="#df/d03/class_expression_a01547a166789d39853e468a05887c4c6_icgraph" alt=""/></div>
<map name="df/d03/class_expression_a01547a166789d39853e468a05887c4c6_icgraph" id="df/d03/class_expression_a01547a166789d39853e468a05887c4c6_icgraph">
<area shape="rect" id="node2" href="../../df/d03/class_expression.html#a85d5504074029bc1ebe18dd8de91571c" title="evaluateExpression" alt="" coords="166,1482,304,1510"/><area shape="rect" id="node3" href="../../d4/dfb/class_view_renderer.html#a3ff47ffac8a02c41f2c4d018156fc112" title="ViewRenderer\\buildTemplate\lAttributes" alt="" coords="370,5,561,49"/><area shape="rect" id="node4" href="../../d8/d08/class_biz_field.html#aa4c8c1cac65717e36ec2dd2f08535857" title="BizField\\checkRequired" alt="" coords="385,73,546,101"/><area shape="rect" id="node5" href="../../d5/d50/class_element.html#aa4c8c1cac65717e36ec2dd2f08535857" title="Element\\checkRequired" alt="" coords="384,125,547,153"/><area shape="rect" id="node6" href="../../dd/df1/classdo_trigger_service.html#a32a03de3cf8829dd5d0e449bad9d7f40" title="doTriggerService\\execute\lAction" alt="" coords="379,177,552,221"/><area shape="rect" id="node7" href="../../dc/d5d/class_column_image.html#a07e72be0677630865d3292e14670096b" title="ColumnImage\\getAlt" alt="" coords="394,245,536,273"/><area shape="rect" id="node8" href="../../d5/d50/class_element.html#a4ad6a97aea312d45fb3d2690f8e642dd" title="Element\\getBackgroundColor" alt="" coords="368,297,563,325"/><area shape="rect" id="node9" href="../../d2/df4/class_checkbox.html#a94343a26b3068d62d2374bf4a8cfeb91" title="Checkbox\\getDefaultChecked" alt="" coords="366,349,564,377"/><area shape="rect" id="node10" href="../../d5/d50/class_element.html#af9b9401c63918169457fe8516324950f" title="Element\\getDefaultValue" alt="" coords="381,453,549,481"/><area shape="rect" id="node12" href="../../d8/d08/class_biz_field.html#af9b9401c63918169457fe8516324950f" title="BizField\\getDefaultValue" alt="" coords="382,1075,549,1103"/><area shape="rect" id="node13" href="../../d5/d50/class_element.html#a2e7bb35c71bf1824456ceb944cb7a845" title="Element\\getDescription" alt="" coords="386,1127,545,1155"/><area shape="rect" id="node14" href="../../da/d58/class_tree_listbox.html#aea0b19f3861838e01007f60f7f8977ac" title="TreeListbox\\getDOFromList" alt="" coords="373,1179,558,1207"/><area shape="rect" id="node15" href="../../d3/d05/class_input_element.html#ab442a42d8265e71787a82ef3a1b4549c" title="InputElement\\getEnabled" alt="" coords="380,505,551,533"/><area shape="rect" id="node16" href="../../d1/d27/class_event_handler.html#a5f77b4f1921d9d5851bdc2319dec3fb5" title="EventHandler\\getFormedFunction" alt="" coords="355,1231,576,1259"/><area shape="rect" id="node17" href="../../d5/d50/class_element.html#a6e1c6c2cc8de5bd666dd9ba68f9b89fe" title="Element\\getFunctionByEvent\lHandlerName" alt="" coords="369,1283,562,1327"/><area shape="rect" id="node18" href="../../d1/d37/class_i_frame_box.html#aa725283ffc599b3f6563cada4cbeb2c7" title="IFrameBox\\getHeight" alt="" coords="392,1351,539,1379"/><area shape="rect" id="node19" href="../../d5/d50/class_element.html#a1d032efbce2b4edb7c269a1e13562f40" title="Element\\getHidden" alt="" coords="398,1403,533,1431"/><area shape="rect" id="node20" href="../../d1/d27/class_event_handler.html#a4eaa46af53f92b3462f3d2d18d8a11b7" title="EventHandler\\getInvokeAction" alt="" coords="365,1455,566,1483"/><area shape="rect" id="node21" href="../../d1/d37/class_i_frame_box.html#abea978f4dcd47c4289232744d3ed2f01" title="IFrameBox\\getLink" alt="" coords="399,1507,532,1535"/><area shape="rect" id="node22" href="../../d9/d80/class_label_list.html#abea978f4dcd47c4289232744d3ed2f01" title="LabelList\\getLink" alt="" coords="405,1559,526,1587"/><area shape="rect" id="node23" href="../../d1/d3a/class_raw_data.html#abea978f4dcd47c4289232744d3ed2f01" title="RawData\\getLink" alt="" coords="404,1611,527,1639"/><area shape="rect" id="node24" href="../../d5/d09/class_column_list.html#abea978f4dcd47c4289232744d3ed2f01" title="ColumnList\\getLink" alt="" coords="398,1663,533,1691"/><area shape="rect" id="node25" href="../../db/dc1/class_h_t_m_l_preview.html#abea978f4dcd47c4289232744d3ed2f01" title="HTMLPreview\\getLink" alt="" coords="389,1715,541,1743"/><area shape="rect" id="node26" href="../../d6/d00/class_label_text.html#abea978f4dcd47c4289232744d3ed2f01" title="LabelText\\getLink" alt="" coords="403,763,528,791"/><area shape="rect" id="node30" href="../../d5/d50/class_element.html#a9948e3272704960f325b9e0b1fc6a5b6" title="Element\\getParameter" alt="" coords="388,1767,543,1795"/><area shape="rect" id="node31" href="../../d5/d50/class_element.html#abc801caf128622d68070e5b656c2fc3a" title="Element\\getRedirectPage" alt="" coords="379,1819,552,1847"/><area shape="rect" id="node32" href="../../d3/d05/class_input_element.html#a51bd39a627fe91242fa2d879a702b4c3" title="InputElement\\getRequired" alt="" coords="377,1871,553,1899"/><area shape="rect" id="node33" href="../../da/d7f/class_option_element.html#a8338e531153b75a023f7ee86a080f092" title="OptionElement\\getSelectedList" alt="" coords="363,1923,568,1951"/><area shape="rect" id="node34" href="../../dc/d58/class_drop_down_list.html#a8338e531153b75a023f7ee86a080f092" title="DropDownList\\getSelectedList" alt="" coords="365,1975,565,2003"/><area shape="rect" id="node35" href="../../da/d7f/class_option_element.html#a6bf46184c1f8fff5f182aa3c2f5326a6" title="OptionElement\\getSelectFrom" alt="" coords="365,2027,565,2055"/><area shape="rect" id="node36" href="../../dc/d58/class_drop_down_list.html#a6bf46184c1f8fff5f182aa3c2f5326a6" title="DropDownList\\getSelectFrom" alt="" coords="368,2079,563,2107"/><area shape="rect" id="node37" href="../../da/d7f/class_option_element.html#a738c28f6c74aff9a8548462b945c2a84" title="OptionElement\\getSelectFromSQL" alt="" coords="352,2131,579,2159"/><area shape="rect" id="node38" href="../../dc/d58/class_drop_down_list.html#a738c28f6c74aff9a8548462b945c2a84" title="DropDownList\\getSelectFromSQL" alt="" coords="354,2183,576,2211"/><area shape="rect" id="node39" href="../../d0/dec/class_edit_combobox.html#a1a9c641ae8a39113009425cbccaee5d5" title="EditCombobox\\getStyle" alt="" coords="385,2235,546,2263"/><area shape="rect" id="node40" href="../../d2/d23/class_radio.html#a1a9c641ae8a39113009425cbccaee5d5" title="Radio\\getStyle" alt="" coords="411,2287,519,2315"/><area shape="rect" id="node41" href="../../d0/de8/class_column_bar.html#a1a9c641ae8a39113009425cbccaee5d5" title="ColumnBar\\getStyle" alt="" coords="395,971,535,999"/><area shape="rect" id="node44" href="../../d5/d50/class_element.html#a1a9c641ae8a39113009425cbccaee5d5" title="Element\\getStyle" alt="" coords="404,609,526,637"/><area shape="rect" id="node46" href="../../d1/d3a/class_raw_data.html#a8a2999b1d846c0a7bc77187e28facd99" title="RawData\\getText" alt="" coords="404,2339,527,2367"/><area shape="rect" id="node47" href="../../db/dc1/class_h_t_m_l_preview.html#a8a2999b1d846c0a7bc77187e28facd99" title="HTMLPreview\\getText" alt="" coords="389,2391,541,2419"/><area shape="rect" id="node48" href="../../d6/d00/class_label_text.html#a8a2999b1d846c0a7bc77187e28facd99" title="LabelText\\getText" alt="" coords="403,867,528,895"/><area shape="rect" id="node49" href="../../d5/d50/class_element.html#a8a2999b1d846c0a7bc77187e28facd99" title="Element\\getText" alt="" coords="407,2443,524,2471"/><area shape="rect" id="node50" href="../../dc/d5d/class_column_image.html#a95e859a4588a39a1824b717378a84c29" title="ColumnImage\\getTitle" alt="" coords="390,2495,541,2523"/><area shape="rect" id="node51" href="../../d8/d08/class_biz_field.html#a80314b4a8ff745a399a730231eaf74b8" title="BizField\\getValue" alt="" coords="403,2547,527,2575"/><area shape="rect" id="node52" href="../../d8/d08/class_biz_field.html#a28e2f59b6c1f32d18693464e7f558ae0" title="BizField\\getValueOnCreate" alt="" coords="374,2599,556,2627"/><area shape="rect" id="node53" href="../../d8/d08/class_biz_field.html#adae62abd872e582cd8617cf81b47f615" title="BizField\\getValueOnUpdate" alt="" coords="373,2651,558,2679"/><area shape="rect" id="node54" href="../../d1/d37/class_i_frame_box.html#ae7fba4c8be1972cf80dc1a95f390df23" title="IFrameBox\\getWidth" alt="" coords="394,2703,537,2731"/><area shape="rect" id="node55" href="../../dd/df1/classdo_trigger_service.html#a9b5fc125014f3d4d6b1d28d950786f9d" title="doTriggerService\\matchCondition" alt="" coords="356,2755,575,2783"/><area shape="rect" id="node56" href="../../db/d40/class_easy_view.html#afbb8fcc4c21113c915263f4a1ca3c0c5" title="EasyView\\outputAttrs" alt="" coords="391,2807,539,2835"/><area shape="rect" id="node57" href="../../d3/d10/class_easy_form.html#afbb8fcc4c21113c915263f4a1ca3c0c5" title="EasyForm\\outputAttrs" alt="" coords="390,2859,540,2887"/><area shape="rect" id="node58" href="../../d9/d69/class_label_image.html#a5888f7e5883c7c2d486f7ddc1bd64760" title="LabelImage\\readMetaData" alt="" coords="376,2911,555,2939"/><area shape="rect" id="node42" href="../../d0/df2/class_label_bar.html#afde88292c44dc59faf017738dae6dffb" title="LabelBar\\render" alt="" coords="650,971,766,999"/><area shape="rect" id="node11" href="../../db/d5a/class_image_selector.html#afde88292c44dc59faf017738dae6dffb" title="ImageSelector\\render" alt="" coords="633,479,783,507"/><area shape="rect" id="node43" href="../../d0/de8/class_column_bar.html#afde88292c44dc59faf017738dae6dffb" title="ColumnBar\\render" alt="" coords="643,919,773,947"/><area shape="rect" id="node29" href="../../d8/da5/class_label_text_paging.html#afde88292c44dc59faf017738dae6dffb" title="LabelTextPaging\\render" alt="" coords="627,609,789,637"/><area shape="rect" id="node28" href="../../d9/d69/class_label_image.html#afde88292c44dc59faf017738dae6dffb" title="LabelImage\\render" alt="" coords="641,815,775,843"/><area shape="rect" id="node27" href="../../da/dfd/class_label_bool.html#afde88292c44dc59faf017738dae6dffb" title="LabelBool\\render" alt="" coords="647,738,769,766"/><area shape="rect" id="node45" href="../../d5/d41/class_row_checkbox.html#afde88292c44dc59faf017738dae6dffb" title="RowCheckbox\\render" alt="" coords="633,661,783,689"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="afcfdfa59b8c847c285ccf13e5a88e907"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$expContainers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00029">29</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>

</div>
</div>
<a class="anchor" id="a23d6d124a35cf4b31e238cc34be9d653"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">$services</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d31/_expression_8php_source.html#l00028">28</a> of file <a class="el" href="../../d5/d31/_expression_8php_source.html">Expression.php</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d31/_expression_8php_source.html#l00144">replaceVarExpr()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../df/d03/class_expression.html">Expression</a></li>
    <li class="footer">Generated on Tue Jan 22 2013 11:49:54 for Openbiz Framework API by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.3 </li>
  </ul>
</div>
</body>
</html>
