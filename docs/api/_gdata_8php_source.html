<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>openbiz: E:/E/GEAMP/www/openbiz/openbiz/others/Zend/Gdata.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>E:/E/GEAMP/www/openbiz/openbiz/others/Zend/Gdata.php</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00027"></a>00027 require_once <span class="stringliteral">&#39;Zend/Gdata/App.php&#39;</span>;
<a name="l00028"></a>00028 
<a name="l00044"></a><a class="code" href="class_zend___gdata.html">00044</a> <span class="keyword">class </span><a class="code" href="class_zend___gdata.html">Zend_Gdata</a> <span class="keyword">extends</span> Zend_Gdata_App
<a name="l00045"></a>00045 {
<a name="l00046"></a>00046 
<a name="l00052"></a>00052     <span class="keyword">const</span> AUTH_SERVICE_NAME = <span class="stringliteral">&#39;xapi&#39;</span>;
<a name="l00053"></a>00053 
<a name="l00059"></a>00059     <span class="keyword">protected</span> $_defaultPostUri = null;
<a name="l00060"></a>00060 
<a name="l00066"></a>00066     <span class="keyword">protected</span> $_registeredPackages = array(
<a name="l00067"></a>00067             <span class="stringliteral">&#39;Zend_Gdata_Kind&#39;</span>,
<a name="l00068"></a>00068             <span class="stringliteral">&#39;Zend_Gdata_Extension&#39;</span>,
<a name="l00069"></a>00069             <span class="stringliteral">&#39;Zend_Gdata&#39;</span>,
<a name="l00070"></a>00070             <span class="stringliteral">&#39;Zend_Gdata_App_Extension&#39;</span>,
<a name="l00071"></a>00071             <span class="stringliteral">&#39;Zend_Gdata_App&#39;</span>);
<a name="l00072"></a>00072 
<a name="l00078"></a>00078     <span class="keyword">public</span> <span class="keyword">static</span> $namespaces = array(
<a name="l00079"></a>00079         array(<span class="stringliteral">&#39;gd&#39;</span>, <span class="stringliteral">&#39;http://schemas.google.com/g/2005&#39;</span>, 1, 0),
<a name="l00080"></a>00080         array(<span class="stringliteral">&#39;openSearch&#39;</span>, <span class="stringliteral">&#39;http://a9.com/-/spec/opensearchrss/1.0/&#39;</span>, 1, 0),
<a name="l00081"></a>00081         array(<span class="stringliteral">&#39;openSearch&#39;</span>, <span class="stringliteral">&#39;http://a9.com/-/spec/opensearch/1.1/&#39;</span>, 2, 0),
<a name="l00082"></a>00082         array(<span class="stringliteral">&#39;rss&#39;</span>, <span class="stringliteral">&#39;http://blogs.law.harvard.edu/tech/rss&#39;</span>, 1, 0)
<a name="l00083"></a>00083     );
<a name="l00084"></a>00084 
<a name="l00090"></a>00090     <span class="keyword">protected</span> $_httpClient;
<a name="l00091"></a>00091 
<a name="l00097"></a>00097     <span class="keyword">protected</span> <span class="keyword">static</span> $_staticHttpClient = null;
<a name="l00098"></a>00098 
<a name="l00106"></a><a class="code" href="class_zend___gdata.html#ae991db98798d93e61655afc581c9a70b">00106</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___gdata.html#ae991db98798d93e61655afc581c9a70b">__construct</a>($client = null, $applicationId = <span class="stringliteral">&#39;MyCompany-MyApp-1.0&#39;</span>)
<a name="l00107"></a>00107     {
<a name="l00108"></a>00108         <a class="code" href="class_zend___gdata.html#ae991db98798d93e61655afc581c9a70b">parent::__construct</a>($client, $applicationId);
<a name="l00109"></a>00109     }
<a name="l00110"></a>00110 
<a name="l00123"></a><a class="code" href="class_zend___gdata.html#aed8af1e0f103d012ce1d69dde7687b8c">00123</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <span class="keyword">import</span>($uri, $client = null,
<a name="l00124"></a>00124         $className=<span class="stringliteral">&#39;Zend_Gdata_Feed&#39;</span>)
<a name="l00125"></a>00125     {
<a name="l00126"></a>00126         $app = <span class="keyword">new</span> <a class="code" href="class_zend___gdata.html">Zend_Gdata</a>($client);
<a name="l00127"></a>00127         $requestData = $app-&gt;decodeRequest(<span class="stringliteral">&#39;GET&#39;</span>, $uri);
<a name="l00128"></a>00128         $response = $app-&gt;performHttpRequest($requestData[<span class="stringliteral">&#39;method&#39;</span>], $requestData[<span class="stringliteral">&#39;url&#39;</span>]);
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         $feedContent = $response-&gt;getBody();
<a name="l00131"></a>00131 
<a name="l00132"></a>00132         $feed = self::importString($feedContent, $className);
<a name="l00133"></a>00133         <span class="keywordflow">if</span> ($client != null) {
<a name="l00134"></a>00134             $feed-&gt;setHttpClient($client);
<a name="l00135"></a>00135         }
<a name="l00136"></a>00136         <span class="keywordflow">return</span> $feed;
<a name="l00137"></a>00137     }
<a name="l00138"></a>00138 
<a name="l00150"></a><a class="code" href="class_zend___gdata.html#a9bfedf14c8845b248ea19e5371fc56a9">00150</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___gdata.html#a9bfedf14c8845b248ea19e5371fc56a9">getFeed</a>($location, $className=<span class="stringliteral">&#39;Zend_Gdata_Feed&#39;</span>)
<a name="l00151"></a>00151     {
<a name="l00152"></a>00152         <span class="keywordflow">if</span> (is_string($location)) {
<a name="l00153"></a>00153             $uri = $location;
<a name="l00154"></a>00154         } elseif ($location instanceof Zend_Gdata_Query) {
<a name="l00155"></a>00155             $uri = $location-&gt;getQueryUrl();
<a name="l00156"></a>00156         } <span class="keywordflow">else</span> {
<a name="l00157"></a>00157             require_once <span class="stringliteral">&#39;Zend/Gdata/App/InvalidArgumentException.php&#39;</span>;
<a name="l00158"></a>00158             <span class="keywordflow">throw</span> <span class="keyword">new</span> Zend_Gdata_App_InvalidArgumentException(
<a name="l00159"></a>00159                     <span class="stringliteral">&#39;You must specify the location as either a string URI &#39;</span> .
<a name="l00160"></a>00160                     <span class="stringliteral">&#39;or a child of Zend_Gdata_Query&#39;</span>);
<a name="l00161"></a>00161         }
<a name="l00162"></a>00162         <span class="keywordflow">return</span> <a class="code" href="class_zend___gdata.html#a9bfedf14c8845b248ea19e5371fc56a9">parent::getFeed</a>($uri, $className);
<a name="l00163"></a>00163     }
<a name="l00164"></a>00164 
<a name="l00175"></a><a class="code" href="class_zend___gdata.html#a8bdb4b621bdeae1263d84b9397cf193f">00175</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___gdata.html#a8bdb4b621bdeae1263d84b9397cf193f">getEntry</a>($location, $className=<span class="stringliteral">&#39;Zend_Gdata_Entry&#39;</span>)
<a name="l00176"></a>00176     {
<a name="l00177"></a>00177         <span class="keywordflow">if</span> (is_string($location)) {
<a name="l00178"></a>00178             $uri = $location;
<a name="l00179"></a>00179         } elseif ($location instanceof Zend_Gdata_Query) {
<a name="l00180"></a>00180             $uri = $location-&gt;getQueryUrl();
<a name="l00181"></a>00181         } <span class="keywordflow">else</span> {
<a name="l00182"></a>00182             require_once <span class="stringliteral">&#39;Zend/Gdata/App/InvalidArgumentException.php&#39;</span>;
<a name="l00183"></a>00183             <span class="keywordflow">throw</span> <span class="keyword">new</span> Zend_Gdata_App_InvalidArgumentException(
<a name="l00184"></a>00184                     <span class="stringliteral">&#39;You must specify the location as either a string URI &#39;</span> .
<a name="l00185"></a>00185                     <span class="stringliteral">&#39;or a child of Zend_Gdata_Query&#39;</span>);
<a name="l00186"></a>00186         }
<a name="l00187"></a>00187         <span class="keywordflow">return</span> <a class="code" href="class_zend___gdata.html#a8bdb4b621bdeae1263d84b9397cf193f">parent::getEntry</a>($uri, $className);
<a name="l00188"></a>00188     }
<a name="l00189"></a>00189 
<a name="l00210"></a><a class="code" href="class_zend___gdata.html#a55f35ba08f582d02a994fb1a8e7b48f5">00210</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___gdata.html#a55f35ba08f582d02a994fb1a8e7b48f5">performHttpRequest</a>($method, $url, $headers = array(), $body = null, $contentType = null, $remainingRedirects = null)
<a name="l00211"></a>00211     {
<a name="l00212"></a>00212         <span class="keywordflow">if</span> ($this-&gt;_httpClient instanceof Zend_Gdata_HttpClient) {
<a name="l00213"></a>00213             $filterResult = $this-&gt;_httpClient-&gt;filterHttpRequest($method, $url, $headers, $body, $contentType);
<a name="l00214"></a>00214             $method = $filterResult[<span class="stringliteral">&#39;method&#39;</span>];
<a name="l00215"></a>00215             $url = $filterResult[<span class="stringliteral">&#39;url&#39;</span>];
<a name="l00216"></a>00216             $body = $filterResult[<span class="stringliteral">&#39;body&#39;</span>];
<a name="l00217"></a>00217             $headers = $filterResult[<span class="stringliteral">&#39;headers&#39;</span>];
<a name="l00218"></a>00218             $contentType = $filterResult[<span class="stringliteral">&#39;contentType&#39;</span>];
<a name="l00219"></a>00219             <span class="keywordflow">return</span> $this-&gt;_httpClient-&gt;filterHttpResponse(parent::performHttpRequest($method, $url, $headers, $body, $contentType, $remainingRedirects));
<a name="l00220"></a>00220         } <span class="keywordflow">else</span> {
<a name="l00221"></a>00221             <span class="keywordflow">return</span> <a class="code" href="class_zend___gdata.html#a55f35ba08f582d02a994fb1a8e7b48f5">parent::performHttpRequest</a>($method, $url, $headers, $body, $contentType, $remainingRedirects);
<a name="l00222"></a>00222         }
<a name="l00223"></a>00223     }
<a name="l00224"></a>00224 
<a name="l00230"></a><a class="code" href="class_zend___gdata.html#a43186604926a3172896ce2353437d5b8">00230</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___gdata.html#a43186604926a3172896ce2353437d5b8">isAuthenticated</a>()
<a name="l00231"></a>00231     {
<a name="l00232"></a>00232         $client = parent::getHttpClient();
<a name="l00233"></a>00233         <span class="keywordflow">if</span> ($client-&gt;getClientLoginToken() ||
<a name="l00234"></a>00234             $client-&gt;getAuthSubToken()) {
<a name="l00235"></a>00235                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00236"></a>00236         }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00239"></a>00239     }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 19 2012 17:01:17 for openbiz by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
