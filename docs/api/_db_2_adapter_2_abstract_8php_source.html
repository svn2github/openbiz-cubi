<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>openbiz: E:/E/GEAMP/www/openbiz/openbiz/others/Zend/Db/Adapter/Abstract.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>E:/E/GEAMP/www/openbiz/openbiz/others/Zend/Db/Adapter/Abstract.php</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00027"></a>00027 require_once <span class="stringliteral">&#39;Zend/Db.php&#39;</span>;
<a name="l00028"></a>00028 
<a name="l00032"></a>00032 require_once <span class="stringliteral">&#39;Zend/Db/Select.php&#39;</span>;
<a name="l00033"></a>00033 
<a name="l00043"></a><a class="code" href="class_zend___db___adapter___abstract.html">00043</a> <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="class_zend___db___adapter___abstract.html">Zend_Db_Adapter_Abstract</a>
<a name="l00044"></a>00044 {
<a name="l00045"></a>00045 
<a name="l00051"></a>00051     <span class="keyword">protected</span> $_config = array();
<a name="l00052"></a>00052 
<a name="l00058"></a>00058     <span class="keyword">protected</span> $_fetchMode = Zend_Db::FETCH_ASSOC;
<a name="l00059"></a>00059 
<a name="l00066"></a>00066     <span class="keyword">protected</span> $_profiler;
<a name="l00067"></a>00067 
<a name="l00073"></a>00073     <span class="keyword">protected</span> $_defaultStmtClass = <span class="stringliteral">&#39;Zend_Db_Statement&#39;</span>;
<a name="l00074"></a>00074 
<a name="l00080"></a>00080     <span class="keyword">protected</span> $_defaultProfilerClass = <span class="stringliteral">&#39;Zend_Db_Profiler&#39;</span>;
<a name="l00081"></a>00081 
<a name="l00087"></a>00087     <span class="keyword">protected</span> $_connection = null;
<a name="l00088"></a>00088 
<a name="l00098"></a>00098     <span class="keyword">protected</span> $_caseFolding = Zend_Db::CASE_NATURAL;
<a name="l00099"></a>00099 
<a name="l00109"></a>00109     <span class="keyword">protected</span> $_autoQuoteIdentifiers = <span class="keyword">true</span>;
<a name="l00110"></a>00110 
<a name="l00122"></a>00122     <span class="keyword">protected</span> $_numericDataTypes = array(
<a name="l00123"></a>00123         <a class="code" href="class_zend___db.html#affecef211960acad23a2b28b618b207c">Zend_Db::INT_TYPE</a>    =&gt; <a class="code" href="class_zend___db.html#affecef211960acad23a2b28b618b207c">Zend_Db::INT_TYPE</a>,
<a name="l00124"></a>00124         Zend_Db::BIGINT_TYPE =&gt; Zend_Db::BIGINT_TYPE,
<a name="l00125"></a>00125         Zend_Db::FLOAT_TYPE  =&gt; Zend_Db::FLOAT_TYPE
<a name="l00126"></a>00126     );
<a name="l00127"></a>00127 
<a name="l00132"></a>00132     <span class="keyword">protected</span> $_allowSerialization = <span class="keyword">true</span>;
<a name="l00133"></a>00133 
<a name="l00140"></a>00140     <span class="keyword">protected</span> $_autoReconnectOnUnserialize = <span class="keyword">false</span>;
<a name="l00141"></a>00141 
<a name="l00163"></a><a class="code" href="class_zend___db___adapter___abstract.html#acf2ad978657d47ceab41038dc7d95737">00163</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#acf2ad978657d47ceab41038dc7d95737">__construct</a>($config)
<a name="l00164"></a>00164     {
<a name="l00165"></a>00165         <span class="comment">/*</span>
<a name="l00166"></a>00166 <span class="comment">         * Verify that adapter parameters are in an array.</span>
<a name="l00167"></a>00167 <span class="comment">         */</span>
<a name="l00168"></a>00168         <span class="keywordflow">if</span> (!is_array($config)) {
<a name="l00169"></a>00169             <span class="comment">/*</span>
<a name="l00170"></a>00170 <span class="comment">             * Convert Zend_Config argument to a plain array.</span>
<a name="l00171"></a>00171 <span class="comment">             */</span>
<a name="l00172"></a>00172             <span class="keywordflow">if</span> ($config instanceof <a class="code" href="class_zend___config.html">Zend_Config</a>) {
<a name="l00173"></a>00173                 $config = $config-&gt;toArray();
<a name="l00174"></a>00174             } <span class="keywordflow">else</span> {
<a name="l00178"></a>00178                 require_once <span class="stringliteral">&#39;Zend/Db/Adapter/Exception.php&#39;</span>;
<a name="l00179"></a>00179                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___adapter___exception.html">Zend_Db_Adapter_Exception</a>(<span class="stringliteral">&#39;Adapter parameters must be in an array or a Zend_Config object&#39;</span>);
<a name="l00180"></a>00180             }
<a name="l00181"></a>00181         }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a1f1487c6bccef6c2bb84ae01e51de972">_checkRequiredOptions</a>($config);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         $options = array(
<a name="l00186"></a>00186             <a class="code" href="class_zend___db.html#ac0ac08a79cea345d404854dbc74d7775">Zend_Db::CASE_FOLDING</a>           =&gt; $this-&gt;_caseFolding,
<a name="l00187"></a>00187             <a class="code" href="class_zend___db.html#a211dc4a090849a8af6d23ead222e83e6">Zend_Db::AUTO_QUOTE_IDENTIFIERS</a> =&gt; $this-&gt;_autoQuoteIdentifiers
<a name="l00188"></a>00188         );
<a name="l00189"></a>00189         $driverOptions = array();
<a name="l00190"></a>00190 
<a name="l00191"></a>00191         <span class="comment">/*</span>
<a name="l00192"></a>00192 <span class="comment">         * normalize the config and merge it with the defaults</span>
<a name="l00193"></a>00193 <span class="comment">         */</span>
<a name="l00194"></a>00194         <span class="keywordflow">if</span> (array_key_exists(<span class="stringliteral">&#39;options&#39;</span>, $config)) {
<a name="l00195"></a>00195             <span class="comment">// can&#39;t use array_merge() because keys might be integers</span>
<a name="l00196"></a>00196             <span class="keywordflow">foreach</span> ((array) $config[<span class="stringliteral">&#39;options&#39;</span>] as $key =&gt; $value) {
<a name="l00197"></a>00197                 $options[$key] = $value;
<a name="l00198"></a>00198             }
<a name="l00199"></a>00199         }
<a name="l00200"></a>00200         <span class="keywordflow">if</span> (array_key_exists(<span class="stringliteral">&#39;driver_options&#39;</span>, $config)) {
<a name="l00201"></a>00201             <span class="keywordflow">if</span> (!empty($config[<span class="stringliteral">&#39;driver_options&#39;</span>])) {
<a name="l00202"></a>00202                 <span class="comment">// can&#39;t use array_merge() because keys might be integers</span>
<a name="l00203"></a>00203                 <span class="keywordflow">foreach</span> ((array) $config[<span class="stringliteral">&#39;driver_options&#39;</span>] as $key =&gt; $value) {
<a name="l00204"></a>00204                     $driverOptions[$key] = $value;
<a name="l00205"></a>00205                 }
<a name="l00206"></a>00206             }
<a name="l00207"></a>00207         }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         <span class="keywordflow">if</span> (!isset($config[<span class="stringliteral">&#39;charset&#39;</span>])) {
<a name="l00210"></a>00210             $config[<span class="stringliteral">&#39;charset&#39;</span>] = null;
<a name="l00211"></a>00211         }
<a name="l00212"></a>00212 
<a name="l00213"></a>00213         <span class="keywordflow">if</span> (!isset($config[<span class="stringliteral">&#39;persistent&#39;</span>])) {
<a name="l00214"></a>00214             $config[<span class="stringliteral">&#39;persistent&#39;</span>] = <span class="keyword">false</span>;
<a name="l00215"></a>00215         }
<a name="l00216"></a>00216 
<a name="l00217"></a>00217         $this-&gt;_config = array_merge($this-&gt;_config, $config);
<a name="l00218"></a>00218         $this-&gt;_config[<span class="stringliteral">&#39;options&#39;</span>] = $options;
<a name="l00219"></a>00219         $this-&gt;_config[<span class="stringliteral">&#39;driver_options&#39;</span>] = $driverOptions;
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 
<a name="l00222"></a>00222         <span class="comment">// obtain the case setting, if there is one</span>
<a name="l00223"></a>00223         <span class="keywordflow">if</span> (array_key_exists(<a class="code" href="class_zend___db.html#ac0ac08a79cea345d404854dbc74d7775">Zend_Db::CASE_FOLDING</a>, $options)) {
<a name="l00224"></a>00224             $case = (int) $options[<a class="code" href="class_zend___db.html#ac0ac08a79cea345d404854dbc74d7775">Zend_Db::CASE_FOLDING</a>];
<a name="l00225"></a>00225             <span class="keywordflow">switch</span> ($case) {
<a name="l00226"></a>00226                 <span class="keywordflow">case</span> Zend_Db::CASE_LOWER:
<a name="l00227"></a>00227                 <span class="keywordflow">case</span> Zend_Db::CASE_UPPER:
<a name="l00228"></a>00228                 <span class="keywordflow">case</span> Zend_Db::CASE_NATURAL:
<a name="l00229"></a>00229                     $this-&gt;_caseFolding = $case;
<a name="l00230"></a>00230                     <span class="keywordflow">break</span>;
<a name="l00231"></a>00231                 <span class="keywordflow">default</span>:
<a name="l00233"></a>00233                     require_once <span class="stringliteral">&#39;Zend/Db/Adapter/Exception.php&#39;</span>;
<a name="l00234"></a>00234                     <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___adapter___exception.html">Zend_Db_Adapter_Exception</a>(<span class="stringliteral">&#39;Case must be one of the following constants: &#39;</span>
<a name="l00235"></a>00235                         . <span class="stringliteral">&#39;Zend_Db::CASE_NATURAL, Zend_Db::CASE_LOWER, Zend_Db::CASE_UPPER&#39;</span>);
<a name="l00236"></a>00236             }
<a name="l00237"></a>00237         }
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <span class="comment">// obtain quoting property if there is one</span>
<a name="l00240"></a>00240         <span class="keywordflow">if</span> (array_key_exists(<a class="code" href="class_zend___db.html#a211dc4a090849a8af6d23ead222e83e6">Zend_Db::AUTO_QUOTE_IDENTIFIERS</a>, $options)) {
<a name="l00241"></a>00241             $this-&gt;_autoQuoteIdentifiers = (bool) $options[<a class="code" href="class_zend___db.html#a211dc4a090849a8af6d23ead222e83e6">Zend_Db::AUTO_QUOTE_IDENTIFIERS</a>];
<a name="l00242"></a>00242         }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244         <span class="comment">// obtain allow serialization property if there is one</span>
<a name="l00245"></a>00245         <span class="keywordflow">if</span> (array_key_exists(<a class="code" href="class_zend___db.html#a86c4ceb3e1fb0ac0f340b882444d2ed6">Zend_Db::ALLOW_SERIALIZATION</a>, $options)) {
<a name="l00246"></a>00246             $this-&gt;_allowSerialization = (bool) $options[<a class="code" href="class_zend___db.html#a86c4ceb3e1fb0ac0f340b882444d2ed6">Zend_Db::ALLOW_SERIALIZATION</a>];
<a name="l00247"></a>00247         }
<a name="l00248"></a>00248 
<a name="l00249"></a>00249         <span class="comment">// obtain auto reconnect on unserialize property if there is one</span>
<a name="l00250"></a>00250         <span class="keywordflow">if</span> (array_key_exists(<a class="code" href="class_zend___db.html#aec18229c32ff3c574b402d5cd260df63">Zend_Db::AUTO_RECONNECT_ON_UNSERIALIZE</a>, $options)) {
<a name="l00251"></a>00251             $this-&gt;_autoReconnectOnUnserialize = (bool) $options[<a class="code" href="class_zend___db.html#aec18229c32ff3c574b402d5cd260df63">Zend_Db::AUTO_RECONNECT_ON_UNSERIALIZE</a>];
<a name="l00252"></a>00252         }
<a name="l00253"></a>00253 
<a name="l00254"></a>00254         <span class="comment">// create a profiler object</span>
<a name="l00255"></a>00255         $profiler = <span class="keyword">false</span>;
<a name="l00256"></a>00256         <span class="keywordflow">if</span> (array_key_exists(<a class="code" href="class_zend___db.html#ae2c21b704e73d182db405b1d06f31843">Zend_Db::PROFILER</a>, $this-&gt;_config)) {
<a name="l00257"></a>00257             $profiler = $this-&gt;_config[<a class="code" href="class_zend___db.html#ae2c21b704e73d182db405b1d06f31843">Zend_Db::PROFILER</a>];
<a name="l00258"></a>00258             unset($this-&gt;_config[<a class="code" href="class_zend___db.html#ae2c21b704e73d182db405b1d06f31843">Zend_Db::PROFILER</a>]);
<a name="l00259"></a>00259         }
<a name="l00260"></a>00260         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a63f498f58065fae5f1e35d248aca9cb1">setProfiler</a>($profiler);
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262 
<a name="l00270"></a><a class="code" href="class_zend___db___adapter___abstract.html#a1f1487c6bccef6c2bb84ae01e51de972">00270</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a1f1487c6bccef6c2bb84ae01e51de972">_checkRequiredOptions</a>(array $config)
<a name="l00271"></a>00271     {
<a name="l00272"></a>00272         <span class="comment">// we need at least a dbname</span>
<a name="l00273"></a>00273         <span class="keywordflow">if</span> (! array_key_exists(<span class="stringliteral">&#39;dbname&#39;</span>, $config)) {
<a name="l00275"></a>00275             require_once <span class="stringliteral">&#39;Zend/Db/Adapter/Exception.php&#39;</span>;
<a name="l00276"></a>00276             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___adapter___exception.html">Zend_Db_Adapter_Exception</a>(<span class="stringliteral">&quot;Configuration array must have a key for &#39;dbname&#39; that names the database instance&quot;</span>);
<a name="l00277"></a>00277         }
<a name="l00278"></a>00278 
<a name="l00279"></a>00279         <span class="keywordflow">if</span> (! array_key_exists(<span class="stringliteral">&#39;password&#39;</span>, $config)) {
<a name="l00283"></a>00283             require_once <span class="stringliteral">&#39;Zend/Db/Adapter/Exception.php&#39;</span>;
<a name="l00284"></a>00284             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___adapter___exception.html">Zend_Db_Adapter_Exception</a>(<span class="stringliteral">&quot;Configuration array must have a key for &#39;password&#39; for login credentials&quot;</span>);
<a name="l00285"></a>00285         }
<a name="l00286"></a>00286 
<a name="l00287"></a>00287         <span class="keywordflow">if</span> (! array_key_exists(<span class="stringliteral">&#39;username&#39;</span>, $config)) {
<a name="l00291"></a>00291             require_once <span class="stringliteral">&#39;Zend/Db/Adapter/Exception.php&#39;</span>;
<a name="l00292"></a>00292             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___adapter___exception.html">Zend_Db_Adapter_Exception</a>(<span class="stringliteral">&quot;Configuration array must have a key for &#39;username&#39; for login credentials&quot;</span>);
<a name="l00293"></a>00293         }
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295 
<a name="l00302"></a><a class="code" href="class_zend___db___adapter___abstract.html#ab7a0a080d0e721c656eef11cd641638b">00302</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#ab7a0a080d0e721c656eef11cd641638b">getConnection</a>()
<a name="l00303"></a>00303     {
<a name="l00304"></a>00304         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a056510893d19074b6d9138db970a8843">_connect</a>();
<a name="l00305"></a>00305         <span class="keywordflow">return</span> $this-&gt;_connection;
<a name="l00306"></a>00306     }
<a name="l00307"></a>00307 
<a name="l00313"></a><a class="code" href="class_zend___db___adapter___abstract.html#a628300eb8464467d9344c7c59cc8770b">00313</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a628300eb8464467d9344c7c59cc8770b">getConfig</a>()
<a name="l00314"></a>00314     {
<a name="l00315"></a>00315         <span class="keywordflow">return</span> $this-&gt;_config;
<a name="l00316"></a>00316     }
<a name="l00317"></a>00317 
<a name="l00346"></a><a class="code" href="class_zend___db___adapter___abstract.html#a63f498f58065fae5f1e35d248aca9cb1">00346</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a63f498f58065fae5f1e35d248aca9cb1">setProfiler</a>($profiler)
<a name="l00347"></a>00347     {
<a name="l00348"></a>00348         $enabled          = null;
<a name="l00349"></a>00349         $profilerClass    = $this-&gt;_defaultProfilerClass;
<a name="l00350"></a>00350         $profilerInstance = null;
<a name="l00351"></a>00351 
<a name="l00352"></a>00352         <span class="keywordflow">if</span> ($profilerIsObject = is_object($profiler)) {
<a name="l00353"></a>00353             <span class="keywordflow">if</span> ($profiler instanceof <a class="code" href="class_zend___db___profiler.html">Zend_Db_Profiler</a>) {
<a name="l00354"></a>00354                 $profilerInstance = $profiler;
<a name="l00355"></a>00355             } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($profiler instanceof <a class="code" href="class_zend___config.html">Zend_Config</a>) {
<a name="l00356"></a>00356                 $profiler = $profiler-&gt;toArray();
<a name="l00357"></a>00357             } <span class="keywordflow">else</span> {
<a name="l00361"></a>00361                 require_once <span class="stringliteral">&#39;Zend/Db/Profiler/Exception.php&#39;</span>;
<a name="l00362"></a>00362                 <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___profiler___exception.html">Zend_Db_Profiler_Exception</a>(<span class="stringliteral">&#39;Profiler argument must be an instance of either Zend_Db_Profiler&#39;</span>
<a name="l00363"></a>00363                     . <span class="stringliteral">&#39; or Zend_Config when provided as an object&#39;</span>);
<a name="l00364"></a>00364             }
<a name="l00365"></a>00365         }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367         <span class="keywordflow">if</span> (is_array($profiler)) {
<a name="l00368"></a>00368             <span class="keywordflow">if</span> (isset($profiler[<span class="stringliteral">&#39;enabled&#39;</span>])) {
<a name="l00369"></a>00369                 $enabled = (bool) $profiler[<span class="stringliteral">&#39;enabled&#39;</span>];
<a name="l00370"></a>00370             }
<a name="l00371"></a>00371             <span class="keywordflow">if</span> (isset($profiler[<span class="stringliteral">&#39;class&#39;</span>])) {
<a name="l00372"></a>00372                 $profilerClass = $profiler[<span class="stringliteral">&#39;class&#39;</span>];
<a name="l00373"></a>00373             }
<a name="l00374"></a>00374             <span class="keywordflow">if</span> (isset($profiler[<span class="stringliteral">&#39;instance&#39;</span>])) {
<a name="l00375"></a>00375                 $profilerInstance = $profiler[<span class="stringliteral">&#39;instance&#39;</span>];
<a name="l00376"></a>00376             }
<a name="l00377"></a>00377         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!$profilerIsObject) {
<a name="l00378"></a>00378             $enabled = (bool) $profiler;
<a name="l00379"></a>00379         }
<a name="l00380"></a>00380 
<a name="l00381"></a>00381         <span class="keywordflow">if</span> ($profilerInstance === null) {
<a name="l00382"></a>00382             <span class="keywordflow">if</span> (!class_exists($profilerClass)) {
<a name="l00383"></a>00383                 require_once <span class="stringliteral">&#39;Zend/Loader.php&#39;</span>;
<a name="l00384"></a>00384                 <a class="code" href="class_zend___loader.html#a3d4b9877e0dcc1904b8e41d86be11d93">Zend_Loader::loadClass</a>($profilerClass);
<a name="l00385"></a>00385             }
<a name="l00386"></a>00386             $profilerInstance = <span class="keyword">new</span> $profilerClass();
<a name="l00387"></a>00387         }
<a name="l00388"></a>00388 
<a name="l00389"></a>00389         <span class="keywordflow">if</span> (!$profilerInstance instanceof <a class="code" href="class_zend___db___profiler.html">Zend_Db_Profiler</a>) {
<a name="l00391"></a>00391             require_once <span class="stringliteral">&#39;Zend/Db/Profiler/Exception.php&#39;</span>;
<a name="l00392"></a>00392             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___profiler___exception.html">Zend_Db_Profiler_Exception</a>(<span class="stringliteral">&#39;Class &#39;</span> . get_class($profilerInstance) . <span class="stringliteral">&#39; does not extend &#39;</span>
<a name="l00393"></a>00393                 . <span class="stringliteral">&#39;Zend_Db_Profiler&#39;</span>);
<a name="l00394"></a>00394         }
<a name="l00395"></a>00395 
<a name="l00396"></a>00396         <span class="keywordflow">if</span> (null !== $enabled) {
<a name="l00397"></a>00397             $profilerInstance-&gt;setEnabled($enabled);
<a name="l00398"></a>00398         }
<a name="l00399"></a>00399 
<a name="l00400"></a>00400         $this-&gt;_profiler = $profilerInstance;
<a name="l00401"></a>00401 
<a name="l00402"></a>00402         <span class="keywordflow">return</span> $this;
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404 
<a name="l00405"></a>00405 
<a name="l00411"></a><a class="code" href="class_zend___db___adapter___abstract.html#a4d5723c317ec42ef3a80aabeb900b85e">00411</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a4d5723c317ec42ef3a80aabeb900b85e">getProfiler</a>()
<a name="l00412"></a>00412     {
<a name="l00413"></a>00413         <span class="keywordflow">return</span> $this-&gt;_profiler;
<a name="l00414"></a>00414     }
<a name="l00415"></a>00415 
<a name="l00421"></a><a class="code" href="class_zend___db___adapter___abstract.html#a12440eeb3047b9aaf1250d25dc517ad2">00421</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a12440eeb3047b9aaf1250d25dc517ad2">getStatementClass</a>()
<a name="l00422"></a>00422     {
<a name="l00423"></a>00423         <span class="keywordflow">return</span> $this-&gt;_defaultStmtClass;
<a name="l00424"></a>00424     }
<a name="l00425"></a>00425 
<a name="l00431"></a><a class="code" href="class_zend___db___adapter___abstract.html#a1f41e62c1a61c10463abd289cdfabdc1">00431</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a1f41e62c1a61c10463abd289cdfabdc1">setStatementClass</a>($class)
<a name="l00432"></a>00432     {
<a name="l00433"></a>00433         $this-&gt;_defaultStmtClass = $class;
<a name="l00434"></a>00434         <span class="keywordflow">return</span> $this;
<a name="l00435"></a>00435     }
<a name="l00436"></a>00436 
<a name="l00445"></a><a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">00445</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, $bind = array())
<a name="l00446"></a>00446     {
<a name="l00447"></a>00447         <span class="comment">// connect to the database if needed</span>
<a name="l00448"></a>00448         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a056510893d19074b6d9138db970a8843">_connect</a>();
<a name="l00449"></a>00449 
<a name="l00450"></a>00450         <span class="comment">// is the $sql a Zend_Db_Select object?</span>
<a name="l00451"></a>00451         <span class="keywordflow">if</span> ($sql instanceof <a class="code" href="class_zend___db___select.html">Zend_Db_Select</a>) {
<a name="l00452"></a>00452             <span class="keywordflow">if</span> (empty($bind)) {
<a name="l00453"></a>00453                 $bind = $sql-&gt;getBind();
<a name="l00454"></a>00454             }
<a name="l00455"></a>00455 
<a name="l00456"></a>00456             $sql = $sql-&gt;assemble();
<a name="l00457"></a>00457         }
<a name="l00458"></a>00458 
<a name="l00459"></a>00459         <span class="comment">// make sure $bind to an array;</span>
<a name="l00460"></a>00460         <span class="comment">// don&#39;t use (array) typecasting because</span>
<a name="l00461"></a>00461         <span class="comment">// because $bind may be a Zend_Db_Expr object</span>
<a name="l00462"></a>00462         <span class="keywordflow">if</span> (!is_array($bind)) {
<a name="l00463"></a>00463             $bind = array($bind);
<a name="l00464"></a>00464         }
<a name="l00465"></a>00465 
<a name="l00466"></a>00466         <span class="comment">// prepare and execute the statement with profiling</span>
<a name="l00467"></a>00467         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a33cccb936edee27a1e17189105dd021c">prepare</a>($sql);
<a name="l00468"></a>00468         $stmt-&gt;execute($bind);
<a name="l00469"></a>00469 
<a name="l00470"></a>00470         <span class="comment">// return the results embedded in the prepared statement object</span>
<a name="l00471"></a>00471         $stmt-&gt;setFetchMode($this-&gt;_fetchMode);
<a name="l00472"></a>00472         <span class="keywordflow">return</span> $stmt;
<a name="l00473"></a>00473     }
<a name="l00474"></a>00474 
<a name="l00480"></a><a class="code" href="class_zend___db___adapter___abstract.html#af3380f3b13931d581fa973a382946b32">00480</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#af3380f3b13931d581fa973a382946b32">beginTransaction</a>()
<a name="l00481"></a>00481     {
<a name="l00482"></a>00482         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a056510893d19074b6d9138db970a8843">_connect</a>();
<a name="l00483"></a>00483         $q = $this-&gt;_profiler-&gt;queryStart(<span class="stringliteral">&#39;begin&#39;</span>, <a class="code" href="class_zend___db___profiler.html#ac62773c3a2a01e4f10609e0df923ad80">Zend_Db_Profiler::TRANSACTION</a>);
<a name="l00484"></a>00484         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#afdb24c1d71bb26311e8c66b479af1b8a">_beginTransaction</a>();
<a name="l00485"></a>00485         $this-&gt;_profiler-&gt;queryEnd($q);
<a name="l00486"></a>00486         <span class="keywordflow">return</span> $this;
<a name="l00487"></a>00487     }
<a name="l00488"></a>00488 
<a name="l00494"></a><a class="code" href="class_zend___db___adapter___abstract.html#af5674c27d4a92f6228565010eacbb9cb">00494</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#af5674c27d4a92f6228565010eacbb9cb">commit</a>()
<a name="l00495"></a>00495     {
<a name="l00496"></a>00496         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a056510893d19074b6d9138db970a8843">_connect</a>();
<a name="l00497"></a>00497         $q = $this-&gt;_profiler-&gt;queryStart(<span class="stringliteral">&#39;commit&#39;</span>, <a class="code" href="class_zend___db___profiler.html#ac62773c3a2a01e4f10609e0df923ad80">Zend_Db_Profiler::TRANSACTION</a>);
<a name="l00498"></a>00498         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a7b56e3efd348cd6014c8ad7694a951fd">_commit</a>();
<a name="l00499"></a>00499         $this-&gt;_profiler-&gt;queryEnd($q);
<a name="l00500"></a>00500         <span class="keywordflow">return</span> $this;
<a name="l00501"></a>00501     }
<a name="l00502"></a>00502 
<a name="l00508"></a><a class="code" href="class_zend___db___adapter___abstract.html#aebaea4cae21e0e75ec1489c1648caeb3">00508</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#aebaea4cae21e0e75ec1489c1648caeb3">rollBack</a>()
<a name="l00509"></a>00509     {
<a name="l00510"></a>00510         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a056510893d19074b6d9138db970a8843">_connect</a>();
<a name="l00511"></a>00511         $q = $this-&gt;_profiler-&gt;queryStart(<span class="stringliteral">&#39;rollback&#39;</span>, <a class="code" href="class_zend___db___profiler.html#ac62773c3a2a01e4f10609e0df923ad80">Zend_Db_Profiler::TRANSACTION</a>);
<a name="l00512"></a>00512         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a902e8f39084ade8cacd541700b322659">_rollBack</a>();
<a name="l00513"></a>00513         $this-&gt;_profiler-&gt;queryEnd($q);
<a name="l00514"></a>00514         <span class="keywordflow">return</span> $this;
<a name="l00515"></a>00515     }
<a name="l00516"></a>00516 
<a name="l00524"></a><a class="code" href="class_zend___db___adapter___abstract.html#a497ab0ea850b2fd65590545fd23e7d4a">00524</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a497ab0ea850b2fd65590545fd23e7d4a">insert</a>($table, array $bind)
<a name="l00525"></a>00525     {
<a name="l00526"></a>00526         <span class="comment">// extract and quote col names from the array keys</span>
<a name="l00527"></a>00527         $cols = array();
<a name="l00528"></a>00528         $vals = array();
<a name="l00529"></a>00529         <span class="keywordflow">foreach</span> ($bind as $col =&gt; $val) {
<a name="l00530"></a>00530             $cols[] = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a251c08713c7cc7b6def84fe31aea2141">quoteIdentifier</a>($col, <span class="keyword">true</span>);
<a name="l00531"></a>00531             <span class="keywordflow">if</span> ($val instanceof <a class="code" href="class_zend___db___expr.html">Zend_Db_Expr</a>) {
<a name="l00532"></a>00532                 $vals[] = $val-&gt;__toString();
<a name="l00533"></a>00533                 unset($bind[$col]);
<a name="l00534"></a>00534             } <span class="keywordflow">else</span> {
<a name="l00535"></a>00535                 $vals[] = <span class="charliteral">&#39;?&#39;</span>;
<a name="l00536"></a>00536             }
<a name="l00537"></a>00537         }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539         <span class="comment">// build the statement</span>
<a name="l00540"></a>00540         $sql = <span class="stringliteral">&quot;INSERT INTO &quot;</span>
<a name="l00541"></a>00541              . $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a251c08713c7cc7b6def84fe31aea2141">quoteIdentifier</a>($table, <span class="keyword">true</span>)
<a name="l00542"></a>00542              . <span class="stringliteral">&#39; (&#39;</span> . implode(<span class="stringliteral">&#39;, &#39;</span>, $cols) . <span class="stringliteral">&#39;) &#39;</span>
<a name="l00543"></a>00543              . <span class="stringliteral">&#39;VALUES (&#39;</span> . implode(<span class="stringliteral">&#39;, &#39;</span>, $vals) . <span class="charliteral">&#39;)&#39;</span>;
<a name="l00544"></a>00544 
<a name="l00545"></a>00545         <span class="comment">// execute the statement and return the number of affected rows</span>
<a name="l00546"></a>00546         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, array_values($bind));
<a name="l00547"></a>00547         $result = $stmt-&gt;rowCount();
<a name="l00548"></a>00548         <span class="keywordflow">return</span> $result;
<a name="l00549"></a>00549     }
<a name="l00550"></a>00550 
<a name="l00559"></a><a class="code" href="class_zend___db___adapter___abstract.html#a0066ab7bec80ed39305f784087c0c345">00559</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a0066ab7bec80ed39305f784087c0c345">update</a>($table, array $bind, $where = <span class="stringliteral">&#39;&#39;</span>)
<a name="l00560"></a>00560     {
<a name="l00565"></a>00565         $set = array();
<a name="l00566"></a>00566         $i = 0;
<a name="l00567"></a>00567         <span class="keywordflow">foreach</span> ($bind as $col =&gt; $val) {
<a name="l00568"></a>00568             <span class="keywordflow">if</span> ($val instanceof <a class="code" href="class_zend___db___expr.html">Zend_Db_Expr</a>) {
<a name="l00569"></a>00569                 $val = $val-&gt;__toString();
<a name="l00570"></a>00570                 unset($bind[$col]);
<a name="l00571"></a>00571             } <span class="keywordflow">else</span> {
<a name="l00572"></a>00572                 <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#ab52f66eccf8ed211b09521fc74b1623d">supportsParameters</a>(<span class="stringliteral">&#39;positional&#39;</span>)) {
<a name="l00573"></a>00573                     $val = <span class="charliteral">&#39;?&#39;</span>;
<a name="l00574"></a>00574                 } <span class="keywordflow">else</span> {
<a name="l00575"></a>00575                     <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#ab52f66eccf8ed211b09521fc74b1623d">supportsParameters</a>(<span class="stringliteral">&#39;named&#39;</span>)) {
<a name="l00576"></a>00576                         unset($bind[$col]);
<a name="l00577"></a>00577                         $bind[<span class="charliteral">&#39;:&#39;</span>.$col.$i] = $val;
<a name="l00578"></a>00578                         $val = <span class="charliteral">&#39;:&#39;</span>.$col.$i;
<a name="l00579"></a>00579                         $i++;
<a name="l00580"></a>00580                     } <span class="keywordflow">else</span> {
<a name="l00582"></a>00582                         require_once <span class="stringliteral">&#39;Zend/Db/Adapter/Exception.php&#39;</span>;
<a name="l00583"></a>00583                         <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___adapter___exception.html">Zend_Db_Adapter_Exception</a>(get_class($this) .<span class="stringliteral">&quot; doesn&#39;t support positional or named binding&quot;</span>);
<a name="l00584"></a>00584                     }
<a name="l00585"></a>00585                 }
<a name="l00586"></a>00586             }
<a name="l00587"></a>00587             $set[] = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a251c08713c7cc7b6def84fe31aea2141">quoteIdentifier</a>($col, <span class="keyword">true</span>) . <span class="stringliteral">&#39; = &#39;</span> . $val;
<a name="l00588"></a>00588         }
<a name="l00589"></a>00589 
<a name="l00590"></a>00590         $where = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a8bd75cb4f879eb6ed426a1b724ce3b41">_whereExpr</a>($where);
<a name="l00591"></a>00591 
<a name="l00595"></a>00595         $sql = <span class="stringliteral">&quot;UPDATE &quot;</span>
<a name="l00596"></a>00596              . $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a251c08713c7cc7b6def84fe31aea2141">quoteIdentifier</a>($table, <span class="keyword">true</span>)
<a name="l00597"></a>00597              . <span class="stringliteral">&#39; SET &#39;</span> . implode(<span class="stringliteral">&#39;, &#39;</span>, $set)
<a name="l00598"></a>00598              . (($where) ? <span class="stringliteral">&quot; WHERE $where&quot;</span> : <span class="stringliteral">&#39;&#39;</span>);
<a name="l00599"></a>00599 
<a name="l00603"></a>00603         <span class="keywordflow">if</span> ($this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#ab52f66eccf8ed211b09521fc74b1623d">supportsParameters</a>(<span class="stringliteral">&#39;positional&#39;</span>)) {
<a name="l00604"></a>00604             $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, array_values($bind));
<a name="l00605"></a>00605         } <span class="keywordflow">else</span> {
<a name="l00606"></a>00606             $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, $bind);
<a name="l00607"></a>00607         }
<a name="l00608"></a>00608         $result = $stmt-&gt;rowCount();
<a name="l00609"></a>00609         <span class="keywordflow">return</span> $result;
<a name="l00610"></a>00610     }
<a name="l00611"></a>00611 
<a name="l00619"></a><a class="code" href="class_zend___db___adapter___abstract.html#a481585cd4f9d3e470425965d63ac1b6d">00619</a>     <span class="keyword">public</span> function <span class="keyword">delete</span>($table, $where = <span class="stringliteral">&#39;&#39;</span>)
<a name="l00620"></a>00620     {
<a name="l00621"></a>00621         $where = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a8bd75cb4f879eb6ed426a1b724ce3b41">_whereExpr</a>($where);
<a name="l00622"></a>00622 
<a name="l00626"></a>00626         $sql = <span class="stringliteral">&quot;DELETE FROM &quot;</span>
<a name="l00627"></a>00627              . $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a251c08713c7cc7b6def84fe31aea2141">quoteIdentifier</a>($table, <span class="keyword">true</span>)
<a name="l00628"></a>00628              . (($where) ? <span class="stringliteral">&quot; WHERE $where&quot;</span> : <span class="stringliteral">&#39;&#39;</span>);
<a name="l00629"></a>00629 
<a name="l00633"></a>00633         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql);
<a name="l00634"></a>00634         $result = $stmt-&gt;rowCount();
<a name="l00635"></a>00635         <span class="keywordflow">return</span> $result;
<a name="l00636"></a>00636     }
<a name="l00637"></a>00637 
<a name="l00645"></a><a class="code" href="class_zend___db___adapter___abstract.html#a8bd75cb4f879eb6ed426a1b724ce3b41">00645</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a8bd75cb4f879eb6ed426a1b724ce3b41">_whereExpr</a>($where)
<a name="l00646"></a>00646     {
<a name="l00647"></a>00647         <span class="keywordflow">if</span> (empty($where)) {
<a name="l00648"></a>00648             <span class="keywordflow">return</span> $where;
<a name="l00649"></a>00649         }
<a name="l00650"></a>00650         <span class="keywordflow">if</span> (!is_array($where)) {
<a name="l00651"></a>00651             $where = array($where);
<a name="l00652"></a>00652         }
<a name="l00653"></a>00653         <span class="keywordflow">foreach</span> ($where as $cond =&gt; &amp;$term) {
<a name="l00654"></a>00654             <span class="comment">// is $cond an int? (i.e. Not a condition)</span>
<a name="l00655"></a>00655             <span class="keywordflow">if</span> (is_int($cond)) {
<a name="l00656"></a>00656                 <span class="comment">// $term is the full condition</span>
<a name="l00657"></a>00657                 <span class="keywordflow">if</span> ($term instanceof <a class="code" href="class_zend___db___expr.html">Zend_Db_Expr</a>) {
<a name="l00658"></a>00658                     $term = $term-&gt;__toString();
<a name="l00659"></a>00659                 }
<a name="l00660"></a>00660             } <span class="keywordflow">else</span> {
<a name="l00661"></a>00661                 <span class="comment">// $cond is the condition with placeholder,</span>
<a name="l00662"></a>00662                 <span class="comment">// and $term is quoted into the condition</span>
<a name="l00663"></a>00663                 $term = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0beadbb972e664d0970c63dc3246b6ba">quoteInto</a>($cond, $term);
<a name="l00664"></a>00664             }
<a name="l00665"></a>00665             $term = <span class="charliteral">&#39;(&#39;</span> . $term . <span class="charliteral">&#39;)&#39;</span>;
<a name="l00666"></a>00666         }
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         $where = implode(<span class="stringliteral">&#39; AND &#39;</span>, $where);
<a name="l00669"></a>00669         <span class="keywordflow">return</span> $where;
<a name="l00670"></a>00670     }
<a name="l00671"></a>00671 
<a name="l00677"></a><a class="code" href="class_zend___db___adapter___abstract.html#a701f78ac6d7ece9e18883fe7ee612e9f">00677</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a701f78ac6d7ece9e18883fe7ee612e9f">select</a>()
<a name="l00678"></a>00678     {
<a name="l00679"></a>00679         <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___select.html">Zend_Db_Select</a>($this);
<a name="l00680"></a>00680     }
<a name="l00681"></a>00681 
<a name="l00687"></a><a class="code" href="class_zend___db___adapter___abstract.html#a56d386a75c7fef20b67a9add5a944232">00687</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a56d386a75c7fef20b67a9add5a944232">getFetchMode</a>()
<a name="l00688"></a>00688     {
<a name="l00689"></a>00689         <span class="keywordflow">return</span> $this-&gt;_fetchMode;
<a name="l00690"></a>00690     }
<a name="l00691"></a>00691 
<a name="l00701"></a><a class="code" href="class_zend___db___adapter___abstract.html#a3d7e3281aae5aa34938f65cdc01664e9">00701</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a3d7e3281aae5aa34938f65cdc01664e9">fetchAll</a>($sql, $bind = array(), $fetchMode = null)
<a name="l00702"></a>00702     {
<a name="l00703"></a>00703         <span class="keywordflow">if</span> ($fetchMode === null) {
<a name="l00704"></a>00704             $fetchMode = $this-&gt;_fetchMode;
<a name="l00705"></a>00705         }
<a name="l00706"></a>00706         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, $bind);
<a name="l00707"></a>00707         $result = $stmt-&gt;fetchAll($fetchMode);
<a name="l00708"></a>00708         <span class="keywordflow">return</span> $result;
<a name="l00709"></a>00709     }
<a name="l00710"></a>00710 
<a name="l00720"></a><a class="code" href="class_zend___db___adapter___abstract.html#a8c7248c89acb39c3923fda27e5c61689">00720</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a8c7248c89acb39c3923fda27e5c61689">fetchRow</a>($sql, $bind = array(), $fetchMode = null)
<a name="l00721"></a>00721     {
<a name="l00722"></a>00722         <span class="keywordflow">if</span> ($fetchMode === null) {
<a name="l00723"></a>00723             $fetchMode = $this-&gt;_fetchMode;
<a name="l00724"></a>00724         }
<a name="l00725"></a>00725         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, $bind);
<a name="l00726"></a>00726         $result = $stmt-&gt;fetch($fetchMode);
<a name="l00727"></a>00727         <span class="keywordflow">return</span> $result;
<a name="l00728"></a>00728     }
<a name="l00729"></a>00729 
<a name="l00743"></a><a class="code" href="class_zend___db___adapter___abstract.html#aa9b0706f34dcf3e97d0630f9c8d29f4d">00743</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#aa9b0706f34dcf3e97d0630f9c8d29f4d">fetchAssoc</a>($sql, $bind = array())
<a name="l00744"></a>00744     {
<a name="l00745"></a>00745         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, $bind);
<a name="l00746"></a>00746         $data = array();
<a name="l00747"></a>00747         <span class="keywordflow">while</span> ($row = $stmt-&gt;fetch(Zend_Db::FETCH_ASSOC)) {
<a name="l00748"></a>00748             $tmp = array_values(array_slice($row, 0, 1));
<a name="l00749"></a>00749             $data[$tmp[0]] = $row;
<a name="l00750"></a>00750         }
<a name="l00751"></a>00751         <span class="keywordflow">return</span> $data;
<a name="l00752"></a>00752     }
<a name="l00753"></a>00753 
<a name="l00763"></a><a class="code" href="class_zend___db___adapter___abstract.html#a0925695a8db651ff48e0c64bdf92f482">00763</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a0925695a8db651ff48e0c64bdf92f482">fetchCol</a>($sql, $bind = array())
<a name="l00764"></a>00764     {
<a name="l00765"></a>00765         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, $bind);
<a name="l00766"></a>00766         $result = $stmt-&gt;fetchAll(Zend_Db::FETCH_COLUMN, 0);
<a name="l00767"></a>00767         <span class="keywordflow">return</span> $result;
<a name="l00768"></a>00768     }
<a name="l00769"></a>00769 
<a name="l00780"></a><a class="code" href="class_zend___db___adapter___abstract.html#a4a314dd31289f495d672c3237c373772">00780</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a4a314dd31289f495d672c3237c373772">fetchPairs</a>($sql, $bind = array())
<a name="l00781"></a>00781     {
<a name="l00782"></a>00782         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, $bind);
<a name="l00783"></a>00783         $data = array();
<a name="l00784"></a>00784         <span class="keywordflow">while</span> ($row = $stmt-&gt;fetch(Zend_Db::FETCH_NUM)) {
<a name="l00785"></a>00785             $data[$row[0]] = $row[1];
<a name="l00786"></a>00786         }
<a name="l00787"></a>00787         <span class="keywordflow">return</span> $data;
<a name="l00788"></a>00788     }
<a name="l00789"></a>00789 
<a name="l00797"></a><a class="code" href="class_zend___db___adapter___abstract.html#a8cc8115e071a7c1dbbe622fc215daec7">00797</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a8cc8115e071a7c1dbbe622fc215daec7">fetchOne</a>($sql, $bind = array())
<a name="l00798"></a>00798     {
<a name="l00799"></a>00799         $stmt = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a0ab4447e4f026ef4f4c9087eb77a6f00">query</a>($sql, $bind);
<a name="l00800"></a>00800         $result = $stmt-&gt;fetchColumn(0);
<a name="l00801"></a>00801         <span class="keywordflow">return</span> $result;
<a name="l00802"></a>00802     }
<a name="l00803"></a>00803 
<a name="l00810"></a><a class="code" href="class_zend___db___adapter___abstract.html#a5f242c2d18640ed331360cf0bc4bda96">00810</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a5f242c2d18640ed331360cf0bc4bda96">_quote</a>($value)
<a name="l00811"></a>00811     {
<a name="l00812"></a>00812         <span class="keywordflow">if</span> (is_int($value)) {
<a name="l00813"></a>00813             <span class="keywordflow">return</span> $value;
<a name="l00814"></a>00814         } elseif (is_float($value)) {
<a name="l00815"></a>00815             <span class="keywordflow">return</span> sprintf(<span class="stringliteral">&#39;%F&#39;</span>, $value);
<a name="l00816"></a>00816         }
<a name="l00817"></a>00817         <span class="keywordflow">return</span> <span class="stringliteral">&quot;&#39;&quot;</span> . addcslashes($value, <span class="stringliteral">&quot;\000\n\r\\&#39;\&quot;\032&quot;</span>) . <span class="stringliteral">&quot;&#39;&quot;</span>;
<a name="l00818"></a>00818     }
<a name="l00819"></a>00819 
<a name="l00830"></a><a class="code" href="class_zend___db___adapter___abstract.html#a1dacf01d9ea311e15ebdef97a8279c82">00830</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a1dacf01d9ea311e15ebdef97a8279c82">quote</a>($value, $type = null)
<a name="l00831"></a>00831     {
<a name="l00832"></a>00832         $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a056510893d19074b6d9138db970a8843">_connect</a>();
<a name="l00833"></a>00833 
<a name="l00834"></a>00834         <span class="keywordflow">if</span> ($value instanceof <a class="code" href="class_zend___db___select.html">Zend_Db_Select</a>) {
<a name="l00835"></a>00835             <span class="keywordflow">return</span> <span class="charliteral">&#39;(&#39;</span> . $value-&gt;assemble() . <span class="charliteral">&#39;)&#39;</span>;
<a name="l00836"></a>00836         }
<a name="l00837"></a>00837 
<a name="l00838"></a>00838         <span class="keywordflow">if</span> ($value instanceof <a class="code" href="class_zend___db___expr.html">Zend_Db_Expr</a>) {
<a name="l00839"></a>00839             <span class="keywordflow">return</span> $value-&gt;__toString();
<a name="l00840"></a>00840         }
<a name="l00841"></a>00841 
<a name="l00842"></a>00842         <span class="keywordflow">if</span> (is_array($value)) {
<a name="l00843"></a>00843             <span class="keywordflow">foreach</span> ($value as &amp;$val) {
<a name="l00844"></a>00844                 $val = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a1dacf01d9ea311e15ebdef97a8279c82">quote</a>($val, $type);
<a name="l00845"></a>00845             }
<a name="l00846"></a>00846             <span class="keywordflow">return</span> implode(<span class="stringliteral">&#39;, &#39;</span>, $value);
<a name="l00847"></a>00847         }
<a name="l00848"></a>00848 
<a name="l00849"></a>00849         <span class="keywordflow">if</span> ($type !== null &amp;&amp; array_key_exists($type = strtoupper($type), $this-&gt;_numericDataTypes)) {
<a name="l00850"></a>00850             $quotedValue = <span class="charliteral">&#39;0&#39;</span>;
<a name="l00851"></a>00851             <span class="keywordflow">switch</span> ($this-&gt;_numericDataTypes[$type]) {
<a name="l00852"></a>00852                 <span class="keywordflow">case</span> <a class="code" href="class_zend___db.html#affecef211960acad23a2b28b618b207c">Zend_Db::INT_TYPE</a>: <span class="comment">// 32-bit integer</span>
<a name="l00853"></a>00853                     $quotedValue = (string) intval($value);
<a name="l00854"></a>00854                     <span class="keywordflow">break</span>;
<a name="l00855"></a>00855                 <span class="keywordflow">case</span> Zend_Db::BIGINT_TYPE: <span class="comment">// 64-bit integer</span>
<a name="l00856"></a>00856                     <span class="comment">// ANSI SQL-style hex literals (e.g. x&#39;[\dA-F]+&#39;)</span>
<a name="l00857"></a>00857                     <span class="comment">// are not supported here, because these are string</span>
<a name="l00858"></a>00858                     <span class="comment">// literals, not numeric literals.</span>
<a name="l00859"></a>00859                     <span class="keywordflow">if</span> (preg_match(<span class="stringliteral">&#39;/^(</span>
<a name="l00860"></a>00860 <span class="stringliteral">                          [+-]?                  # optional sign</span>
<a name="l00861"></a>00861 <span class="stringliteral">                          (?:</span>
<a name="l00862"></a>00862 <span class="stringliteral">                            0[Xx][\da-fA-F]+     # ODBC-style hexadecimal</span>
<a name="l00863"></a>00863 <span class="stringliteral">                            |\d+                 # decimal or octal, or MySQL ZEROFILL decimal</span>
<a name="l00864"></a>00864 <span class="stringliteral">                            (?:[eE][+-]?\d+)?    # optional exponent on decimals or octals</span>
<a name="l00865"></a>00865 <span class="stringliteral">                          )</span>
<a name="l00866"></a>00866 <span class="stringliteral">                        )/x&#39;</span>,
<a name="l00867"></a>00867                         (<span class="keywordtype">string</span>) $value, $matches)) {
<a name="l00868"></a>00868                         $quotedValue = $matches[1];
<a name="l00869"></a>00869                     }
<a name="l00870"></a>00870                     <span class="keywordflow">break</span>;
<a name="l00871"></a>00871                 <span class="keywordflow">case</span> Zend_Db::FLOAT_TYPE: <span class="comment">// float or decimal</span>
<a name="l00872"></a>00872                     $quotedValue = sprintf(<span class="stringliteral">&#39;%F&#39;</span>, $value);
<a name="l00873"></a>00873             }
<a name="l00874"></a>00874             <span class="keywordflow">return</span> $quotedValue;
<a name="l00875"></a>00875         }
<a name="l00876"></a>00876 
<a name="l00877"></a>00877         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a5f242c2d18640ed331360cf0bc4bda96">_quote</a>($value);
<a name="l00878"></a>00878     }
<a name="l00879"></a>00879 
<a name="l00899"></a><a class="code" href="class_zend___db___adapter___abstract.html#a0beadbb972e664d0970c63dc3246b6ba">00899</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a0beadbb972e664d0970c63dc3246b6ba">quoteInto</a>($text, $value, $type = null, $count = null)
<a name="l00900"></a>00900     {
<a name="l00901"></a>00901         <span class="keywordflow">if</span> ($count === null) {
<a name="l00902"></a>00902             <span class="keywordflow">return</span> str_replace(<span class="charliteral">&#39;?&#39;</span>, $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a1dacf01d9ea311e15ebdef97a8279c82">quote</a>($value, $type), $text);
<a name="l00903"></a>00903         } <span class="keywordflow">else</span> {
<a name="l00904"></a>00904             <span class="keywordflow">while</span> ($count &gt; 0) {
<a name="l00905"></a>00905                 <span class="keywordflow">if</span> (strpos($text, <span class="charliteral">&#39;?&#39;</span>) !== <span class="keyword">false</span>) {
<a name="l00906"></a>00906                     $text = substr_replace($text, $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a1dacf01d9ea311e15ebdef97a8279c82">quote</a>($value, $type), strpos($text, <span class="charliteral">&#39;?&#39;</span>), 1);
<a name="l00907"></a>00907                 }
<a name="l00908"></a>00908                 --$count;
<a name="l00909"></a>00909             }
<a name="l00910"></a>00910             <span class="keywordflow">return</span> $text;
<a name="l00911"></a>00911         }
<a name="l00912"></a>00912     }
<a name="l00913"></a>00913 
<a name="l00936"></a><a class="code" href="class_zend___db___adapter___abstract.html#a251c08713c7cc7b6def84fe31aea2141">00936</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a251c08713c7cc7b6def84fe31aea2141">quoteIdentifier</a>($ident, $auto=<span class="keyword">false</span>)
<a name="l00937"></a>00937     {
<a name="l00938"></a>00938         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#aaaa30cdf0d1bdf09389935a09e74d674">_quoteIdentifierAs</a>($ident, null, $auto);
<a name="l00939"></a>00939     }
<a name="l00940"></a>00940 
<a name="l00949"></a><a class="code" href="class_zend___db___adapter___abstract.html#abecede26f8d3dfcd7979dd2612b205a5">00949</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#abecede26f8d3dfcd7979dd2612b205a5">quoteColumnAs</a>($ident, $alias, $auto=<span class="keyword">false</span>)
<a name="l00950"></a>00950     {
<a name="l00951"></a>00951         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#aaaa30cdf0d1bdf09389935a09e74d674">_quoteIdentifierAs</a>($ident, $alias, $auto);
<a name="l00952"></a>00952     }
<a name="l00953"></a>00953 
<a name="l00962"></a><a class="code" href="class_zend___db___adapter___abstract.html#ab2ab47f9ab98fd48ee2a55799c85e529">00962</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#ab2ab47f9ab98fd48ee2a55799c85e529">quoteTableAs</a>($ident, $alias = null, $auto = <span class="keyword">false</span>)
<a name="l00963"></a>00963     {
<a name="l00964"></a>00964         <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#aaaa30cdf0d1bdf09389935a09e74d674">_quoteIdentifierAs</a>($ident, $alias, $auto);
<a name="l00965"></a>00965     }
<a name="l00966"></a>00966 
<a name="l00976"></a><a class="code" href="class_zend___db___adapter___abstract.html#aaaa30cdf0d1bdf09389935a09e74d674">00976</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#aaaa30cdf0d1bdf09389935a09e74d674">_quoteIdentifierAs</a>($ident, $alias = null, $auto = <span class="keyword">false</span>, $as = <span class="stringliteral">&#39; AS &#39;</span>)
<a name="l00977"></a>00977     {
<a name="l00978"></a>00978         <span class="keywordflow">if</span> ($ident instanceof <a class="code" href="class_zend___db___expr.html">Zend_Db_Expr</a>) {
<a name="l00979"></a>00979             $quoted = $ident-&gt;__toString();
<a name="l00980"></a>00980         } elseif ($ident instanceof <a class="code" href="class_zend___db___select.html">Zend_Db_Select</a>) {
<a name="l00981"></a>00981             $quoted = <span class="charliteral">&#39;(&#39;</span> . $ident-&gt;assemble() . <span class="charliteral">&#39;)&#39;</span>;
<a name="l00982"></a>00982         } <span class="keywordflow">else</span> {
<a name="l00983"></a>00983             <span class="keywordflow">if</span> (is_string($ident)) {
<a name="l00984"></a>00984                 $ident = explode(<span class="charliteral">&#39;.&#39;</span>, $ident);
<a name="l00985"></a>00985             }
<a name="l00986"></a>00986             <span class="keywordflow">if</span> (is_array($ident)) {
<a name="l00987"></a>00987                 $segments = array();
<a name="l00988"></a>00988                 <span class="keywordflow">foreach</span> ($ident as $segment) {
<a name="l00989"></a>00989                     <span class="keywordflow">if</span> ($segment instanceof Zend_Db_Expr) {
<a name="l00990"></a>00990                         $segments[] = $segment-&gt;__toString();
<a name="l00991"></a>00991                     } <span class="keywordflow">else</span> {
<a name="l00992"></a>00992                         $segments[] = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a3fc43fbf6db8f82609bb46185073ab84">_quoteIdentifier</a>($segment, $auto);
<a name="l00993"></a>00993                     }
<a name="l00994"></a>00994                 }
<a name="l00995"></a>00995                 <span class="keywordflow">if</span> ($alias !== null &amp;&amp; end($ident) == $alias) {
<a name="l00996"></a>00996                     $alias = null;
<a name="l00997"></a>00997                 }
<a name="l00998"></a>00998                 $quoted = implode(<span class="charliteral">&#39;.&#39;</span>, $segments);
<a name="l00999"></a>00999             } <span class="keywordflow">else</span> {
<a name="l01000"></a>01000                 $quoted = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a3fc43fbf6db8f82609bb46185073ab84">_quoteIdentifier</a>($ident, $auto);
<a name="l01001"></a>01001             }
<a name="l01002"></a>01002         }
<a name="l01003"></a>01003         <span class="keywordflow">if</span> ($alias !== null) {
<a name="l01004"></a>01004             $quoted .= $as . $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a3fc43fbf6db8f82609bb46185073ab84">_quoteIdentifier</a>($alias, $auto);
<a name="l01005"></a>01005         }
<a name="l01006"></a>01006         <span class="keywordflow">return</span> $quoted;
<a name="l01007"></a>01007     }
<a name="l01008"></a>01008 
<a name="l01016"></a><a class="code" href="class_zend___db___adapter___abstract.html#a3fc43fbf6db8f82609bb46185073ab84">01016</a>     <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a3fc43fbf6db8f82609bb46185073ab84">_quoteIdentifier</a>($value, $auto=<span class="keyword">false</span>)
<a name="l01017"></a>01017     {
<a name="l01018"></a>01018         <span class="keywordflow">if</span> ($auto === <span class="keyword">false</span> || $this-&gt;_autoQuoteIdentifiers === <span class="keyword">true</span>) {
<a name="l01019"></a>01019             $q = $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#a177b44fc2918c4333031e42aca566f69">getQuoteIdentifierSymbol</a>();
<a name="l01020"></a>01020             <span class="keywordflow">return</span> ($q . str_replace(<span class="stringliteral">&quot;$q&quot;</span>, <span class="stringliteral">&quot;$q$q&quot;</span>, $value) . $q);
<a name="l01021"></a>01021         }
<a name="l01022"></a>01022         <span class="keywordflow">return</span> $value;
<a name="l01023"></a>01023     }
<a name="l01024"></a>01024 
<a name="l01030"></a><a class="code" href="class_zend___db___adapter___abstract.html#a177b44fc2918c4333031e42aca566f69">01030</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a177b44fc2918c4333031e42aca566f69">getQuoteIdentifierSymbol</a>()
<a name="l01031"></a>01031     {
<a name="l01032"></a>01032         <span class="keywordflow">return</span> <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l01033"></a>01033     }
<a name="l01034"></a>01034 
<a name="l01043"></a><a class="code" href="class_zend___db___adapter___abstract.html#a677a4a3a74151c7319a926c9953d7ba0">01043</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a677a4a3a74151c7319a926c9953d7ba0">lastSequenceId</a>($sequenceName)
<a name="l01044"></a>01044     {
<a name="l01045"></a>01045         <span class="keywordflow">return</span> null;
<a name="l01046"></a>01046     }
<a name="l01047"></a>01047 
<a name="l01056"></a><a class="code" href="class_zend___db___adapter___abstract.html#aada1f1f761da6bb9b168863f0291f9f9">01056</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#aada1f1f761da6bb9b168863f0291f9f9">nextSequenceId</a>($sequenceName)
<a name="l01057"></a>01057     {
<a name="l01058"></a>01058         <span class="keywordflow">return</span> null;
<a name="l01059"></a>01059     }
<a name="l01060"></a>01060 
<a name="l01073"></a><a class="code" href="class_zend___db___adapter___abstract.html#ab89af22178ef3b9eb869db019c757203">01073</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#ab89af22178ef3b9eb869db019c757203">foldCase</a>($key)
<a name="l01074"></a>01074     {
<a name="l01075"></a>01075         <span class="keywordflow">switch</span> ($this-&gt;_caseFolding) {
<a name="l01076"></a>01076             <span class="keywordflow">case</span> Zend_Db::CASE_LOWER:
<a name="l01077"></a>01077                 $value = strtolower((<span class="keywordtype">string</span>) $key);
<a name="l01078"></a>01078                 <span class="keywordflow">break</span>;
<a name="l01079"></a>01079             <span class="keywordflow">case</span> Zend_Db::CASE_UPPER:
<a name="l01080"></a>01080                 $value = strtoupper((<span class="keywordtype">string</span>) $key);
<a name="l01081"></a>01081                 <span class="keywordflow">break</span>;
<a name="l01082"></a>01082             <span class="keywordflow">case</span> Zend_Db::CASE_NATURAL:
<a name="l01083"></a>01083             <span class="keywordflow">default</span>:
<a name="l01084"></a>01084                 $value = (string) $key;
<a name="l01085"></a>01085         }
<a name="l01086"></a>01086         <span class="keywordflow">return</span> $value;
<a name="l01087"></a>01087     }
<a name="l01088"></a>01088 
<a name="l01096"></a><a class="code" href="class_zend___db___adapter___abstract.html#aaf11785905da71774e052912d784e3b4">01096</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#aaf11785905da71774e052912d784e3b4">__sleep</a>()
<a name="l01097"></a>01097     {
<a name="l01098"></a>01098         <span class="keywordflow">if</span> ($this-&gt;_allowSerialization == <span class="keyword">false</span>) {
<a name="l01100"></a>01100             require_once <span class="stringliteral">&#39;Zend/Db/Adapter/Exception.php&#39;</span>;
<a name="l01101"></a>01101             <span class="keywordflow">throw</span> <span class="keyword">new</span> <a class="code" href="class_zend___db___adapter___exception.html">Zend_Db_Adapter_Exception</a>(get_class($this) .<span class="stringliteral">&quot; is not allowed to be serialized&quot;</span>);
<a name="l01102"></a>01102         }
<a name="l01103"></a>01103         $this-&gt;_connection = <span class="keyword">false</span>;
<a name="l01104"></a>01104         <span class="keywordflow">return</span> array_keys(array_diff_key(get_object_vars($this), array(<span class="stringliteral">&#39;_connection&#39;</span>=&gt;<span class="keyword">false</span>)));
<a name="l01105"></a>01105     }
<a name="l01106"></a>01106 
<a name="l01112"></a><a class="code" href="class_zend___db___adapter___abstract.html#a19dd44fe063cfd1cbafe97452e57666c">01112</a>     <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a19dd44fe063cfd1cbafe97452e57666c">__wakeup</a>()
<a name="l01113"></a>01113     {
<a name="l01114"></a>01114         <span class="keywordflow">if</span> ($this-&gt;_autoReconnectOnUnserialize == <span class="keyword">true</span>) {
<a name="l01115"></a>01115             $this-&gt;<a class="code" href="class_zend___db___adapter___abstract.html#ab7a0a080d0e721c656eef11cd641638b">getConnection</a>();
<a name="l01116"></a>01116         }
<a name="l01117"></a>01117     }
<a name="l01118"></a>01118 
<a name="l01128"></a>01128     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a0b89d51988f2b14063a1f8e0c163debf">listTables</a>();
<a name="l01129"></a>01129 
<a name="l01157"></a>01157     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a288cab0fb3686d239023c937a03b5b6f">describeTable</a>($tableName, $schemaName = null);
<a name="l01158"></a>01158 
<a name="l01164"></a>01164     <span class="keyword">abstract</span> <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a056510893d19074b6d9138db970a8843">_connect</a>();
<a name="l01165"></a>01165 
<a name="l01171"></a>01171     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#af160f7fbbf281d018ae3162521b8267d">isConnected</a>();
<a name="l01172"></a>01172 
<a name="l01178"></a>01178     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a2decfe3602a5b089088ffd97bb6e6841">closeConnection</a>();
<a name="l01179"></a>01179 
<a name="l01186"></a>01186     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a33cccb936edee27a1e17189105dd021c">prepare</a>($sql);
<a name="l01187"></a>01187 
<a name="l01202"></a>01202     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a54dc34c86d9a7deca9c7b88a6107adad">lastInsertId</a>($tableName = null, $primaryKey = null);
<a name="l01203"></a>01203 
<a name="l01207"></a>01207     <span class="keyword">abstract</span> <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#afdb24c1d71bb26311e8c66b479af1b8a">_beginTransaction</a>();
<a name="l01208"></a>01208 
<a name="l01212"></a>01212     <span class="keyword">abstract</span> <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a7b56e3efd348cd6014c8ad7694a951fd">_commit</a>();
<a name="l01213"></a>01213 
<a name="l01217"></a>01217     <span class="keyword">abstract</span> <span class="keyword">protected</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a902e8f39084ade8cacd541700b322659">_rollBack</a>();
<a name="l01218"></a>01218 
<a name="l01226"></a>01226     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a4b9656d6a7e39776b44c1a930704b743">setFetchMode</a>($mode);
<a name="l01227"></a>01227 
<a name="l01236"></a>01236     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#aad2efb060c4bfe653662bd962e17ef46">limit</a>($sql, $count, $offset = 0);
<a name="l01237"></a>01237 
<a name="l01244"></a>01244     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#ab52f66eccf8ed211b09521fc74b1623d">supportsParameters</a>($type);
<a name="l01245"></a>01245 
<a name="l01251"></a>01251     <span class="keyword">abstract</span> <span class="keyword">public</span> function <a class="code" href="class_zend___db___adapter___abstract.html#a2d047b148eb053baba2150cc7d5d9545">getServerVersion</a>();
<a name="l01252"></a>01252 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Apr 19 2012 17:01:17 for openbiz by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
