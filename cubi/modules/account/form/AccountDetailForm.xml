<?xml version="1.0" encoding="UTF-8"?>
<EasyForm Name="AccountDetailForm" 
			Class="EasyForm" 
			FormType="Detail" 
			jsClass="Openbiz.Form" 
			Icon="{RESOURCE_URL}/account/images/icon_mod_account_detail.png"
			Title="CRM Account Detail" 
			Description="Account Description" 
			BizDataObj="account..do.AccountDO" 
			TemplateEngine="Smarty" 
			TemplateFile="form_detail_adv_custom.tpl.html" 
			MessageFile="Account.ini" 
			Access="account.Access">
    <DataPanel>
	    
		<Element Name="fld_form_title"  
					Class="LabelText"   
					FieldName="name" 
					Label="" 
					Width="500" 
					style="font-size:24px;color:#333333;line-height:24px;" 
					AllowURLParam="N" />
		<Element Name="fld_color" 
					Class="Hidden" 
					Hidden="Y" 
					FieldName="type_color" 
					Label="Type"  
					Sortable="Y" 
					AllowURLParam="N" 
					Translatable="N" 
					OnEventLog="N" />
		<Element Name="fld_form_description"  
					BackgroundColor="{@:Elem[fld_color].Value}" 
					Width="648" 
					Class="LabelText" 
					FieldName="type_name" 
					Label="" 
					KeepCookie="Y" 
					SelectFrom="account..do.AccountTypeDO[name:Id:color]" 
					AllowURLParam="N" />					

        				         				  				      				
        				         				  				      				
        				         				  				      				
        				         				  				      				
        				         				  				      				
       	<Element Name="fld_Id" 
       				Class="LabelText" 
       				ElementSet="General"
       				Hidden="Y" 
       				FieldName="Id" 
       				Label="Id"  
       				AllowURLParam="Y"/>  
        				         				  				      				
        				         				  				      				
        				         				  				      				
        				         				  				      				
       	<Element Name="fld_type_id" 
       				Class="LabelText" 
       				ElementSet="General"
       				Hidden="Y" 
       				FieldName="type_id" 
       				Label="Type"  
       				AllowURLParam="N"/>     
        				         				  				      				
        				         				  				      				
       	<Element Name="fld_description" 
       				ElementSet="General"
       				Class="LabelTextarea" 
       				FieldName="description" 
       				Label="Description" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_phone" 
       				ElementSet="General"
       				Class="LabelText" 
       				FieldName="phone" 
       				Label="Phone" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_fax" 
       				ElementSet="Additional"
       				Class="LabelText" 
       				FieldName="fax" 
       				Label="Fax" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_website" 
       				ElementSet="Additional"
       				Class="LabelText" 
       				FieldName="website" 
       				Label="Website" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_industry_id" 
       				ElementSet="Additional"
       				Class="LabelText" 
       				FieldName="industry_id" 
       				Label="Industry" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_employee" 
       				ElementSet="Additional"
       				Class="LabelText" 
       				FieldName="employee" 
       				Label="Employee" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_annual_revenue" 
       				ElementSet="Annual"
       				Class="LabelText" 
       				FieldName="annual_revenue" 
       				Label="Revenue" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_billing_country" 
       				ElementSet="Billing"
       				Class="LabelText" 
       				FieldName="billing_country" 
       				Label="Country" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_billing_zip" 
       				ElementSet="Billing"
       				Class="LabelText" 
       				FieldName="billing_zip" 
       				Label="Zip" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_billing_state" 
       				ElementSet="Billing"
       				Class="LabelText" 
       				FieldName="billing_state" 
       				Label="State" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_billing_city" 
       				ElementSet="Billing"
       				Class="LabelText" 
       				FieldName="billing_city" 
       				Label="City" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_billing_street" 
       				ElementSet="Billing"
       				Class="LabelText" 
       				FieldName="billing_street" 
       				Label="Street" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_shipping_country" 
       				ElementSet="Shipping"
       				Class="LabelText" 
       				FieldName="shipping_country" 
       				Label="Country" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_shipping_zip" 
       				ElementSet="Shipping"
       				Class="LabelText" 
       				FieldName="shipping_zip" 
       				Label="Zip" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_shipping_state" 
       				ElementSet="Shipping"
       				Class="LabelText" 
       				FieldName="shipping_state" 
       				Label="State" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_shipping_city" 
       				ElementSet="Shipping"
       				Class="LabelText" 
       				FieldName="shipping_city" 
       				Label="City" 
       				AllowURLParam="N"
					/>
        				         				  				      				
       	<Element Name="fld_shipping_street" 
       				ElementSet="Shipping"
       				Class="LabelText" 
       				FieldName="shipping_street" 
       				Label="Street" 
       				AllowURLParam="N"
					/>
        				         				  				      				
	
		<Element Name="fld_extend_fields"   
					ElementSet="Extend Fields" 
					Class="FormElement" 
					FormReference="extend.widget.ExtendDataDetailForm" 
					FieldName="extend" 
					Label="" 
					AllowURLParam="N" />

		<Element Name="fld_related_attachment" 
				TabSet="Extra Information"  
				Access="attachment.access"   
				ElementSet="Attachment" 
				Class="FormElement" 
				FormReference="attachment.widget.AttachmentListDetailForm" 
				FieldName="" 
				Label="" 
				AllowURLParam="N" />
		<Element Name="btn_manage_attachment" 
				TabSet="Extra Information"  
				Access="attachment.access" 
				Hidden="{@:m_CanUpdateRecord=='1'?'N':'Y'}" 
				ElementSet="Attachment"  
				Style="color:#666666;margin-left:5px;margin-top:2px;"  
				Class="Button" 
				Text="Manage" 
				CssClass="button_gray_w" 
				Description="">
			<EventHandler Name="btn_manage_attachment_onclick" 
						Event="onclick" 
						Function="SwitchForm(account..form.AccountEditAttachmentForm,{@:Elem[fld_Id].Value})"   />
        </Element>  
   
     
         <Element Name="fld_related_picture" 
         		TabSet="Extra Information"  
         		Access="picture.access" 
         		ElementSet="Picture" 
         		Class="FormElement" 
         		FormReference="picture.widget.PictureListDetailForm" 
         		FieldName="" 
         		Label="" 
         		AllowURLParam="N" />
		<Element Name="btn_manage_picture" 
				TabSet="Extra Information"  
				Access="picture.access" 
				Hidden="{@:m_CanUpdateRecord=='1'?'N':'Y'}" 
				ElementSet="Picture"  
				Style="color:#666666;margin-left:5px;margin-top:2px;"  
				Class="Button" 
				Text="Manage" 
				CssClass="button_gray_w" 
				Description="">
			<EventHandler Name="btn_manage_attachment_onclick" 
						Event="onclick" 
						Function="SwitchForm(account..form.AccountEditPictureForm,{@:Elem[fld_Id].Value})"   />
        </Element>
		<Element Name="fld_locations"  
				Access="location.access" 
				TabSet="Extra Information" 
				ElementSet="Locations" 
				Class="FormElement" 
				FormReference="location.widget.LocationListDetailForm" 
				FieldName="" 
				Label="" 
				AllowURLParam="N" />
		<Element Name="btn_manage_locations"  
				Access="location.access" 
				TabSet="Extra Information" 
				Hidden="{@:m_CanUpdateRecord=='1'?'N':'Y'}" 
				ElementSet="Locations" 
				Style="color:#666666;margin-left:5px;margin-top:2px;"  
				Class="Button" 
				Text="Manage" 
				CssClass="button_gray_w" 
				Description="">
			<EventHandler Name="btn_manage_location_onclick" 
						Event="onclick" 
						Function="SwitchForm(account..form.AccountEditLocationForm,{@:Elem[fld_Id].Value})"   />
       	</Element> 
		<Element Name="fld_related_data" 
				TabSet="Related Data"   
				ElementSet="Document" 
				Class="FormElement" 
				FormReference="account..widget.AccountListWidgetForm" 
				FieldName="" 
				Label="" 
				AllowURLParam="N" />
	    <Element Name="btn_manage_related" 
	    		TabSet="Related Data" 
	    		Hidden="{@:m_CanUpdateRecord=='1'?'N':'Y'}" 
	    		ElementSet="Document" 
	    		Style="color:#666666;margin-left:5px;margin-top:2px;"  
	    		Class="Button" 
	    		Text="Manage" 
	    		CssClass="button_gray_w" 
	    		Description="">
			<EventHandler Name="btn_manage_related_onclick"
						 Event="onclick" 
						 Function="SwitchForm(account..form.AccountEditRelatedForm,{@:Elem[fld_Id].Value})"   />
       	</Element>	
		<Element Name="fld_changelog" 
				TabSet="Extra Information"  
				Access="changelog.access"   
				ElementSet="Change Log" 
				Class="FormElement" 
				FormReference="changelog.widget.ChangeLogWidgetForm" 
				FieldName="" 
				Label="" 
				AllowURLParam="N" />

       	<Element Name="fld_create_by" 
       				Class="LabelText" 
       				ElementSet="Misc" 
       				FieldName="create_by" 
       				Label="Create By" 
       				Text="{BizSystem::GetProfileName(@:Elem[fld_create_by].Value)}" 
       				AllowURLParam="N"
       				TabSet="Extra Information" />  
       				   	
       	<Element Name="fld_update_time" 
       				Class="LabelText" 
       				ElementSet="Misc" 
       				FieldName="update_time" 
       				Label="Update Time"  
       				AllowURLParam="N"
       				TabSet="Extra Information" />       	

					
       	<Element Name="fld_create_time" 
       				Class="LabelText" 
       				ElementSet="Misc" 
       				FieldName="create_time" 
       				Label="Create Time"  
       				AllowURLParam="N"
       				TabSet="Extra Information" />       	

					
       	<Element Name="fld_update_by" 
       				Class="LabelText" 
       				ElementSet="Misc" 
       				FieldName="update_by" 
       				Label="Update By" 
       				Text="{BizSystem::GetProfileName(@:Elem[fld_update_by].Value)}" 
       				AllowURLParam="N"
       				TabSet="Extra Information" />  
       				   	
    </DataPanel>
    <ActionPanel>  
    	  
    	 <Element Name="btn_share" 
    	 			Hidden="{@:m_CanUpdateRecord=='1'?'N':'Y'}" 
    	 			Class="Button"   
    	 			Text="Share" 
    	 			CssClass="button_gray_share" 
    	 			Description="Share">
			<EventHandler Name="btn_update_onclick" 
							Event="onclick" 
							Function="LoadDialog(common.form.DataSharingForm,{@:Elem[fld_Id].Value})" />
        </Element>  
        <Element Name="btn_spacer_for_share" 
	        		Hidden="{@:m_CanUpdateRecord=='1'?'N':'Y'}" 
	        		Class="Spacer" 
	        		Width="10" />
    	  
    	
        <Element Name="btn_new" 
        			Class="Button" 
        			Text="Add" 
        			CssClass="button_gray_add" 
        			Description="New record (Insert)">
			<EventHandler Name="btn_new_onclick" 
							Event="onclick" 
							Function="SwitchForm(account..form.AccountNewForm)"  
							ShortcutKey="Insert" 
							ContextMenu="New" />
        </Element>          
        <Element Name="btn_edit" 
        			Class="Button" 
        			Text="Edit" 
        			CssClass="button_gray_m" 
        			Description="Edit record (Ctrl+E)">
			<EventHandler Name="btn_new_onclick" 
							Event="onclick" 
							Function="SwitchForm(account..form.AccountEditForm,{@:Elem[fld_Id].Value})"  
							ShortcutKey="Ctrl+E" 
							ContextMenu="Edit" />
        </Element>
		<Element Name="btn_copy" 
					Class="Button" 
					Text="Copy" 
					CssClass="button_gray_m" 
					Description="Copy record (Ctrl+C)">
            <EventHandler Name="onclick" 
            				Event="onclick" 
            				EventLogMsg="" 
            				Function="CopyRecord({@:Elem[fld_Id].Value})" 
            				RedirectPage="form=account..form.AccountCopyForm&amp;fld:Id={@:Elem[fld_Id].Value}" 
            				ShortcutKey="Ctrl+C" 
            				ContextMenu="Copy"/>
        </Element> 
        <Element Name="btn_delete" 
        			Class="Button" 
        			Text="Delete" 
        			CssClass="button_gray_m" 
        			Description="Delete record (Delete)">
            <EventHandler Name="del_onclick" 
            				Event="onclick" 
            				EventLogMsg="" 
            				Function="DeleteRecord({@:Elem[fld_Id].Value})"  
            				RedirectPage="{APP_INDEX}/account/account_manage" 
            				ShortcutKey="Ctrl+Delete" 
            				ContextMenu="Delete" />
        </Element>
        <Element Name="btn_cancel" 
        			Class="LabelBack" 
        			Text="Back" 
        			CssClass="button_gray_m"
        			Link="account/account_manage" />        
    </ActionPanel> 
    <NavPanel>
    </NavPanel> 
    <SearchPanel>
    </SearchPanel>
</EasyForm>